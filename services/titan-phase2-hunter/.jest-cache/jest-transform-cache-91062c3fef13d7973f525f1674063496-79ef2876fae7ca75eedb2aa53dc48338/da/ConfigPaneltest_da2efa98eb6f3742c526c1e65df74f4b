419d3ddf73bd2b922e3e38ef312119df
"use strict";
/**
 * ConfigPanel Component Tests
 * Tests for the F1 configuration modal overlay
 *
 * Requirements: 18.1-18.8 (Runtime Configuration)
 */
Object.defineProperty(exports, "__esModule", { value: true });
describe('ConfigPanel Component', () => {
    const mockConfig = {
        alignmentWeights: {
            daily: 50,
            h4: 30,
            m15: 20
        },
        rsConfig: {
            threshold: 2.0,
            lookbackPeriod: 4.0
        },
        riskConfig: {
            maxLeverage: 4.0,
            stopLossPercent: 1.5,
            targetPercent: 4.5
        },
        portfolioConfig: {
            maxConcurrentPositions: 5,
            maxPortfolioHeat: 15.0,
            correlationThreshold: 0.7
        },
        forwardTestConfig: {
            enabled: false,
            duration: 24,
            logSignalsOnly: false,
            compareToBacktest: false
        },
        version: 1,
        lastModified: Date.now()
    };
    const mockOnSave = jest.fn();
    const mockOnCancel = jest.fn();
    beforeEach(() => {
        jest.clearAllMocks();
    });
    describe('Configuration Validation', () => {
        it('should validate alignment weights sum to 100%', () => {
            const total = mockConfig.alignmentWeights.daily +
                mockConfig.alignmentWeights.h4 +
                mockConfig.alignmentWeights.m15;
            expect(total).toBe(100);
        });
        it('should calculate correct R:R ratio', () => {
            const rrRatio = mockConfig.riskConfig.targetPercent / mockConfig.riskConfig.stopLossPercent;
            expect(rrRatio).toBe(3.0); // 4.5% / 1.5% = 3:1
        });
        it('should have valid risk parameters', () => {
            expect(mockConfig.riskConfig.maxLeverage).toBeGreaterThanOrEqual(3);
            expect(mockConfig.riskConfig.maxLeverage).toBeLessThanOrEqual(5);
            expect(mockConfig.riskConfig.stopLossPercent).toBeGreaterThanOrEqual(1);
            expect(mockConfig.riskConfig.stopLossPercent).toBeLessThanOrEqual(3);
            expect(mockConfig.riskConfig.targetPercent).toBeGreaterThanOrEqual(3);
            expect(mockConfig.riskConfig.targetPercent).toBeLessThanOrEqual(6);
        });
        it('should have valid portfolio parameters', () => {
            expect(mockConfig.portfolioConfig.maxConcurrentPositions).toBeGreaterThanOrEqual(3);
            expect(mockConfig.portfolioConfig.maxConcurrentPositions).toBeLessThanOrEqual(8);
            expect(mockConfig.portfolioConfig.maxPortfolioHeat).toBeGreaterThanOrEqual(10);
            expect(mockConfig.portfolioConfig.maxPortfolioHeat).toBeLessThanOrEqual(20);
            expect(mockConfig.portfolioConfig.correlationThreshold).toBeGreaterThanOrEqual(0.6);
            expect(mockConfig.portfolioConfig.correlationThreshold).toBeLessThanOrEqual(0.9);
        });
    });
    describe('Configuration Structure', () => {
        it('should have all required alignment weight properties', () => {
            expect(mockConfig.alignmentWeights).toHaveProperty('daily');
            expect(mockConfig.alignmentWeights).toHaveProperty('h4');
            expect(mockConfig.alignmentWeights).toHaveProperty('m15');
        });
        it('should have all required RS config properties', () => {
            expect(mockConfig.rsConfig).toHaveProperty('threshold');
            expect(mockConfig.rsConfig).toHaveProperty('lookbackPeriod');
        });
        it('should have all required risk config properties', () => {
            expect(mockConfig.riskConfig).toHaveProperty('maxLeverage');
            expect(mockConfig.riskConfig).toHaveProperty('stopLossPercent');
            expect(mockConfig.riskConfig).toHaveProperty('targetPercent');
        });
        it('should have all required portfolio config properties', () => {
            expect(mockConfig.portfolioConfig).toHaveProperty('maxConcurrentPositions');
            expect(mockConfig.portfolioConfig).toHaveProperty('maxPortfolioHeat');
            expect(mockConfig.portfolioConfig).toHaveProperty('correlationThreshold');
        });
    });
    describe('Configuration Structure', () => {
        it('should validate hologram state structure', () => {
            const hologramState = {
                dailyBias: 'BULLISH',
                fourHourLocation: 'PREMIUM',
                fifteenMinTrigger: 'VALID',
                alignmentScore: 85
            };
            expect(hologramState).toHaveProperty('dailyBias');
            expect(hologramState).toHaveProperty('fourHourLocation');
            expect(hologramState).toHaveProperty('fifteenMinTrigger');
            expect(hologramState).toHaveProperty('alignmentScore');
            expect(hologramState.alignmentScore).toBeGreaterThan(0);
        });
        it('should validate signal structure', () => {
            const signal = {
                symbol: 'BTCUSDT',
                side: 'Buy',
                confidence: 95,
                entry: 50000,
                stopLoss: 49250,
                takeProfit: 52250
            };
            expect(signal).toHaveProperty('symbol');
            expect(signal).toHaveProperty('side');
            expect(signal).toHaveProperty('confidence');
            expect(signal).toHaveProperty('entry');
            expect(signal).toHaveProperty('stopLoss');
            expect(signal).toHaveProperty('takeProfit');
            expect(signal.confidence).toBeGreaterThan(0);
            expect(signal.confidence).toBeLessThanOrEqual(100);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2l2YW4vQ29kZS90cmFkaW5nL3RpdGFuL3NlcnZpY2VzL3RpdGFuLXBoYXNlMi1odW50ZXIvc3JjL2NvbnNvbGUvQ29uZmlnUGFuZWwudGVzdC50c3giLCJtYXBwaW5ncyI6IjtBQUFBOzs7OztHQUtHOztBQUlILFFBQVEsQ0FBQyx1QkFBdUIsRUFBRSxHQUFHLEVBQUU7SUFDckMsTUFBTSxVQUFVLEdBQWlCO1FBQy9CLGdCQUFnQixFQUFFO1lBQ2hCLEtBQUssRUFBRSxFQUFFO1lBQ1QsRUFBRSxFQUFFLEVBQUU7WUFDTixHQUFHLEVBQUUsRUFBRTtTQUNSO1FBQ0QsUUFBUSxFQUFFO1lBQ1IsU0FBUyxFQUFFLEdBQUc7WUFDZCxjQUFjLEVBQUUsR0FBRztTQUNwQjtRQUNELFVBQVUsRUFBRTtZQUNWLFdBQVcsRUFBRSxHQUFHO1lBQ2hCLGVBQWUsRUFBRSxHQUFHO1lBQ3BCLGFBQWEsRUFBRSxHQUFHO1NBQ25CO1FBQ0QsZUFBZSxFQUFFO1lBQ2Ysc0JBQXNCLEVBQUUsQ0FBQztZQUN6QixnQkFBZ0IsRUFBRSxJQUFJO1lBQ3RCLG9CQUFvQixFQUFFLEdBQUc7U0FDMUI7UUFDRCxpQkFBaUIsRUFBRTtZQUNqQixPQUFPLEVBQUUsS0FBSztZQUNkLFFBQVEsRUFBRSxFQUFFO1lBQ1osY0FBYyxFQUFFLEtBQUs7WUFDckIsaUJBQWlCLEVBQUUsS0FBSztTQUN6QjtRQUNELE9BQU8sRUFBRSxDQUFDO1FBQ1YsWUFBWSxFQUFFLElBQUksQ0FBQyxHQUFHLEVBQUU7S0FDekIsQ0FBQztJQUVGLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQztJQUM3QixNQUFNLFlBQVksR0FBRyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUM7SUFFL0IsVUFBVSxDQUFDLEdBQUcsRUFBRTtRQUNkLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUN2QixDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQywwQkFBMEIsRUFBRSxHQUFHLEVBQUU7UUFDeEMsRUFBRSxDQUFD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LENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM3QyxNQUFNLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3JELENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvaXZhbi9Db2RlL3RyYWRpbmcvdGl0YW4vc2VydmljZXMvdGl0YW4tcGhhc2UyLWh1bnRlci9zcmMvY29uc29sZS9Db25maWdQYW5lbC50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvbmZpZ1BhbmVsIENvbXBvbmVudCBUZXN0c1xuICogVGVzdHMgZm9yIHRoZSBGMSBjb25maWd1cmF0aW9uIG1vZGFsIG92ZXJsYXlcbiAqIFxuICogUmVxdWlyZW1lbnRzOiAxOC4xLTE4LjggKFJ1bnRpbWUgQ29uZmlndXJhdGlvbilcbiAqL1xuXG5pbXBvcnQgeyBQaGFzZTJDb25maWcgfSBmcm9tICcuLi9jb25maWcvQ29uZmlnTWFuYWdlcic7XG5cbmRlc2NyaWJlKCdDb25maWdQYW5lbCBDb21wb25lbnQnLCAoKSA9PiB7XG4gIGNvbnN0IG1vY2tDb25maWc6IFBoYXNlMkNvbmZpZyA9IHtcbiAgICBhbGlnbm1lbnRXZWlnaHRzOiB7XG4gICAgICBkYWlseTogNTAsXG4gICAgICBoNDogMzAsXG4gICAgICBtMTU6IDIwXG4gICAgfSxcbiAgICByc0NvbmZpZzoge1xuICAgICAgdGhyZXNob2xkOiAyLjAsXG4gICAgICBsb29rYmFja1BlcmlvZDogNC4wXG4gICAgfSxcbiAgICByaXNrQ29uZmlnOiB7XG4gICAgICBtYXhMZXZlcmFnZTogNC4wLFxuICAgICAgc3RvcExvc3NQZXJjZW50OiAxLjUsXG4gICAgICB0YXJnZXRQZXJjZW50OiA0LjVcbiAgICB9LFxuICAgIHBvcnRmb2xpb0NvbmZpZzoge1xuICAgICAgbWF4Q29uY3VycmVudFBvc2l0aW9uczogNSxcbiAgICAgIG1heFBvcnRmb2xpb0hlYXQ6IDE1LjAsXG4gICAgICBjb3JyZWxhdGlvblRocmVzaG9sZDogMC43XG4gICAgfSxcbiAgICBmb3J3YXJkVGVzdENvbmZpZzoge1xuICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICBkdXJhdGlvbjogMjQsXG4gICAgICBsb2dTaWduYWxzT25seTogZmFsc2UsXG4gICAgICBjb21wYXJlVG9CYWNrdGVzdDogZmFsc2VcbiAgICB9LFxuICAgIHZlcnNpb246IDEsXG4gICAgbGFzdE1vZGlmaWVkOiBEYXRlLm5vdygpXG4gIH07XG5cbiAgY29uc3QgbW9ja09uU2F2ZSA9IGplc3QuZm4oKTtcbiAgY29uc3QgbW9ja09uQ2FuY2VsID0gamVzdC5mbigpO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ29uZmlndXJhdGlvbiBWYWxpZGF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgYWxpZ25tZW50IHdlaWdodHMgc3VtIHRvIDEwMCUnLCAoKSA9PiB7XG4gICAgICBjb25zdCB0b3RhbCA9IG1vY2tDb25maWcuYWxpZ25tZW50V2VpZ2h0cy5kYWlseSArIFxuICAgICAgICAgICAgICAgICAgIG1vY2tDb25maWcuYWxpZ25tZW50V2VpZ2h0cy5oNCArIFxuICAgICAgICAgICAgICAgICAgIG1vY2tDb25maWcuYWxpZ25tZW50V2VpZ2h0cy5tMTU7XG4gICAgICBcbiAgICAgIGV4cGVjdCh0b3RhbCkudG9CZSgxMDApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgY29ycmVjdCBSOlIgcmF0aW8nLCAoKSA9PiB7XG4gICAgICBjb25zdCByclJhdGlvID0gbW9ja0NvbmZpZy5yaXNrQ29uZmlnLnRhcmdldFBlcmNlbnQgLyBtb2NrQ29uZmlnLnJpc2tDb25maWcuc3RvcExvc3NQZXJjZW50O1xuICAgICAgZXhwZWN0KHJyUmF0aW8pLnRvQmUoMy4wKTsgLy8gNC41JSAvIDEuNSUgPSAzOjFcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSB2YWxpZCByaXNrIHBhcmFtZXRlcnMnLCAoKSA9PiB7XG4gICAgICBleHBlY3QobW9ja0NvbmZpZy5yaXNrQ29uZmlnLm1heExldmVyYWdlKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDMpO1xuICAgICAgZXhwZWN0KG1vY2tDb25maWcucmlza0NvbmZpZy5tYXhMZXZlcmFnZSkudG9CZUxlc3NUaGFuT3JFcXVhbCg1KTtcbiAgICAgIGV4cGVjdChtb2NrQ29uZmlnLnJpc2tDb25maWcuc3RvcExvc3NQZXJjZW50KS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDEpO1xuICAgICAgZXhwZWN0KG1vY2tDb25maWcucmlza0NvbmZpZy5zdG9wTG9zc1BlcmNlbnQpLnRvQmVMZXNzVGhhbk9yRXF1YWwoMyk7XG4gICAgICBleHBlY3QobW9ja0NvbmZpZy5yaXNrQ29uZmlnLnRhcmdldFBlcmNlbnQpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMyk7XG4gICAgICBleHBlY3QobW9ja0NvbmZpZy5yaXNrQ29uZmlnLnRhcmdldFBlcmNlbnQpLnRvQmVMZXNzVGhhbk9yRXF1YWwoNik7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhdmUgdmFsaWQgcG9ydGZvbGlvIHBhcmFtZXRlcnMnLCAoKSA9PiB7XG4gICAgICBleHBlY3QobW9ja0NvbmZpZy5wb3J0Zm9saW9Db25maWcubWF4Q29uY3VycmVudFBvc2l0aW9ucykudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgzKTtcbiAgICAgIGV4cGVjdChtb2NrQ29uZmlnLnBvcnRmb2xpb0NvbmZpZy5tYXhDb25jdXJyZW50UG9zaXRpb25zKS50b0JlTGVzc1RoYW5PckVxdWFsKDgpO1xuICAgICAgZXhwZWN0KG1vY2tDb25maWcucG9ydGZvbGlvQ29uZmlnLm1heFBvcnRmb2xpb0hlYXQpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMTApO1xuICAgICAgZXhwZWN0KG1vY2tDb25maWcucG9ydGZvbGlvQ29uZmlnLm1heFBvcnRmb2xpb0hlYXQpLnRvQmVMZXNzVGhhbk9yRXF1YWwoMjApO1xuICAgICAgZXhwZWN0KG1vY2tDb25maWcucG9ydGZvbGlvQ29uZmlnLmNvcnJlbGF0aW9uVGhyZXNob2xkKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDAuNik7XG4gICAgICBleHBlY3QobW9ja0NvbmZpZy5wb3J0Zm9saW9Db25maWcuY29ycmVsYXRpb25UaHJlc2hvbGQpLnRvQmVMZXNzVGhhbk9yRXF1YWwoMC45KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0NvbmZpZ3VyYXRpb24gU3RydWN0dXJlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGF2ZSBhbGwgcmVxdWlyZWQgYWxpZ25tZW50IHdlaWdodCBwcm9wZXJ0aWVzJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KG1vY2tDb25maWcuYWxpZ25tZW50V2VpZ2h0cykudG9IYXZlUHJvcGVydHkoJ2RhaWx5Jyk7XG4gICAgICBleHBlY3QobW9ja0NvbmZpZy5hbGlnbm1lbnRXZWlnaHRzKS50b0hhdmVQcm9wZXJ0eSgnaDQnKTtcbiAgICAgIGV4cGVjdChtb2NrQ29uZmlnLmFsaWdubWVudFdlaWdodHMpLnRvSGF2ZVByb3BlcnR5KCdtMTUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBhbGwgcmVxdWlyZWQgUlMgY29uZmlnIHByb3BlcnRpZXMnLCAoKSA9PiB7XG4gICAgICBleHBlY3QobW9ja0NvbmZpZy5yc0NvbmZpZykudG9IYXZlUHJvcGVydHkoJ3RocmVzaG9sZCcpO1xuICAgICAgZXhwZWN0KG1vY2tDb25maWcucnNDb25maWcpLnRvSGF2ZVByb3BlcnR5KCdsb29rYmFja1BlcmlvZCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIGFsbCByZXF1aXJlZCByaXNrIGNvbmZpZyBwcm9wZXJ0aWVzJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KG1vY2tDb25maWcucmlza0NvbmZpZykudG9IYXZlUHJvcGVydHkoJ21heExldmVyYWdlJyk7XG4gICAgICBleHBlY3QobW9ja0NvbmZpZy5yaXNrQ29uZmlnKS50b0hhdmVQcm9wZXJ0eSgnc3RvcExvc3NQZXJjZW50Jyk7XG4gICAgICBleHBlY3QobW9ja0NvbmZpZy5yaXNrQ29uZmlnKS50b0hhdmVQcm9wZXJ0eSgndGFyZ2V0UGVyY2VudCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIGFsbCByZXF1aXJlZCBwb3J0Zm9saW8gY29uZmlnIHByb3BlcnRpZXMnLCAoKSA9PiB7XG4gICAgICBleHBlY3QobW9ja0NvbmZpZy5wb3J0Zm9saW9Db25maWcpLnRvSGF2ZVByb3BlcnR5KCdtYXhDb25jdXJyZW50UG9zaXRpb25zJyk7XG4gICAgICBleHBlY3QobW9ja0NvbmZpZy5wb3J0Zm9saW9Db25maWcpLnRvSGF2ZVByb3BlcnR5KCdtYXhQb3J0Zm9saW9IZWF0Jyk7XG4gICAgICBleHBlY3QobW9ja0NvbmZpZy5wb3J0Zm9saW9Db25maWcpLnRvSGF2ZVByb3BlcnR5KCdjb3JyZWxhdGlvblRocmVzaG9sZCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ29uZmlndXJhdGlvbiBTdHJ1Y3R1cmUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBob2xvZ3JhbSBzdGF0ZSBzdHJ1Y3R1cmUnLCAoKSA9PiB7XG4gICAgICBjb25zdCBob2xvZ3JhbVN0YXRlID0ge1xuICAgICAgICBkYWlseUJpYXM6ICdCVUxMSVNIJyxcbiAgICAgICAgZm91ckhvdXJMb2NhdGlvbjogJ1BSRU1JVU0nLFxuICAgICAgICBmaWZ0ZWVuTWluVHJpZ2dlcjogJ1ZBTElEJyxcbiAgICAgICAgYWxpZ25tZW50U2NvcmU6IDg1XG4gICAgICB9O1xuXG4gICAgICBleHBlY3QoaG9sb2dyYW1TdGF0ZSkudG9IYXZlUHJvcGVydHkoJ2RhaWx5QmlhcycpO1xuICAgICAgZXhwZWN0KGhvbG9ncmFtU3RhdGUpLnRvSGF2ZVByb3BlcnR5KCdmb3VySG91ckxvY2F0aW9uJyk7XG4gICAgICBleHBlY3QoaG9sb2dyYW1TdGF0ZSkudG9IYXZlUHJvcGVydHkoJ2ZpZnRlZW5NaW5UcmlnZ2VyJyk7XG4gICAgICBleHBlY3QoaG9sb2dyYW1TdGF0ZSkudG9IYXZlUHJvcGVydHkoJ2FsaWdubWVudFNjb3JlJyk7XG4gICAgICBleHBlY3QoaG9sb2dyYW1TdGF0ZS5hbGlnbm1lbnRTY29yZSkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBzaWduYWwgc3RydWN0dXJlJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc2lnbmFsID0ge1xuICAgICAgICBzeW1ib2w6ICdCVENVU0RUJyxcbiAgICAgICAgc2lkZTogJ0J1eScsXG4gICAgICAgIGNvbmZpZGVuY2U6IDk1LFxuICAgICAgICBlbnRyeTogNTAwMDAsXG4gICAgICAgIHN0b3BMb3NzOiA0OTI1MCxcbiAgICAgICAgdGFrZVByb2ZpdDogNTIyNTBcbiAgICAgIH07XG5cbiAgICAgIGV4cGVjdChzaWduYWwpLnRvSGF2ZVByb3BlcnR5KCdzeW1ib2wnKTtcbiAgICAgIGV4cGVjdChzaWduYWwpLnRvSGF2ZVByb3BlcnR5KCdzaWRlJyk7XG4gICAgICBleHBlY3Qoc2lnbmFsKS50b0hhdmVQcm9wZXJ0eSgnY29uZmlkZW5jZScpO1xuICAgICAgZXhwZWN0KHNpZ25hbCkudG9IYXZlUHJvcGVydHkoJ2VudHJ5Jyk7XG4gICAgICBleHBlY3Qoc2lnbmFsKS50b0hhdmVQcm9wZXJ0eSgnc3RvcExvc3MnKTtcbiAgICAgIGV4cGVjdChzaWduYWwpLnRvSGF2ZVByb3BlcnR5KCd0YWtlUHJvZml0Jyk7XG4gICAgICBleHBlY3Qoc2lnbmFsLmNvbmZpZGVuY2UpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChzaWduYWwuY29uZmlkZW5jZSkudG9CZUxlc3NUaGFuT3JFcXVhbCgxMDApO1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJ2ZXJzaW9uIjozfQ==