{"file":"/Users/ivan/Code/trading/titan/services/titan-phase2-hunter/tests/unit/ConfigManager.test.ts","mappings":"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","names":[],"sources":["/Users/ivan/Code/trading/titan/services/titan-phase2-hunter/tests/unit/ConfigManager.test.ts"],"sourcesContent":["/**\n * Unit tests for ConfigManager\n * Tests configuration loading, saving, validation, and hot-reload functionality\n */\n\nimport { ConfigManager, Phase2Config, AlignmentWeights, RSConfig, RiskConfig, PortfolioConfig } from '../../src/config/ConfigManager';\nimport { writeFileSync, unlinkSync, existsSync, mkdirSync, rmSync } from 'fs';\nimport { join } from 'path';\n\ndescribe('ConfigManager', () => {\n  const testConfigDir = join(__dirname, 'test-config');\n  const testConfigPath = join(testConfigDir, 'phase2.config.json');\n  let configManager: ConfigManager;\n\n  beforeEach(() => {\n    // Create test config directory\n    if (!existsSync(testConfigDir)) {\n      mkdirSync(testConfigDir, { recursive: true });\n    }\n\n    // Clean up any existing config file\n    if (existsSync(testConfigPath)) {\n      unlinkSync(testConfigPath);\n    }\n\n    configManager = new ConfigManager(testConfigDir);\n  });\n\n  afterEach(() => {\n    // Cleanup\n    if (configManager) {\n      configManager.destroy();\n    }\n\n    // Remove test config directory\n    if (existsSync(testConfigDir)) {\n      rmSync(testConfigDir, { recursive: true, force: true });\n    }\n  });\n\n  describe('Configuration Loading', () => {\n    it('should create default configuration when no file exists', () => {\n      const config = configManager.getConfig();\n\n      expect(config.alignmentWeights.daily).toBe(50);\n      expect(config.alignmentWeights.h4).toBe(30);\n      expect(config.alignmentWeights.m15).toBe(20);\n      expect(config.rsConfig.threshold).toBe(2);\n      expect(config.rsConfig.lookbackPeriod).toBe(4);\n      expect(config.riskConfig.maxLeverage).toBe(5);\n      expect(config.riskConfig.stopLossPercent).toBe(1.5);\n      expect(config.riskConfig.targetPercent).toBe(4.5);\n      expect(config.portfolioConfig.maxConcurrentPositions).toBe(5);\n      expect(config.portfolioConfig.maxPortfolioHeat).toBe(15);\n      expect(config.portfolioConfig.correlationThreshold).toBe(0.7);\n    });\n\n    it('should load valid configuration from file', () => {\n      const testConfig: Phase2Config = {\n        alignmentWeights: { daily: 40, h4: 35, m15: 25 },\n        rsConfig: { threshold: 3, lookbackPeriod: 6 },\n        riskConfig: { maxLeverage: 4, stopLossPercent: 2, targetPercent: 5 },\n        portfolioConfig: { maxConcurrentPositions: 6, maxPortfolioHeat: 18, correlationThreshold: 0.8 },\n        version: 1,\n        lastModified: Date.now()\n      };\n\n      writeFileSync(testConfigPath, JSON.stringify(testConfig, null, 2));\n      \n      const newConfigManager = new ConfigManager(testConfigDir);\n      const loadedConfig = newConfigManager.getConfig();\n\n      expect(loadedConfig.alignmentWeights.daily).toBe(40);\n      expect(loadedConfig.alignmentWeights.h4).toBe(35);\n      expect(loadedConfig.alignmentWeights.m15).toBe(25);\n      expect(loadedConfig.rsConfig.threshold).toBe(3);\n      expect(loadedConfig.rsConfig.lookbackPeriod).toBe(6);\n\n      newConfigManager.destroy();\n    });\n\n    it('should load defaults when configuration file is corrupted', () => {\n      // Write invalid JSON\n      writeFileSync(testConfigPath, 'invalid json content');\n      \n      const newConfigManager = new ConfigManager(testConfigDir);\n      const config = newConfigManager.getConfig();\n\n      // Should load defaults\n      expect(config.alignmentWeights.daily).toBe(50);\n      expect(config.alignmentWeights.h4).toBe(30);\n      expect(config.alignmentWeights.m15).toBe(20);\n\n      newConfigManager.destroy();\n    });\n  });\n\n  describe('Configuration Validation', () => {\n    it('should reject invalid alignment weights', () => {\n      expect(() => {\n        configManager.updateAlignmentWeights({ daily: 70 }); // > 60%\n      }).toThrow('Daily weight must be 30-60%');\n\n      expect(() => {\n        configManager.updateAlignmentWeights({ h4: 50 }); // > 40%\n      }).toThrow('4H weight must be 20-40%');\n\n      expect(() => {\n        configManager.updateAlignmentWeights({ m15: 35 }); // > 30%\n      }).toThrow('15m weight must be 10-30%');\n    });\n\n    it('should reject alignment weights that do not sum to 100%', () => {\n      expect(() => {\n        configManager.updateAlignmentWeights({ daily: 30, h4: 30, m15: 30 }); // Sum = 90%\n      }).toThrow('Alignment weights must sum to 100%');\n    });\n\n    it('should reject invalid RS configuration', () => {\n      expect(() => {\n        configManager.updateRSConfig({ threshold: 6 }); // > 5%\n      }).toThrow('RS threshold must be 0-5%');\n\n      expect(() => {\n        configManager.updateRSConfig({ lookbackPeriod: 10 }); // > 8 hours\n      }).toThrow('RS lookback period must be 2-8 hours');\n    });\n\n    it('should reject invalid risk configuration', () => {\n      expect(() => {\n        configManager.updateRiskConfig({ maxLeverage: 6 }); // > 5x\n      }).toThrow('Max leverage must be 3-5x');\n\n      expect(() => {\n        configManager.updateRiskConfig({ stopLossPercent: 4 }); // > 3%\n      }).toThrow('Stop loss must be 1-3%');\n\n      expect(() => {\n        configManager.updateRiskConfig({ targetPercent: 7 }); // > 6%\n      }).toThrow('Target must be 3-6%');\n    });\n\n    it('should reject invalid portfolio configuration', () => {\n      expect(() => {\n        configManager.updatePortfolioConfig({ maxConcurrentPositions: 10 }); // > 8\n      }).toThrow('Max concurrent positions must be 3-8');\n\n      expect(() => {\n        configManager.updatePortfolioConfig({ maxPortfolioHeat: 25 }); // > 20%\n      }).toThrow('Max portfolio heat must be 10-20%');\n\n      expect(() => {\n        configManager.updatePortfolioConfig({ correlationThreshold: 1.0 }); // > 0.9\n      }).toThrow('Correlation threshold must be 0.6-0.9');\n    });\n  });\n\n  describe('Configuration Updates', () => {\n    it('should update alignment weights correctly', () => {\n      configManager.updateAlignmentWeights({ daily: 45, h4: 35, m15: 20 });\n      \n      const config = configManager.getConfig();\n      expect(config.alignmentWeights.daily).toBe(45);\n      expect(config.alignmentWeights.h4).toBe(35);\n      expect(config.alignmentWeights.m15).toBe(20);\n    });\n\n    it('should update RS configuration correctly', () => {\n      configManager.updateRSConfig({ threshold: 3.5, lookbackPeriod: 6 });\n      \n      const config = configManager.getConfig();\n      expect(config.rsConfig.threshold).toBe(3.5);\n      expect(config.rsConfig.lookbackPeriod).toBe(6);\n    });\n\n    it('should update risk configuration correctly', () => {\n      configManager.updateRiskConfig({ maxLeverage: 4, stopLossPercent: 2, targetPercent: 5 });\n      \n      const config = configManager.getConfig();\n      expect(config.riskConfig.maxLeverage).toBe(4);\n      expect(config.riskConfig.stopLossPercent).toBe(2);\n      expect(config.riskConfig.targetPercent).toBe(5);\n    });\n\n    it('should update portfolio configuration correctly', () => {\n      configManager.updatePortfolioConfig({ \n        maxConcurrentPositions: 7, \n        maxPortfolioHeat: 18, \n        correlationThreshold: 0.8 \n      });\n      \n      const config = configManager.getConfig();\n      expect(config.portfolioConfig.maxConcurrentPositions).toBe(7);\n      expect(config.portfolioConfig.maxPortfolioHeat).toBe(18);\n      expect(config.portfolioConfig.correlationThreshold).toBe(0.8);\n    });\n\n    it('should emit configChanged event on updates', (done) => {\n      configManager.on('configChanged', (event) => {\n        expect(event.section).toBe('all');\n        expect(event.newValue.alignmentWeights.daily).toBe(45);\n        done();\n      });\n\n      configManager.updateAlignmentWeights({ daily: 45, h4: 35, m15: 20 });\n    });\n\n    it('should increment version on save', () => {\n      const initialVersion = configManager.getConfig().version;\n      \n      configManager.updateAlignmentWeights({ daily: 45, h4: 35, m15: 20 });\n      \n      const newVersion = configManager.getConfig().version;\n      expect(newVersion).toBe(initialVersion + 1);\n    });\n  });\n\n  describe('Hot Reload', () => {\n    it('should start and stop watching', () => {\n      expect(() => {\n        configManager.startWatching();\n        configManager.stopWatching();\n      }).not.toThrow();\n    });\n\n    it('should not start watching twice', () => {\n      configManager.startWatching();\n      configManager.startWatching(); // Should not throw\n      configManager.stopWatching();\n    });\n  });\n\n  describe('Utility Methods', () => {\n    it('should reset to defaults', () => {\n      // Change some values\n      configManager.updateAlignmentWeights({ daily: 45, h4: 35, m15: 20 });\n      \n      // Reset to defaults\n      configManager.resetToDefaults();\n      \n      const config = configManager.getConfig();\n      expect(config.alignmentWeights.daily).toBe(50);\n      expect(config.alignmentWeights.h4).toBe(30);\n      expect(config.alignmentWeights.m15).toBe(20);\n    });\n\n    it('should generate configuration summary', () => {\n      const summary = configManager.getConfigSummary();\n      \n      expect(summary).toContain('Alignment: Daily 50%, 4H 30%, 15m 20%');\n      expect(summary).toContain('RS: Threshold 2%, Lookback 4h');\n      expect(summary).toContain('Risk: Leverage 5x, Stop 1.5%, Target 4.5%');\n      expect(summary).toContain('Portfolio: Max 5 positions, Heat 15%, Correlation 0.7');\n    });\n\n    it('should cleanup resources on destroy', () => {\n      configManager.startWatching();\n      \n      expect(() => {\n        configManager.destroy();\n      }).not.toThrow();\n    });\n  });\n\n  describe('Edge Cases', () => {\n    it('should handle partial updates', () => {\n      // Update all weights to ensure they sum to 100%\n      configManager.updateAlignmentWeights({ daily: 45, h4: 35, m15: 20 });\n      \n      const config = configManager.getConfig();\n      expect(config.alignmentWeights.daily).toBe(45);\n      expect(config.alignmentWeights.h4).toBe(35);\n      expect(config.alignmentWeights.m15).toBe(20);\n    });\n\n    it('should handle missing config directory', () => {\n      const nonExistentDir = join(__dirname, 'non-existent');\n      \n      expect(() => {\n        new ConfigManager(nonExistentDir);\n      }).not.toThrow();\n    });\n  });\n});"],"version":3}