0a72068403de2c60e6c04532f3c15639
"use strict";
/**
 * Debug test for Asian range issue
 */
Object.defineProperty(exports, "__esModule", { value: true });
const SessionProfiler_1 = require("../../src/engine/SessionProfiler");
describe('SessionProfiler - Debug Asian Range', () => {
    it('should debug storeAsianRange', () => {
        const profiler = new SessionProfiler_1.SessionProfiler();
        // Create OHLCV data for 2 AM UTC (should be Asian session)
        const asianData = [
            {
                timestamp: new Date('2024-01-01T02:00:00Z').getTime(),
                open: 50000,
                high: 50100,
                low: 49900,
                close: 50000,
                volume: 1000
            }
        ];
        console.log('Input data:', asianData);
        console.log('Timestamp:', asianData[0].timestamp);
        console.log('Date:', new Date(asianData[0].timestamp));
        console.log('UTC Hour:', new Date(asianData[0].timestamp).getUTCHours());
        profiler.storeAsianRange(asianData);
        const asianRange = profiler.getAsianRange();
        console.log('Asian range result:', asianRange);
        expect(asianRange).not.toBeNull();
        if (asianRange) {
            expect(asianRange.high).toBe(50100);
            expect(asianRange.low).toBe(49900);
        }
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2l2YW4vQ29kZS90cmFkaW5nL3RpdGFuL3NlcnZpY2VzL3RpdGFuLXBoYXNlMi1odW50ZXIvdGVzdHMvdW5pdC9TZXNzaW9uUHJvZmlsZXIuZGVidWcyLnRlc3QudHMiLCJtYXBwaW5ncyI6IjtBQUFBOztHQUVHOztBQUVILHNFQUFtRTtBQUduRSxRQUFRLENBQUMscUNBQXFDLEVBQUUsR0FBRyxFQUFFO0lBQ25ELEVBQUUsQ0FBQyw4QkFBOEIsRUFBRSxHQUFHLEVBQUU7UUFDdEMsTUFBTSxRQUFRLEdBQUcsSUFBSSxpQ0FBZSxFQUFFLENBQUM7UUFFdkMsMkRBQTJEO1FBQzNELE1BQU0sU0FBUyxHQUFZO1lBQ3pCO2dCQUNFLFNBQVMsRUFBRSxJQUFJLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLE9BQU8sRUFBRTtnQkFDckQsSUFBSSxFQUFFLEtBQUs7Z0JBQ1gsSUFBSSxFQUFFLEtBQUs7Z0JBQ1gsR0FBRyxFQUFFLEtBQUs7Z0JBQ1YsS0FBSyxFQUFFLEtBQUs7Z0JBQ1osTUFBTSxFQUFFLElBQUk7YUFDYjtTQUNGLENBQUM7UUFFRixPQUFPLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRSxTQUFTLENBQUMsQ0FBQztRQUN0QyxPQUFPLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDbEQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7UUFDdkQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUM7UUFFekUsUUFBUSxDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUVwQyxNQUFNLFVBQVUsR0FBRyxRQUFRLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDNUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUUvQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ2xDLElBQUksVUFBVSxFQUFFLENBQUM7WUFDZixNQUFNLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNwQyxNQUFNLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNyQyxDQUFDO0lBQ0gsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvaXZhbi9Db2RlL3RyYWRpbmcvdGl0YW4vc2VydmljZXMvdGl0YW4tcGhhc2UyLWh1bnRlci90ZXN0cy91bml0L1Nlc3Npb25Qcm9maWxlci5kZWJ1ZzIudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIERlYnVnIHRlc3QgZm9yIEFzaWFuIHJhbmdlIGlzc3VlXG4gKi9cblxuaW1wb3J0IHsgU2Vzc2lvblByb2ZpbGVyIH0gZnJvbSAnLi4vLi4vc3JjL2VuZ2luZS9TZXNzaW9uUHJvZmlsZXInO1xuaW1wb3J0IHsgT0hMQ1YgfSBmcm9tICcuLi8uLi9zcmMvdHlwZXMnO1xuXG5kZXNjcmliZSgnU2Vzc2lvblByb2ZpbGVyIC0gRGVidWcgQXNpYW4gUmFuZ2UnLCAoKSA9PiB7XG4gIGl0KCdzaG91bGQgZGVidWcgc3RvcmVBc2lhblJhbmdlJywgKCkgPT4ge1xuICAgIGNvbnN0IHByb2ZpbGVyID0gbmV3IFNlc3Npb25Qcm9maWxlcigpO1xuICAgIFxuICAgIC8vIENyZWF0ZSBPSExDViBkYXRhIGZvciAyIEFNIFVUQyAoc2hvdWxkIGJlIEFzaWFuIHNlc3Npb24pXG4gICAgY29uc3QgYXNpYW5EYXRhOiBPSExDVltdID0gW1xuICAgICAge1xuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCcyMDI0LTAxLTAxVDAyOjAwOjAwWicpLmdldFRpbWUoKSxcbiAgICAgICAgb3BlbjogNTAwMDAsXG4gICAgICAgIGhpZ2g6IDUwMTAwLFxuICAgICAgICBsb3c6IDQ5OTAwLFxuICAgICAgICBjbG9zZTogNTAwMDAsXG4gICAgICAgIHZvbHVtZTogMTAwMFxuICAgICAgfVxuICAgIF07XG4gICAgXG4gICAgY29uc29sZS5sb2coJ0lucHV0IGRhdGE6JywgYXNpYW5EYXRhKTtcbiAgICBjb25zb2xlLmxvZygnVGltZXN0YW1wOicsIGFzaWFuRGF0YVswXS50aW1lc3RhbXApO1xuICAgIGNvbnNvbGUubG9nKCdEYXRlOicsIG5ldyBEYXRlKGFzaWFuRGF0YVswXS50aW1lc3RhbXApKTtcbiAgICBjb25zb2xlLmxvZygnVVRDIEhvdXI6JywgbmV3IERhdGUoYXNpYW5EYXRhWzBdLnRpbWVzdGFtcCkuZ2V0VVRDSG91cnMoKSk7XG4gICAgXG4gICAgcHJvZmlsZXIuc3RvcmVBc2lhblJhbmdlKGFzaWFuRGF0YSk7XG4gICAgXG4gICAgY29uc3QgYXNpYW5SYW5nZSA9IHByb2ZpbGVyLmdldEFzaWFuUmFuZ2UoKTtcbiAgICBjb25zb2xlLmxvZygnQXNpYW4gcmFuZ2UgcmVzdWx0OicsIGFzaWFuUmFuZ2UpO1xuICAgIFxuICAgIGV4cGVjdChhc2lhblJhbmdlKS5ub3QudG9CZU51bGwoKTtcbiAgICBpZiAoYXNpYW5SYW5nZSkge1xuICAgICAgZXhwZWN0KGFzaWFuUmFuZ2UuaGlnaCkudG9CZSg1MDEwMCk7XG4gICAgICBleHBlY3QoYXNpYW5SYW5nZS5sb3cpLnRvQmUoNDk5MDApO1xuICAgIH1cbiAgfSk7XG59KTsiXSwidmVyc2lvbiI6M30=