e4308136090f991d8b212aaa426205fe
"use strict";
/**
 * Unit Tests for HunterEventEmitter
 *
 * Tests the event system functionality including event emission,
 * subscription, unsubscription, and type safety.
 */
Object.defineProperty(exports, "__esModule", { value: true });
const EventEmitter_1 = require("../../src/events/EventEmitter");
describe('HunterEventEmitter', () => {
    let eventEmitter;
    beforeEach(() => {
        // Create a fresh instance for each test
        eventEmitter = new EventEmitter_1.HunterEventEmitter();
    });
    afterEach(() => {
        // Clean up listeners after each test
        eventEmitter.clearAllListeners();
    });
    describe('Singleton Pattern', () => {
        it('should return the same instance', () => {
            const instance1 = EventEmitter_1.HunterEventEmitter.getInstance();
            const instance2 = EventEmitter_1.HunterEventEmitter.getInstance();
            expect(instance1).toBe(instance2);
            expect(instance1).toBe(EventEmitter_1.hunterEvents);
        });
    });
    describe('Basic Event Operations', () => {
        it('should emit and receive events', (done) => {
            const testPayload = {
                symbol: 'BTCUSDT',
                hologramState: createMockHologramState(),
                timestamp: Date.now()
            };
            eventEmitter.onEvent('HOLOGRAM_UPDATED', (payload) => {
                expect(payload.symbol).toBe('BTCUSDT');
                expect(payload.hologramState).toBeDefined();
                expect(payload.timestamp).toBeGreaterThan(0);
                done();
            });
            eventEmitter.emitEvent('HOLOGRAM_UPDATED', testPayload);
        });
        it('should handle multiple listeners for the same event', () => {
            let listener1Called = false;
            let listener2Called = false;
            const testPayload = {
                symbol: 'ETHUSDT',
                hologramState: createMockHologramState(),
                timestamp: Date.now()
            };
            eventEmitter.onEvent('HOLOGRAM_UPDATED', () => {
                listener1Called = true;
            });
            eventEmitter.onEvent('HOLOGRAM_UPDATED', () => {
                listener2Called = true;
            });
            eventEmitter.emitEvent('HOLOGRAM_UPDATED', testPayload);
            expect(listener1Called).toBe(true);
            expect(listener2Called).toBe(true);
        });
        it('should handle once listeners correctly', () => {
            let callCount = 0;
            const testPayload = {
                symbol: 'ADAUSDT',
                hologramState: createMockHologramState(),
                timestamp: Date.now()
            };
            eventEmitter.onceEvent('HOLOGRAM_UPDATED', () => {
                callCount++;
            });
            // Emit twice
            eventEmitter.emitEvent('HOLOGRAM_UPDATED', testPayload);
            eventEmitter.emitEvent('HOLOGRAM_UPDATED', testPayload);
            expect(callCount).toBe(1);
        });
        it('should remove listeners correctly', () => {
            let callCount = 0;
            const testPayload = {
                symbol: 'SOLUSDT',
                hologramState: createMockHologramState(),
                timestamp: Date.now()
            };
            const listener = () => {
                callCount++;
            };
            eventEmitter.onEvent('HOLOGRAM_UPDATED', listener);
            eventEmitter.emitEvent('HOLOGRAM_UPDATED', testPayload);
            expect(callCount).toBe(1);
            eventEmitter.offEvent('HOLOGRAM_UPDATED', listener);
            eventEmitter.emitEvent('HOLOGRAM_UPDATED', testPayload);
            expect(callCount).toBe(1); // Should not increase
        });
    });
    describe('Convenience Methods', () => {
        it('should emit hologram updated event', (done) => {
            const hologramState = createMockHologramState();
            eventEmitter.onEvent('HOLOGRAM_UPDATED', (payload) => {
                expect(payload.symbol).toBe('BTCUSDT');
                expect(payload.hologramState).toBe(hologramState);
                expect(payload.previousStatus).toBe('NO_PLAY');
                expect(payload.timestamp).toBeGreaterThan(0);
                done();
            });
            eventEmitter.emitHologramUpdated('BTCUSDT', hologramState, 'NO_PLAY');
        });
        it('should emit session change event', (done) => {
            const previousSession = createMockSessionState('ASIAN');
            const currentSession = createMockSessionState('LONDON');
            const asianRange = {
                high: 50000,
                low: 49000,
                timestamp: Date.now()
            };
            eventEmitter.onEvent('SESSION_CHANGE', (payload) => {
                expect(payload.previousSession).toBe(previousSession);
                expect(payload.currentSession).toBe(currentSession);
                expect(payload.asianRange).toBe(asianRange);
                expect(payload.timestamp).toBeGreaterThan(0);
                done();
            });
            eventEmitter.emitSessionChange(previousSession, currentSession, asianRange);
        });
        it('should emit CVD absorption event', (done) => {
            const absorption = {
                price: 50000,
                cvdValue: 1000,
                timestamp: Date.now(),
                confidence: 85
            };
            eventEmitter.onEvent('CVD_ABSORPTION', (payload) => {
                expect(payload.symbol).toBe('BTCUSDT');
                expect(payload.absorption).toBe(absorption);
                expect(payload.poiPrice).toBe(49950);
                expect(payload.confidence).toBe(85);
                expect(payload.timestamp).toBeGreaterThan(0);
                done();
            });
            eventEmitter.emitCVDAbsorption('BTCUSDT', absorption, 49950, 85);
        });
        it('should emit signal generated event', (done) => {
            const signal = createMockSignalData();
            const hologramState = createMockHologramState();
            const sessionState = createMockSessionState('LONDON');
            eventEmitter.onEvent('SIGNAL_GENERATED', (payload) => {
                expect(payload.signal).toBe(signal);
                expect(payload.hologramState).toBe(hologramState);
                expect(payload.sessionState).toBe(sessionState);
                expect(payload.cvdConfirmation).toBe(true);
                expect(payload.timestamp).toBeGreaterThan(0);
                done();
            });
            eventEmitter.emitSignalGenerated(signal, hologramState, sessionState, true);
        });
        it('should emit execution complete event', (done) => {
            const execution = createMockExecutionData();
            const signal = createMockSignalData();
            eventEmitter.onEvent('EXECUTION_COMPLETE', (payload) => {
                expect(payload.execution).toBe(execution);
                expect(payload.signal).toBe(signal);
                expect(payload.success).toBe(true);
                expect(payload.slippage).toBe(0.05);
                expect(payload.timestamp).toBeGreaterThan(0);
                done();
            });
            eventEmitter.emitExecutionComplete(execution, signal, true, 0.05);
        });
        it('should emit error event', (done) => {
            const error = new Error('Test error');
            const context = { symbol: 'BTCUSDT', operation: 'fetchData' };
            eventEmitter.onEvent('ERROR', (payload) => {
                expect(payload.component).toBe('HologramEngine');
                expect(payload.error).toBe(error);
                expect(payload.severity).toBe('HIGH');
                expect(payload.context).toBe(context);
                expect(payload.timestamp).toBeGreaterThan(0);
                done();
            });
            eventEmitter.emitError('HologramEngine', error, 'HIGH', context);
        });
        it('should emit scan complete event', (done) => {
            eventEmitter.onEvent('SCAN_COMPLETE', (payload) => {
                expect(payload.symbolsScanned).toBe(100);
                expect(payload.aPlus).toBe(5);
                expect(payload.bAlignment).toBe(15);
                expect(payload.conflicts).toBe(20);
                expect(payload.duration).toBe(25000);
                expect(payload.timestamp).toBeGreaterThan(0);
                done();
            });
            eventEmitter.emitScanComplete(100, 5, 15, 20, 25000);
        });
        it('should emit Judas swing event', (done) => {
            const judasSwing = {
                type: 'SWEEP_HIGH',
                sweptPrice: 50100,
                reversalPrice: 49950,
                direction: 'SHORT',
                confidence: 90
            };
            const asianRange = {
                high: 50000,
                low: 49000,
                timestamp: Date.now()
            };
            eventEmitter.onEvent('JUDAS_SWING_DETECTED', (payload) => {
                expect(payload.judasSwing).toBe(judasSwing);
                expect(payload.sessionType).toBe('LONDON');
                expect(payload.asianRange).toBe(asianRange);
                expect(payload.timestamp).toBeGreaterThan(0);
                done();
            });
            eventEmitter.emitJudasSwing(judasSwing, 'LONDON', asianRange);
        });
        it('should emit POI detected event', (done) => {
            eventEmitter.onEvent('POI_DETECTED', (payload) => {
                expect(payload.symbol).toBe('ETHUSDT');
                expect(payload.poiType).toBe('ORDER_BLOCK');
                expect(payload.price).toBe(3500);
                expect(payload.confidence).toBe(95);
                expect(payload.distance).toBe(0.5);
                expect(payload.timestamp).toBeGreaterThan(0);
                done();
            });
            eventEmitter.emitPOIDetected('ETHUSDT', 'ORDER_BLOCK', 3500, 95, 0.5);
        });
        it('should emit risk warning event', (done) => {
            eventEmitter.onEvent('RISK_WARNING', (payload) => {
                expect(payload.type).toBe('DRAWDOWN');
                expect(payload.severity).toBe('WARNING');
                expect(payload.value).toBe(0.04);
                expect(payload.threshold).toBe(0.03);
                expect(payload.message).toBe('Daily drawdown approaching limit');
                expect(payload.timestamp).toBeGreaterThan(0);
                done();
            });
            eventEmitter.emitRiskWarning('DRAWDOWN', 'WARNING', 0.04, 0.03, 'Daily drawdown approaching limit');
        });
    });
    describe('Event Statistics', () => {
        it('should return correct event statistics', () => {
            const listener1 = () => { };
            const listener2 = () => { };
            eventEmitter.onEvent('HOLOGRAM_UPDATED', listener1);
            eventEmitter.onEvent('HOLOGRAM_UPDATED', listener2);
            eventEmitter.onEvent('SESSION_CHANGE', listener1);
            const stats = eventEmitter.getEventStats();
            expect(stats['HOLOGRAM_UPDATED']).toBe(2);
            expect(stats['SESSION_CHANGE']).toBe(1);
        });
        it('should clear all listeners', () => {
            const listener = () => { };
            eventEmitter.onEvent('HOLOGRAM_UPDATED', listener);
            eventEmitter.onEvent('SESSION_CHANGE', listener);
            let stats = eventEmitter.getEventStats();
            expect(Object.keys(stats)).toHaveLength(2);
            eventEmitter.clearAllListeners();
            stats = eventEmitter.getEventStats();
            expect(Object.keys(stats)).toHaveLength(0);
        });
    });
    describe('Error Handling', () => {
        it('should propagate listener errors as expected', () => {
            const errorListener = () => {
                throw new Error('Listener error');
            };
            eventEmitter.onEvent('HOLOGRAM_UPDATED', errorListener);
            const testPayload = {
                symbol: 'BTCUSDT',
                hologramState: createMockHologramState(),
                timestamp: Date.now()
            };
            // EventEmitter propagates errors from listeners
            expect(() => {
                eventEmitter.emitEvent('HOLOGRAM_UPDATED', testPayload);
            }).toThrow('Listener error');
        });
        it('should handle multiple listeners where some throw errors', () => {
            const errorListener = () => {
                throw new Error('Listener error');
            };
            const goodListener = jest.fn();
            // Add good listener first
            eventEmitter.onEvent('HOLOGRAM_UPDATED', goodListener);
            // Add error listener second
            eventEmitter.onEvent('HOLOGRAM_UPDATED', errorListener);
            const testPayload = {
                symbol: 'BTCUSDT',
                hologramState: createMockHologramState(),
                timestamp: Date.now()
            };
            // The good listener should be called before the error is thrown
            expect(() => {
                eventEmitter.emitEvent('HOLOGRAM_UPDATED', testPayload);
            }).toThrow('Listener error');
            expect(goodListener).toHaveBeenCalled();
        });
    });
    // Helper functions to create mock data
    function createMockHologramState() {
        return {
            symbol: 'BTCUSDT',
            timestamp: Date.now(),
            daily: {
                timeframe: '1D',
                trend: 'BULL',
                dealingRange: {
                    high: 51000,
                    low: 49000,
                    midpoint: 50000,
                    premiumThreshold: 50000,
                    discountThreshold: 50000,
                    range: 2000
                },
                currentPrice: 50500,
                location: 'PREMIUM',
                fractals: [],
                bos: [],
                mss: null
            },
            h4: {
                timeframe: '4H',
                trend: 'BULL',
                dealingRange: {
                    high: 50800,
                    low: 49800,
                    midpoint: 50300,
                    premiumThreshold: 50300,
                    discountThreshold: 50300,
                    range: 1000
                },
                currentPrice: 50500,
                location: 'PREMIUM',
                fractals: [],
                bos: [],
                mss: null
            },
            m15: {
                timeframe: '15m',
                trend: 'BULL',
                dealingRange: {
                    high: 50600,
                    low: 50400,
                    midpoint: 50500,
                    premiumThreshold: 50500,
                    discountThreshold: 50500,
                    range: 200
                },
                currentPrice: 50500,
                location: 'EQUILIBRIUM',
                fractals: [],
                bos: [],
                mss: null
            },
            alignmentScore: 85,
            status: 'A+',
            veto: {
                vetoed: false,
                reason: null,
                direction: null
            },
            rsScore: 0.05
        };
    }
    function createMockSessionState(type) {
        const now = Date.now();
        return {
            type,
            startTime: now - 3600000, // 1 hour ago
            endTime: now + 3600000, // 1 hour from now
            timeRemaining: 3600000 // 1 hour remaining
        };
    }
    function createMockSignalData() {
        return {
            symbol: 'BTCUSDT',
            direction: 'LONG',
            hologramStatus: 'A+',
            alignmentScore: 85,
            rsScore: 0.05,
            sessionType: 'LONDON',
            poiType: 'ORDER_BLOCK',
            cvdConfirmation: true,
            confidence: 90,
            entryPrice: 50000,
            stopLoss: 49250,
            takeProfit: 52250,
            positionSize: 0.1,
            leverage: 3,
            timestamp: Date.now()
        };
    }
    function createMockExecutionData() {
        return {
            signalId: 'signal-123',
            orderId: 'order-456',
            symbol: 'BTCUSDT',
            side: 'Buy',
            qty: 0.1,
            fillPrice: 50025,
            slippage: 0.05,
            fees: 2.5,
            timestamp: Date.now()
        };
    }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2l2YW4vQ29kZS90cmFkaW5nL3RpdGFuL3NlcnZpY2VzL3RpdGFuLXBoYXNlMi1odW50ZXIvdGVzdHMvdW5pdC9FdmVudEVtaXR0ZXIudGVzdC50cyIsIm1hcHBpbmdzIjoiO0FBQUE7Ozs7O0dBS0c7O0FBRUgsZ0VBQWlGO0FBV2pGLFFBQVEsQ0FBQyxvQkFBb0IsRUFBRSxHQUFHLEVBQUU7SUFDbEMsSUFBSSxZQUFnQyxDQUFDO0lBRXJDLFVBQVUsQ0FBQyxHQUFHLEVBQUU7UUFDZCx3Q0FBd0M7UUFDeEMsWUFBWSxHQUFHLElBQUksaUNBQWtCLEVBQUUsQ0FBQztJQUMxQyxDQUFDLENBQUMsQ0FBQztJQUVILFNBQVMsQ0FBQyxHQUFHLEVBQUU7UUFDYixxQ0FBcUM7UUFDckMsWUFBWSxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDbkMsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsbUJBQW1CLEVBQUUsR0FBRyxFQUFFO1FBQ2pDLEVBQUUsQ0FBQyxpQ0FBaUMsRUFBRSxHQUFHLEVBQUU7WUFDekMsTUFBTSxTQUFTLEdBQUcsaUNBQWtCLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDbkQsTUFBTSxTQUFTLEdBQUcsaUNBQWtCLENBQUMsV0FBVyxFQUFFLENBQUM7WUFFbkQsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUNsQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLDJCQUFZLENBQUMsQ0FBQztRQUN2QyxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLHdCQUF3QixFQUFFLEdBQUcsRUFBRTtRQUN0QyxFQUFFLENBQUMsZ0NBQWdDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRTtZQUM1QyxNQUFNLFdBQVcsR0FBRztnQkFDbEIsTUFBTSxFQUFFLFNBQVM7Z0JBQ2pCLGFBQWEsRUFBRSx1QkFBdUIsRUFBRTtnQkFDeEMsU0FBUyxFQUFFLElBQUksQ0FBQyxH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RTtZQUNsQixPQUFPLEVBQUUsSUFBSTtZQUNiLFdBQVcsRUFBRSxRQUFRO1lBQ3JCLE9BQU8sRUFBRSxhQUFhO1lBQ3RCLGVBQWUsRUFBRSxJQUFJO1lBQ3JCLFVBQVUsRUFBRSxFQUFFO1lBQ2QsVUFBVSxFQUFFLEtBQUs7WUFDakIsUUFBUSxFQUFFLEtBQUs7WUFDZixVQUFVLEVBQUUsS0FBSztZQUNqQixZQUFZLEVBQUUsR0FBRztZQUNqQixRQUFRLEVBQUUsQ0FBQztZQUNYLFNBQVMsRUFBRSxJQUFJLENBQUMsR0FBRyxFQUFFO1NBQ3RCLENBQUM7SUFDSixDQUFDO0lBRUQsU0FBUyx1QkFBdUI7UUFDOUIsT0FBTztZQUNMLFFBQVEsRUFBRSxZQUFZO1lBQ3RCLE9BQU8sRUFBRSxXQUFXO1lBQ3BCLE1BQU0sRUFBRSxTQUFTO1lBQ2pCLElBQUksRUFBRSxLQUFLO1lBQ1gsR0FBRyxFQUFFLEdBQUc7WUFDUixTQUFTLEVBQUUsS0FBSztZQUNoQixRQUFRLEVBQUUsSUFBSTtZQUNkLElBQUksRUFBRSxHQUFHO1lBQ1QsU0FBUyxFQUFFLElBQUksQ0FBQyxHQUFHLEVBQUU7U0FDdEIsQ0FBQztJQUNKLENBQUM7QUFDSCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvaXZhbi9Db2RlL3RyYWRpbmcvdGl0YW4vc2VydmljZXMvdGl0YW4tcGhhc2UyLWh1bnRlci90ZXN0cy91bml0L0V2ZW50RW1pdHRlci50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVW5pdCBUZXN0cyBmb3IgSHVudGVyRXZlbnRFbWl0dGVyXG4gKiBcbiAqIFRlc3RzIHRoZSBldmVudCBzeXN0ZW0gZnVuY3Rpb25hbGl0eSBpbmNsdWRpbmcgZXZlbnQgZW1pc3Npb24sXG4gKiBzdWJzY3JpcHRpb24sIHVuc3Vic2NyaXB0aW9uLCBhbmQgdHlwZSBzYWZldHkuXG4gKi9cblxuaW1wb3J0IHsgSHVudGVyRXZlbnRFbWl0dGVyLCBodW50ZXJFdmVudHMgfSBmcm9tICcuLi8uLi9zcmMvZXZlbnRzL0V2ZW50RW1pdHRlcic7XG5pbXBvcnQgeyBcbiAgSG9sb2dyYW1TdGF0ZSwgXG4gIFNlc3Npb25TdGF0ZSwgXG4gIEFic29ycHRpb24sIFxuICBTaWduYWxEYXRhLCBcbiAgRXhlY3V0aW9uRGF0YSxcbiAgQXNpYW5SYW5nZSxcbiAgSnVkYXNTd2luZ1xufSBmcm9tICcuLi8uLi9zcmMvdHlwZXMnO1xuXG5kZXNjcmliZSgnSHVudGVyRXZlbnRFbWl0dGVyJywgKCkgPT4ge1xuICBsZXQgZXZlbnRFbWl0dGVyOiBIdW50ZXJFdmVudEVtaXR0ZXI7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgLy8gQ3JlYXRlIGEgZnJlc2ggaW5zdGFuY2UgZm9yIGVhY2ggdGVzdFxuICAgIGV2ZW50RW1pdHRlciA9IG5ldyBIdW50ZXJFdmVudEVtaXR0ZXIoKTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICAvLyBDbGVhbiB1cCBsaXN0ZW5lcnMgYWZ0ZXIgZWFjaCB0ZXN0XG4gICAgZXZlbnRFbWl0dGVyLmNsZWFyQWxsTGlzdGVuZXJzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTaW5nbGV0b24gUGF0dGVybicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiB0aGUgc2FtZSBpbnN0YW5jZScsICgpID0+IHtcbiAgICAgIGNvbnN0IGluc3RhbmNlMSA9IEh1bnRlckV2ZW50RW1pdHRlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgY29uc3QgaW5zdGFuY2UyID0gSHVudGVyRXZlbnRFbWl0dGVyLmdldEluc3RhbmNlKCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChpbnN0YW5jZTEpLnRvQmUoaW5zdGFuY2UyKTtcbiAgICAgIGV4cGVjdChpbnN0YW5jZTEpLnRvQmUoaHVudGVyRXZlbnRzKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Jhc2ljIEV2ZW50IE9wZXJhdGlvbnMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBlbWl0IGFuZCByZWNlaXZlIGV2ZW50cycsIChkb25lKSA9PiB7XG4gICAgICBjb25zdCB0ZXN0UGF5bG9hZCA9IHtcbiAgICAgICAgc3ltYm9sOiAnQlRDVVNEVCcsXG4gICAgICAgIGhvbG9ncmFtU3RhdGU6IGNyZWF0ZU1vY2tIb2xvZ3JhbVN0YXRlKCksXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgICAgfTtcblxuICAgICAgZXZlbnRFbWl0dGVyLm9uRXZlbnQoJ0hPTE9HUkFNX1VQREFURUQnLCAocGF5bG9hZCkgPT4ge1xuICAgICAgICBleHBlY3QocGF5bG9hZC5zeW1ib2wpLnRvQmUoJ0JUQ1VTRFQnKTtcbiAgICAgICAgZXhwZWN0KHBheWxvYWQuaG9sb2dyYW1TdGF0ZSkudG9CZURlZmluZWQoKTtcbiAgICAgICAgZXhwZWN0KHBheWxvYWQudGltZXN0YW1wKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH0pO1xuXG4gICAgICBldmVudEVtaXR0ZXIuZW1pdEV2ZW50KCdIT0xPR1JBTV9VUERBVEVEJywgdGVzdFBheWxvYWQpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbXVsdGlwbGUgbGlzdGVuZXJzIGZvciB0aGUgc2FtZSBldmVudCcsICgpID0+IHtcbiAgICAgIGxldCBsaXN0ZW5lcjFDYWxsZWQgPSBmYWxzZTtcbiAgICAgIGxldCBsaXN0ZW5lcjJDYWxsZWQgPSBmYWxzZTtcblxuICAgICAgY29uc3QgdGVzdFBheWxvYWQgPSB7XG4gICAgICAgIHN5bWJvbDogJ0VUSFVTRFQnLFxuICAgICAgICBob2xvZ3JhbVN0YXRlOiBjcmVhdGVNb2NrSG9sb2dyYW1TdGF0ZSgpLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICAgIH07XG5cbiAgICAgIGV2ZW50RW1pdHRlci5vbkV2ZW50KCdIT0xPR1JBTV9VUERBVEVEJywgKCkgPT4ge1xuICAgICAgICBsaXN0ZW5lcjFDYWxsZWQgPSB0cnVlO1xuICAgICAgfSk7XG5cbiAgICAgIGV2ZW50RW1pdHRlci5vbkV2ZW50KCdIT0xPR1JBTV9VUERBVEVEJywgKCkgPT4ge1xuICAgICAgICBsaXN0ZW5lcjJDYWxsZWQgPSB0cnVlO1xuICAgICAgfSk7XG5cbiAgICAgIGV2ZW50RW1pdHRlci5lbWl0RXZlbnQoJ0hPTE9HUkFNX1VQREFURUQnLCB0ZXN0UGF5bG9hZCk7XG5cbiAgICAgIGV4cGVjdChsaXN0ZW5lcjFDYWxsZWQpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QobGlzdGVuZXIyQ2FsbGVkKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgb25jZSBsaXN0ZW5lcnMgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgbGV0IGNhbGxDb3VudCA9IDA7XG5cbiAgICAgIGNvbnN0IHRlc3RQYXlsb2FkID0ge1xuICAgICAgICBzeW1ib2w6ICdBREFVU0RUJyxcbiAgICAgICAgaG9sb2dyYW1TdGF0ZTogY3JlYXRlTW9ja0hvbG9ncmFtU3RhdGUoKSxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgICB9O1xuXG4gICAgICBldmVudEVtaXR0ZXIub25jZUV2ZW50KCdIT0xPR1JBTV9VUERBVEVEJywgKCkgPT4ge1xuICAgICAgICBjYWxsQ291bnQrKztcbiAgICAgIH0pO1xuXG4gICAgICAvLyBFbWl0IHR3aWNlXG4gICAgICBldmVudEVtaXR0ZXIuZW1pdEV2ZW50KCdIT0xPR1JBTV9VUERBVEVEJywgdGVzdFBheWxvYWQpO1xuICAgICAgZXZlbnRFbWl0dGVyLmVtaXRFdmVudCgnSE9MT0dSQU1fVVBEQVRFRCcsIHRlc3RQYXlsb2FkKTtcblxuICAgICAgZXhwZWN0KGNhbGxDb3VudCkudG9CZSgxKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVtb3ZlIGxpc3RlbmVycyBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICBsZXQgY2FsbENvdW50ID0gMDtcblxuICAgICAgY29uc3QgdGVzdFBheWxvYWQgPSB7XG4gICAgICAgIHN5bWJvbDogJ1NPTFVTRFQnLFxuICAgICAgICBob2xvZ3JhbVN0YXRlOiBjcmVhdGVNb2NrSG9sb2dyYW1TdGF0ZSgpLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGxpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICBjYWxsQ291bnQrKztcbiAgICAgIH07XG5cbiAgICAgIGV2ZW50RW1pdHRlci5vbkV2ZW50KCdIT0xPR1JBTV9VUERBVEVEJywgbGlzdGVuZXIpO1xuICAgICAgZXZlbnRFbWl0dGVyLmVtaXRFdmVudCgnSE9MT0dSQU1fVVBEQVRFRCcsIHRlc3RQYXlsb2FkKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KGNhbGxDb3VudCkudG9CZSgxKTtcblxuICAgICAgZXZlbnRFbWl0dGVyLm9mZkV2ZW50KCdIT0xPR1JBTV9VUERBVEVEJywgbGlzdGVuZXIpO1xuICAgICAgZXZlbnRFbWl0dGVyLmVtaXRFdmVudCgnSE9MT0dSQU1fVVBEQVRFRCcsIHRlc3RQYXlsb2FkKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KGNhbGxDb3VudCkudG9CZSgxKTsgLy8gU2hvdWxkIG5vdCBpbmNyZWFzZVxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ29udmVuaWVuY2UgTWV0aG9kcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGVtaXQgaG9sb2dyYW0gdXBkYXRlZCBldmVudCcsIChkb25lKSA9PiB7XG4gICAgICBjb25zdCBob2xvZ3JhbVN0YXRlID0gY3JlYXRlTW9ja0hvbG9ncmFtU3RhdGUoKTtcblxuICAgICAgZXZlbnRFbWl0dGVyLm9uRXZlbnQoJ0hPTE9HUkFNX1VQREFURUQnLCAocGF5bG9hZCkgPT4ge1xuICAgICAgICBleHBlY3QocGF5bG9hZC5zeW1ib2wpLnRvQmUoJ0JUQ1VTRFQnKTtcbiAgICAgICAgZXhwZWN0KHBheWxvYWQuaG9sb2dyYW1TdGF0ZSkudG9CZShob2xvZ3JhbVN0YXRlKTtcbiAgICAgICAgZXhwZWN0KHBheWxvYWQucHJldmlvdXNTdGF0dXMpLnRvQmUoJ05PX1BMQVknKTtcbiAgICAgICAgZXhwZWN0KHBheWxvYWQudGltZXN0YW1wKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH0pO1xuXG4gICAgICBldmVudEVtaXR0ZXIuZW1pdEhvbG9ncmFtVXBkYXRlZCgnQlRDVVNEVCcsIGhvbG9ncmFtU3RhdGUsICdOT19QTEFZJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGVtaXQgc2Vzc2lvbiBjaGFuZ2UgZXZlbnQnLCAoZG9uZSkgPT4ge1xuICAgICAgY29uc3QgcHJldmlvdXNTZXNzaW9uID0gY3JlYXRlTW9ja1Nlc3Npb25TdGF0ZSgnQVNJQU4nKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRTZXNzaW9uID0gY3JlYXRlTW9ja1Nlc3Npb25TdGF0ZSgnTE9ORE9OJyk7XG4gICAgICBjb25zdCBhc2lhblJhbmdlOiBBc2lhblJhbmdlID0ge1xuICAgICAgICBoaWdoOiA1MDAwMCxcbiAgICAgICAgbG93OiA0OTAwMCxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgICB9O1xuXG4gICAgICBldmVudEVtaXR0ZXIub25FdmVudCgnU0VTU0lPTl9DSEFOR0UnLCAocGF5bG9hZCkgPT4ge1xuICAgICAgICBleHBlY3QocGF5bG9hZC5wcmV2aW91c1Nlc3Npb24pLnRvQmUocHJldmlvdXNTZXNzaW9uKTtcbiAgICAgICAgZXhwZWN0KHBheWxvYWQuY3VycmVudFNlc3Npb24pLnRvQmUoY3VycmVudFNlc3Npb24pO1xuICAgICAgICBleHBlY3QocGF5bG9hZC5hc2lhblJhbmdlKS50b0JlKGFzaWFuUmFuZ2UpO1xuICAgICAgICBleHBlY3QocGF5bG9hZC50aW1lc3RhbXApLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIGV2ZW50RW1pdHRlci5lbWl0U2Vzc2lvbkNoYW5nZShwcmV2aW91c1Nlc3Npb24sIGN1cnJlbnRTZXNzaW9uLCBhc2lhblJhbmdlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZW1pdCBDVkQgYWJzb3JwdGlvbiBldmVudCcsIChkb25lKSA9PiB7XG4gICAgICBjb25zdCBhYnNvcnB0aW9uOiBBYnNvcnB0aW9uID0ge1xuICAgICAgICBwcmljZTogNTAwMDAsXG4gICAgICAgIGN2ZFZhbHVlOiAxMDAwLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgIGNvbmZpZGVuY2U6IDg1XG4gICAgICB9O1xuXG4gICAgICBldmVudEVtaXR0ZXIub25FdmVudCgnQ1ZEX0FCU09SUFRJT04nLCAocGF5bG9hZCkgPT4ge1xuICAgICAgICBleHBlY3QocGF5bG9hZC5zeW1ib2wpLnRvQmUoJ0JUQ1VTRFQnKTtcbiAgICAgICAgZXhwZWN0KHBheWxvYWQuYWJzb3JwdGlvbikudG9CZShhYnNvcnB0aW9uKTtcbiAgICAgICAgZXhwZWN0KHBheWxvYWQucG9pUHJpY2UpLnRvQmUoNDk5NTApO1xuICAgICAgICBleHBlY3QocGF5bG9hZC5jb25maWRlbmNlKS50b0JlKDg1KTtcbiAgICAgICAgZXhwZWN0KHBheWxvYWQudGltZXN0YW1wKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH0pO1xuXG4gICAgICBldmVudEVtaXR0ZXIuZW1pdENWREFic29ycHRpb24oJ0JUQ1VTRFQnLCBhYnNvcnB0aW9uLCA0OTk1MCwgODUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBlbWl0IHNpZ25hbCBnZW5lcmF0ZWQgZXZlbnQnLCAoZG9uZSkgPT4ge1xuICAgICAgY29uc3Qgc2lnbmFsID0gY3JlYXRlTW9ja1NpZ25hbERhdGEoKTtcbiAgICAgIGNvbnN0IGhvbG9ncmFtU3RhdGUgPSBjcmVhdGVNb2NrSG9sb2dyYW1TdGF0ZSgpO1xuICAgICAgY29uc3Qgc2Vzc2lvblN0YXRlID0gY3JlYXRlTW9ja1Nlc3Npb25TdGF0ZSgnTE9ORE9OJyk7XG5cbiAgICAgIGV2ZW50RW1pdHRlci5vbkV2ZW50KCdTSUdOQUxfR0VORVJBVEVEJywgKHBheWxvYWQpID0+IHtcbiAgICAgICAgZXhwZWN0KHBheWxvYWQuc2lnbmFsKS50b0JlKHNpZ25hbCk7XG4gICAgICAgIGV4cGVjdChwYXlsb2FkLmhvbG9ncmFtU3RhdGUpLnRvQmUoaG9sb2dyYW1TdGF0ZSk7XG4gICAgICAgIGV4cGVjdChwYXlsb2FkLnNlc3Npb25TdGF0ZSkudG9CZShzZXNzaW9uU3RhdGUpO1xuICAgICAgICBleHBlY3QocGF5bG9hZC5jdmRDb25maXJtYXRpb24pLnRvQmUodHJ1ZSk7XG4gICAgICAgIGV4cGVjdChwYXlsb2FkLnRpbWVzdGFtcCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgICBkb25lKCk7XG4gICAgICB9KTtcblxuICAgICAgZXZlbnRFbWl0dGVyLmVtaXRTaWduYWxHZW5lcmF0ZWQoc2lnbmFsLCBob2xvZ3JhbVN0YXRlLCBzZXNzaW9uU3RhdGUsIHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBlbWl0IGV4ZWN1dGlvbiBjb21wbGV0ZSBldmVudCcsIChkb25lKSA9PiB7XG4gICAgICBjb25zdCBleGVjdXRpb24gPSBjcmVhdGVNb2NrRXhlY3V0aW9uRGF0YSgpO1xuICAgICAgY29uc3Qgc2lnbmFsID0gY3JlYXRlTW9ja1NpZ25hbERhdGEoKTtcblxuICAgICAgZXZlbnRFbWl0dGVyLm9uRXZlbnQoJ0VYRUNVVElPTl9DT01QTEVURScsIChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGV4cGVjdChwYXlsb2FkLmV4ZWN1dGlvbikudG9CZShleGVjdXRpb24pO1xuICAgICAgICBleHBlY3QocGF5bG9hZC5zaWduYWwpLnRvQmUoc2lnbmFsKTtcbiAgICAgICAgZXhwZWN0KHBheWxvYWQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgICAgZXhwZWN0KHBheWxvYWQuc2xpcHBhZ2UpLnRvQmUoMC4wNSk7XG4gICAgICAgIGV4cGVjdChwYXlsb2FkLnRpbWVzdGFtcCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgICBkb25lKCk7XG4gICAgICB9KTtcblxuICAgICAgZXZlbnRFbWl0dGVyLmVtaXRFeGVjdXRpb25Db21wbGV0ZShleGVjdXRpb24sIHNpZ25hbCwgdHJ1ZSwgMC4wNSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGVtaXQgZXJyb3IgZXZlbnQnLCAoZG9uZSkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ1Rlc3QgZXJyb3InKTtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSB7IHN5bWJvbDogJ0JUQ1VTRFQnLCBvcGVyYXRpb246ICdmZXRjaERhdGEnIH07XG5cbiAgICAgIGV2ZW50RW1pdHRlci5vbkV2ZW50KCdFUlJPUicsIChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGV4cGVjdChwYXlsb2FkLmNvbXBvbmVudCkudG9CZSgnSG9sb2dyYW1FbmdpbmUnKTtcbiAgICAgICAgZXhwZWN0KHBheWxvYWQuZXJyb3IpLnRvQmUoZXJyb3IpO1xuICAgICAgICBleHBlY3QocGF5bG9hZC5zZXZlcml0eSkudG9CZSgnSElHSCcpO1xuICAgICAgICBleHBlY3QocGF5bG9hZC5jb250ZXh0KS50b0JlKGNvbnRleHQpO1xuICAgICAgICBleHBlY3QocGF5bG9hZC50aW1lc3RhbXApLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIGV2ZW50RW1pdHRlci5lbWl0RXJyb3IoJ0hvbG9ncmFtRW5naW5lJywgZXJyb3IsICdISUdIJywgY29udGV4dCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGVtaXQgc2NhbiBjb21wbGV0ZSBldmVudCcsIChkb25lKSA9PiB7XG4gICAgICBldmVudEVtaXR0ZXIub25FdmVudCgnU0NBTl9DT01QTEVURScsIChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGV4cGVjdChwYXlsb2FkLnN5bWJvbHNTY2FubmVkKS50b0JlKDEwMCk7XG4gICAgICAgIGV4cGVjdChwYXlsb2FkLmFQbHVzKS50b0JlKDUpO1xuICAgICAgICBleHBlY3QocGF5bG9hZC5iQWxpZ25tZW50KS50b0JlKDE1KTtcbiAgICAgICAgZXhwZWN0KHBheWxvYWQuY29uZmxpY3RzKS50b0JlKDIwKTtcbiAgICAgICAgZXhwZWN0KHBheWxvYWQuZHVyYXRpb24pLnRvQmUoMjUwMDApO1xuICAgICAgICBleHBlY3QocGF5bG9hZC50aW1lc3RhbXApLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIGV2ZW50RW1pdHRlci5lbWl0U2NhbkNvbXBsZXRlKDEwMCwgNSwgMTUsIDIwLCAyNTAwMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGVtaXQgSnVkYXMgc3dpbmcgZXZlbnQnLCAoZG9uZSkgPT4ge1xuICAgICAgY29uc3QganVkYXNTd2luZzogSnVkYXNTd2luZyA9IHtcbiAgICAgICAgdHlwZTogJ1NXRUVQX0hJR0gnLFxuICAgICAgICBzd2VwdFByaWNlOiA1MDEwMCxcbiAgICAgICAgcmV2ZXJzYWxQcmljZTogNDk5NTAsXG4gICAgICAgIGRpcmVjdGlvbjogJ1NIT1JUJyxcbiAgICAgICAgY29uZmlkZW5jZTogOTBcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGFzaWFuUmFuZ2U6IEFzaWFuUmFuZ2UgPSB7XG4gICAgICAgIGhpZ2g6IDUwMDAwLFxuICAgICAgICBsb3c6IDQ5MDAwLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICAgIH07XG5cbiAgICAgIGV2ZW50RW1pdHRlci5vbkV2ZW50KCdKVURBU19TV0lOR19ERVRFQ1RFRCcsIChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGV4cGVjdChwYXlsb2FkLmp1ZGFzU3dpbmcpLnRvQmUoanVkYXNTd2luZyk7XG4gICAgICAgIGV4cGVjdChwYXlsb2FkLnNlc3Npb25UeXBlKS50b0JlKCdMT05ET04nKTtcbiAgICAgICAgZXhwZWN0KHBheWxvYWQuYXNpYW5SYW5nZSkudG9CZShhc2lhblJhbmdlKTtcbiAgICAgICAgZXhwZWN0KHBheWxvYWQudGltZXN0YW1wKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH0pO1xuXG4gICAgICBldmVudEVtaXR0ZXIuZW1pdEp1ZGFzU3dpbmcoanVkYXNTd2luZywgJ0xPTkRPTicsIGFzaWFuUmFuZ2UpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBlbWl0IFBPSSBkZXRlY3RlZCBldmVudCcsIChkb25lKSA9PiB7XG4gICAgICBldmVudEVtaXR0ZXIub25FdmVudCgnUE9JX0RFVEVDVEVEJywgKHBheWxvYWQpID0+IHtcbiAgICAgICAgZXhwZWN0KHBheWxvYWQuc3ltYm9sKS50b0JlKCdFVEhVU0RUJyk7XG4gICAgICAgIGV4cGVjdChwYXlsb2FkLnBvaVR5cGUpLnRvQmUoJ09SREVSX0JMT0NLJyk7XG4gICAgICAgIGV4cGVjdChwYXlsb2FkLnByaWNlKS50b0JlKDM1MDApO1xuICAgICAgICBleHBlY3QocGF5bG9hZC5jb25maWRlbmNlKS50b0JlKDk1KTtcbiAgICAgICAgZXhwZWN0KHBheWxvYWQuZGlzdGFuY2UpLnRvQmUoMC41KTtcbiAgICAgICAgZXhwZWN0KHBheWxvYWQudGltZXN0YW1wKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH0pO1xuXG4gICAgICBldmVudEVtaXR0ZXIuZW1pdFBPSURldGVjdGVkKCdFVEhVU0RUJywgJ09SREVSX0JMT0NLJywgMzUwMCwgOTUsIDAuNSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGVtaXQgcmlzayB3YXJuaW5nIGV2ZW50JywgKGRvbmUpID0+IHtcbiAgICAgIGV2ZW50RW1pdHRlci5vbkV2ZW50KCdSSVNLX1dBUk5JTkcnLCAocGF5bG9hZCkgPT4ge1xuICAgICAgICBleHBlY3QocGF5bG9hZC50eXBlKS50b0JlKCdEUkFXRE9XTicpO1xuICAgICAgICBleHBlY3QocGF5bG9hZC5zZXZlcml0eSkudG9CZSgnV0FSTklORycpO1xuICAgICAgICBleHBlY3QocGF5bG9hZC52YWx1ZSkudG9CZSgwLjA0KTtcbiAgICAgICAgZXhwZWN0KHBheWxvYWQudGhyZXNob2xkKS50b0JlKDAuMDMpO1xuICAgICAgICBleHBlY3QocGF5bG9hZC5tZXNzYWdlKS50b0JlKCdEYWlseSBkcmF3ZG93biBhcHByb2FjaGluZyBsaW1pdCcpO1xuICAgICAgICBleHBlY3QocGF5bG9hZC50aW1lc3RhbXApLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIGV2ZW50RW1pdHRlci5lbWl0Umlza1dhcm5pbmcoJ0RSQVdET1dOJywgJ1dBUk5JTkcnLCAwLjA0LCAwLjAzLCAnRGFpbHkgZHJhd2Rvd24gYXBwcm9hY2hpbmcgbGltaXQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0V2ZW50IFN0YXRpc3RpY3MnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gY29ycmVjdCBldmVudCBzdGF0aXN0aWNzJywgKCkgPT4ge1xuICAgICAgY29uc3QgbGlzdGVuZXIxID0gKCkgPT4ge307XG4gICAgICBjb25zdCBsaXN0ZW5lcjIgPSAoKSA9PiB7fTtcblxuICAgICAgZXZlbnRFbWl0dGVyLm9uRXZlbnQoJ0hPTE9HUkFNX1VQREFURUQnLCBsaXN0ZW5lcjEpO1xuICAgICAgZXZlbnRFbWl0dGVyLm9uRXZlbnQoJ0hPTE9HUkFNX1VQREFURUQnLCBsaXN0ZW5lcjIpO1xuICAgICAgZXZlbnRFbWl0dGVyLm9uRXZlbnQoJ1NFU1NJT05fQ0hBTkdFJywgbGlzdGVuZXIxKTtcblxuICAgICAgY29uc3Qgc3RhdHMgPSBldmVudEVtaXR0ZXIuZ2V0RXZlbnRTdGF0cygpO1xuXG4gICAgICBleHBlY3Qoc3RhdHNbJ0hPTE9HUkFNX1VQREFURUQnXSkudG9CZSgyKTtcbiAgICAgIGV4cGVjdChzdGF0c1snU0VTU0lPTl9DSEFOR0UnXSkudG9CZSgxKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY2xlYXIgYWxsIGxpc3RlbmVycycsICgpID0+IHtcbiAgICAgIGNvbnN0IGxpc3RlbmVyID0gKCkgPT4ge307XG5cbiAgICAgIGV2ZW50RW1pdHRlci5vbkV2ZW50KCdIT0xPR1JBTV9VUERBVEVEJywgbGlzdGVuZXIpO1xuICAgICAgZXZlbnRFbWl0dGVyLm9uRXZlbnQoJ1NFU1NJT05fQ0hBTkdFJywgbGlzdGVuZXIpO1xuXG4gICAgICBsZXQgc3RhdHMgPSBldmVudEVtaXR0ZXIuZ2V0RXZlbnRTdGF0cygpO1xuICAgICAgZXhwZWN0KE9iamVjdC5rZXlzKHN0YXRzKSkudG9IYXZlTGVuZ3RoKDIpO1xuXG4gICAgICBldmVudEVtaXR0ZXIuY2xlYXJBbGxMaXN0ZW5lcnMoKTtcblxuICAgICAgc3RhdHMgPSBldmVudEVtaXR0ZXIuZ2V0RXZlbnRTdGF0cygpO1xuICAgICAgZXhwZWN0KE9iamVjdC5rZXlzKHN0YXRzKSkudG9IYXZlTGVuZ3RoKDApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRXJyb3IgSGFuZGxpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBwcm9wYWdhdGUgbGlzdGVuZXIgZXJyb3JzIGFzIGV4cGVjdGVkJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3JMaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMaXN0ZW5lciBlcnJvcicpO1xuICAgICAgfTtcblxuICAgICAgZXZlbnRFbWl0dGVyLm9uRXZlbnQoJ0hPTE9HUkFNX1VQREFURUQnLCBlcnJvckxpc3RlbmVyKTtcblxuICAgICAgY29uc3QgdGVzdFBheWxvYWQgPSB7XG4gICAgICAgIHN5bWJvbDogJ0JUQ1VTRFQnLFxuICAgICAgICBob2xvZ3JhbVN0YXRlOiBjcmVhdGVNb2NrSG9sb2dyYW1TdGF0ZSgpLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICAgIH07XG5cbiAgICAgIC8vIEV2ZW50RW1pdHRlciBwcm9wYWdhdGVzIGVycm9ycyBmcm9tIGxpc3RlbmVyc1xuICAgICAgZXhwZWN0KCgpID0+IHtcbiAgICAgICAgZXZlbnRFbWl0dGVyLmVtaXRFdmVudCgnSE9MT0dSQU1fVVBEQVRFRCcsIHRlc3RQYXlsb2FkKTtcbiAgICAgIH0pLnRvVGhyb3coJ0xpc3RlbmVyIGVycm9yJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtdWx0aXBsZSBsaXN0ZW5lcnMgd2hlcmUgc29tZSB0aHJvdyBlcnJvcnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvckxpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0xpc3RlbmVyIGVycm9yJyk7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBnb29kTGlzdGVuZXIgPSBqZXN0LmZuKCk7XG5cbiAgICAgIC8vIEFkZCBnb29kIGxpc3RlbmVyIGZpcnN0XG4gICAgICBldmVudEVtaXR0ZXIub25FdmVudCgnSE9MT0dSQU1fVVBEQVRFRCcsIGdvb2RMaXN0ZW5lcik7XG4gICAgICAvLyBBZGQgZXJyb3IgbGlzdGVuZXIgc2Vjb25kXG4gICAgICBldmVudEVtaXR0ZXIub25FdmVudCgnSE9MT0dSQU1fVVBEQVRFRCcsIGVycm9yTGlzdGVuZXIpO1xuXG4gICAgICBjb25zdCB0ZXN0UGF5bG9hZCA9IHtcbiAgICAgICAgc3ltYm9sOiAnQlRDVVNEVCcsXG4gICAgICAgIGhvbG9ncmFtU3RhdGU6IGNyZWF0ZU1vY2tIb2xvZ3JhbVN0YXRlKCksXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgICAgfTtcblxuICAgICAgLy8gVGhlIGdvb2QgbGlzdGVuZXIgc2hvdWxkIGJlIGNhbGxlZCBiZWZvcmUgdGhlIGVycm9yIGlzIHRocm93blxuICAgICAgZXhwZWN0KCgpID0+IHtcbiAgICAgICAgZXZlbnRFbWl0dGVyLmVtaXRFdmVudCgnSE9MT0dSQU1fVVBEQVRFRCcsIHRlc3RQYXlsb2FkKTtcbiAgICAgIH0pLnRvVGhyb3coJ0xpc3RlbmVyIGVycm9yJyk7XG5cbiAgICAgIGV4cGVjdChnb29kTGlzdGVuZXIpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9ucyB0byBjcmVhdGUgbW9jayBkYXRhXG4gIGZ1bmN0aW9uIGNyZWF0ZU1vY2tIb2xvZ3JhbVN0YXRlKCk6IEhvbG9ncmFtU3RhdGUge1xuICAgIHJldHVybiB7XG4gICAgICBzeW1ib2w6ICdCVENVU0RUJyxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIGRhaWx5OiB7XG4gICAgICAgIHRpbWVmcmFtZTogJzFEJyxcbiAgICAgICAgdHJlbmQ6ICdCVUxMJyxcbiAgICAgICAgZGVhbGluZ1JhbmdlOiB7XG4gICAgICAgICAgaGlnaDogNTEwMDAsXG4gICAgICAgICAgbG93OiA0OTAwMCxcbiAgICAgICAgICBtaWRwb2ludDogNTAwMDAsXG4gICAgICAgICAgcHJlbWl1bVRocmVzaG9sZDogNTAwMDAsXG4gICAgICAgICAgZGlzY291bnRUaHJlc2hvbGQ6IDUwMDAwLFxuICAgICAgICAgIHJhbmdlOiAyMDAwXG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRQcmljZTogNTA1MDAsXG4gICAgICAgIGxvY2F0aW9uOiAnUFJFTUlVTScsXG4gICAgICAgIGZyYWN0YWxzOiBbXSxcbiAgICAgICAgYm9zOiBbXSxcbiAgICAgICAgbXNzOiBudWxsXG4gICAgICB9LFxuICAgICAgaDQ6IHtcbiAgICAgICAgdGltZWZyYW1lOiAnNEgnLFxuICAgICAgICB0cmVuZDogJ0JVTEwnLFxuICAgICAgICBkZWFsaW5nUmFuZ2U6IHtcbiAgICAgICAgICBoaWdoOiA1MDgwMCxcbiAgICAgICAgICBsb3c6IDQ5ODAwLFxuICAgICAgICAgIG1pZHBvaW50OiA1MDMwMCxcbiAgICAgICAgICBwcmVtaXVtVGhyZXNob2xkOiA1MDMwMCxcbiAgICAgICAgICBkaXNjb3VudFRocmVzaG9sZDogNTAzMDAsXG4gICAgICAgICAgcmFuZ2U6IDEwMDBcbiAgICAgICAgfSxcbiAgICAgICAgY3VycmVudFByaWNlOiA1MDUwMCxcbiAgICAgICAgbG9jYXRpb246ICdQUkVNSVVNJyxcbiAgICAgICAgZnJhY3RhbHM6IFtdLFxuICAgICAgICBib3M6IFtdLFxuICAgICAgICBtc3M6IG51bGxcbiAgICAgIH0sXG4gICAgICBtMTU6IHtcbiAgICAgICAgdGltZWZyYW1lOiAnMTVtJyxcbiAgICAgICAgdHJlbmQ6ICdCVUxMJyxcbiAgICAgICAgZGVhbGluZ1JhbmdlOiB7XG4gICAgICAgICAgaGlnaDogNTA2MDAsXG4gICAgICAgICAgbG93OiA1MDQwMCxcbiAgICAgICAgICBtaWRwb2ludDogNTA1MDAsXG4gICAgICAgICAgcHJlbWl1bVRocmVzaG9sZDogNTA1MDAsXG4gICAgICAgICAgZGlzY291bnRUaHJlc2hvbGQ6IDUwNTAwLFxuICAgICAgICAgIHJhbmdlOiAyMDBcbiAgICAgICAgfSxcbiAgICAgICAgY3VycmVudFByaWNlOiA1MDUwMCxcbiAgICAgICAgbG9jYXRpb246ICdFUVVJTElCUklVTScsXG4gICAgICAgIGZyYWN0YWxzOiBbXSxcbiAgICAgICAgYm9zOiBbXSxcbiAgICAgICAgbXNzOiBudWxsXG4gICAgICB9LFxuICAgICAgYWxpZ25tZW50U2NvcmU6IDg1LFxuICAgICAgc3RhdHVzOiAnQSsnLFxuICAgICAgdmV0bzoge1xuICAgICAgICB2ZXRvZWQ6IGZhbHNlLFxuICAgICAgICByZWFzb246IG51bGwsXG4gICAgICAgIGRpcmVjdGlvbjogbnVsbFxuICAgICAgfSxcbiAgICAgIHJzU2NvcmU6IDAuMDVcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlTW9ja1Nlc3Npb25TdGF0ZSh0eXBlOiAnQVNJQU4nIHwgJ0xPTkRPTicgfCAnTlknIHwgJ0RFQURfWk9ORScpOiBTZXNzaW9uU3RhdGUge1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGUsXG4gICAgICBzdGFydFRpbWU6IG5vdyAtIDM2MDAwMDAsIC8vIDEgaG91ciBhZ29cbiAgICAgIGVuZFRpbWU6IG5vdyArIDM2MDAwMDAsICAgLy8gMSBob3VyIGZyb20gbm93XG4gICAgICB0aW1lUmVtYWluaW5nOiAzNjAwMDAwICAgIC8vIDEgaG91ciByZW1haW5pbmdcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlTW9ja1NpZ25hbERhdGEoKTogU2lnbmFsRGF0YSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN5bWJvbDogJ0JUQ1VTRFQnLFxuICAgICAgZGlyZWN0aW9uOiAnTE9ORycsXG4gICAgICBob2xvZ3JhbVN0YXR1czogJ0ErJyxcbiAgICAgIGFsaWdubWVudFNjb3JlOiA4NSxcbiAgICAgIHJzU2NvcmU6IDAuMDUsXG4gICAgICBzZXNzaW9uVHlwZTogJ0xPTkRPTicsXG4gICAgICBwb2lUeXBlOiAnT1JERVJfQkxPQ0snLFxuICAgICAgY3ZkQ29uZmlybWF0aW9uOiB0cnVlLFxuICAgICAgY29uZmlkZW5jZTogOTAsXG4gICAgICBlbnRyeVByaWNlOiA1MDAwMCxcbiAgICAgIHN0b3BMb3NzOiA0OTI1MCxcbiAgICAgIHRha2VQcm9maXQ6IDUyMjUwLFxuICAgICAgcG9zaXRpb25TaXplOiAwLjEsXG4gICAgICBsZXZlcmFnZTogMyxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVNb2NrRXhlY3V0aW9uRGF0YSgpOiBFeGVjdXRpb25EYXRhIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2lnbmFsSWQ6ICdzaWduYWwtMTIzJyxcbiAgICAgIG9yZGVySWQ6ICdvcmRlci00NTYnLFxuICAgICAgc3ltYm9sOiAnQlRDVVNEVCcsXG4gICAgICBzaWRlOiAnQnV5JyxcbiAgICAgIHF0eTogMC4xLFxuICAgICAgZmlsbFByaWNlOiA1MDAyNSxcbiAgICAgIHNsaXBwYWdlOiAwLjA1LFxuICAgICAgZmVlczogMi41LFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgfTtcbiAgfVxufSk7Il0sInZlcnNpb24iOjN9