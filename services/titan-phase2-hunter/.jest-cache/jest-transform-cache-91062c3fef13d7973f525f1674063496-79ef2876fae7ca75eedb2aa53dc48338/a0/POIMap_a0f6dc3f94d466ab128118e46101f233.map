{"file":"/Users/ivan/Code/trading/titan/services/titan-phase2-hunter/src/console/POIMap.ts","mappings":"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","names":[],"sources":["/Users/ivan/Code/trading/titan/services/titan-phase2-hunter/src/console/POIMap.ts"],"sourcesContent":["/**\n * POI Map Component\n * Displays Points of Interest (Order Blocks, FVGs, Liquidity Pools)\n * \n * Requirements: 8.4 (POI Map Component)\n * - Display active Order Blocks with distance and confidence\n * - Display active FVGs with distance and confidence  \n * - Display active Liquidity Pools with strength\n * - Color code by proximity (red < 0.5%, yellow < 2%)\n */\n\nexport interface POIEntry {\n  id: string;\n  type: 'ORDER_BLOCK' | 'FVG' | 'LIQUIDITY_POOL';\n  direction: 'BULLISH' | 'BEARISH';\n  price: number;\n  distance: number; // percentage from current price\n  confidence: number;\n  age: number; // hours since creation\n  mitigated: boolean;\n  strength: number; // 0-100\n  volume?: number; // for liquidity pools\n}\n\nexport class POIMapComponent {\n  private pois: POIEntry[] = [];\n\n  constructor() {\n    // Initialize with empty POI list\n  }\n\n  updateConfig(config: { pois: POIEntry[] }): void {\n    this.pois = config.pois;\n  }\n\n  render(): string[] {\n    const lines: string[] = [];\n    \n    // Header\n    lines.push('Type      Price     Dist   Conf');\n    \n    // Sort POIs by distance (closest first)\n    const sortedPOIs = [...this.pois].sort((a, b) => Math.abs(a.distance) - Math.abs(b.distance));\n    \n    // Display up to 8 POIs\n    const displayPOIs = sortedPOIs.slice(0, 8);\n    \n    for (const poi of displayPOIs) {\n      const line = this.formatPOILine(poi);\n      lines.push(line);\n    }\n    \n    // Fill remaining lines if needed\n    while (lines.length < 9) { // 1 header + 8 data lines\n      lines.push(''.padEnd(31));\n    }\n    \n    return lines;\n  }\n\n  private formatPOILine(poi: POIEntry): string {\n    const poiColor = this.getPOIColor(poi.distance, poi.confidence);\n    const typeStr = this.formatPOIType(poi.type, poi.direction).padEnd(8);\n    const priceStr = this.formatPrice(poi.price).padEnd(8);\n    const distStr = this.formatDistance(poi.distance).padEnd(6);\n    const confStr = `${poi.confidence.toFixed(0)}%`;\n    \n    return `${poiColor}${typeStr}\\x1b[0m ${priceStr} ${distStr} ${confStr}`;\n  }\n\n  private formatPOIType(type: string, direction: string): string {\n    const typeMap = {\n      'ORDER_BLOCK': 'OB',\n      'FVG': 'FVG',\n      'LIQUIDITY_POOL': 'LIQ'\n    };\n    \n    const directionMap = {\n      'BULLISH': 'BULL',\n      'BEARISH': 'BEAR'\n    };\n    \n    const shortType = typeMap[type as keyof typeof typeMap] || type.substring(0, 3);\n    const shortDirection = directionMap[direction as keyof typeof directionMap] || direction.substring(0, 4);\n    \n    return `${shortType}-${shortDirection}`;\n  }\n\n  private formatPrice(price: number): string {\n    if (price >= 1000) {\n      return price.toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 });\n    } else if (price >= 1) {\n      return price.toFixed(2);\n    } else {\n      return price.toFixed(4);\n    }\n  }\n\n  private formatDistance(distance: number): string {\n    const sign = distance >= 0 ? '+' : '';\n    return `${sign}${distance.toFixed(1)}%`;\n  }\n\n  private getPOIColor(distance: number, confidence: number): string {\n    // Color code by proximity (red < 0.5%, yellow < 2%)\n    if (Math.abs(distance) < 0.5) {\n      return confidence > 80 ? '\\x1b[1m\\x1b[31m' : '\\x1b[31m'; // Red (very close)\n    } else if (Math.abs(distance) < 2.0) {\n      return confidence > 70 ? '\\x1b[1m\\x1b[33m' : '\\x1b[33m'; // Yellow (close)\n    } else {\n      return '\\x1b[37m'; // White (far)\n    }\n  }\n}\n\nexport default POIMapComponent;"],"version":3}