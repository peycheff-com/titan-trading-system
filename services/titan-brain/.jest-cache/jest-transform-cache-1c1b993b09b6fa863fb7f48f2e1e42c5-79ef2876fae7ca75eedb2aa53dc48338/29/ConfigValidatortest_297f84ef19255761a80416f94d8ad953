17938cbdbfed2b6cf22861b0c5273d80
"use strict";
/**
 * ConfigValidator Tests
 *
 * Comprehensive unit tests for the ConfigValidator class covering
 * environment variable validation, type checking, and error handling.
 */
Object.defineProperty(exports, "__esModule", { value: true });
// Mock Logger
jest.mock('../../src/logging/Logger.js');
const ConfigValidator_js_1 = require("../../src/config/ConfigValidator.js");
const Logger_js_1 = require("../../src/logging/Logger.js");
describe('ConfigValidator', () => {
    let configValidator;
    let mockLogger;
    let originalEnv;
    beforeEach(() => {
        // Save original environment
        originalEnv = { ...process.env };
        // Create mock logger
        mockLogger = {
            info: jest.fn(),
            warn: jest.fn(),
            error: jest.fn(),
            debug: jest.fn(),
            logSecurityEvent: jest.fn()
        };
        Logger_js_1.Logger.getInstance.mockReturnValue(mockLogger);
        configValidator = new ConfigValidator_js_1.ConfigValidator();
    });
    afterEach(() => {
        // Restore original environment
        process.env = originalEnv;
        jest.clearAllMocks();
    });
    describe('Rule Management', () => {
        it('should add custom validation rules', () => {
            const customRule = {
                name: 'CUSTOM_VAR',
                required: true,
                type: 'string',
                description: 'Custom variable'
            };
            configValidator.addRule(customRule);
            const rule = configValidator.getRule('CUSTOM_VAR');
            expect(rule).toEqual(customRule);
        });
        it('should remove validation rules', () => {
            const customRule = {
                name: 'CUSTOM_VAR',
                required: true,
                type: 'string',
                description: 'Custom variable'
            };
            configValidator.addRule(customRule);
            expect(configValidator.getRule('CUSTOM_VAR')).toBeDefined();
            configValidator.removeRule('CUSTOM_VAR');
            expect(configValidator.getRule('CUSTOM_VAR')).toBeUndefined();
        });
        it('should get all validation rules', () => {
            const rules = configValidator.getRules();
            expect(rules.length).toBeGreaterThan(0);
            expect(rules.some(rule => rule.name === 'NODE_ENV')).toBe(true);
            expect(rules.some(rule => rule.name === 'PORT')).toBe(true);
        });
    });
    describe('String Validation', () => {
        it('should validate string values', () => {
            process.env.TEST_STRING = 'test-value';
            const rule = {
                name: 'TEST_STRING',
                required: true,
                type: 'string',
                description: 'Test string'
            };
            configValidator.addRule(rule);
            const result = configValidator.validate();
            expect(result.valid).toBe(true);
            const variable = result.variables.find(v => v.name === 'TEST_STRING');
            expect(variable?.valid).toBe(true);
            expect(variable?.value).toBe('test-value');
        });
        it('should validate string patterns', () => {
            process.env.TEST_PATTERN = 'invalid-pattern';
            const rule = {
                name: 'TEST_PATTERN',
                required: true,
                type: 'string',
                pattern: /^valid-/,
                description: 'Test pattern'
            };
            configValidator.addRule(rule);
            const result = configValidator.validate();
            expect(result.valid).toBe(false);
            const variable = result.variables.find(v => v.name === 'TEST_PATTERN');
            expect(variable?.valid).toBe(false);
            expect(variable?.error).toContain('does not match required pattern');
        });
    });
    describe('Number Validation', () => {
        it('should validate number values', () => {
            process.env.TEST_NUMBER = '42';
            const rule = {
                name: 'TEST_NUMBER',
                required: true,
                type: 'number',
                description: 'Test number'
            };
            configValidator.addRule(rule);
            const result = configValidator.validate();
            expect(result.valid).toBe(true);
            const variable = result.variables.find(v => v.name === 'TEST_NUMBER');
            expect(variable?.valid).toBe(true);
            expect(variable?.value).toBe(42);
        });
        it('should validate number ranges', () => {
            process.env.TEST_RANGE = '150';
            const rule = {
                name: 'TEST_RANGE',
                required: true,
                type: 'number',
                minValue: 1,
                maxValue: 100,
                description: 'Test range'
            };
            configValidator.addRule(rule);
            const result = configValidator.validate();
            expect(result.valid).toBe(false);
            const variable = result.variables.find(v => v.name === 'TEST_RANGE');
            expect(variable?.valid).toBe(false);
            expect(variable?.error).toContain('must be <= 100');
        });
        it('should reject invalid numbers', () => {
            process.env.TEST_INVALID_NUMBER = 'not-a-number';
            const rule = {
                name: 'TEST_INVALID_NUMBER',
                required: true,
                type: 'number',
                description: 'Test invalid number'
            };
            configValidator.addRule(rule);
            const result = configValidator.validate();
            expect(result.valid).toBe(false);
            const variable = result.variables.find(v => v.name === 'TEST_INVALID_NUMBER');
            expect(variable?.valid).toBe(false);
            expect(variable?.error).toContain('must be a valid number');
        });
    });
    describe('Boolean Validation', () => {
        it('should validate true boolean values', () => {
            const testCases = ['true', '1', 'yes', 'on', 'TRUE', 'YES'];
            for (const testValue of testCases) {
                process.env.TEST_BOOLEAN = testValue;
                const rule = {
                    name: 'TEST_BOOLEAN',
                    required: true,
                    type: 'boolean',
                    description: 'Test boolean'
                };
                configValidator.removeRule('TEST_BOOLEAN');
                configValidator.addRule(rule);
                const result = configValidator.validate();
                const variable = result.variables.find(v => v.name === 'TEST_BOOLEAN');
                expect(variable?.valid).toBe(true);
                expect(variable?.value).toBe(true);
            }
        });
        it('should validate false boolean values', () => {
            const testCases = ['false', '0', 'no', 'off', 'FALSE', 'NO'];
            for (const testValue of testCases) {
                process.env.TEST_BOOLEAN = testValue;
                const rule = {
                    name: 'TEST_BOOLEAN',
                    required: true,
                    type: 'boolean',
                    description: 'Test boolean'
                };
                configValidator.removeRule('TEST_BOOLEAN');
                configValidator.addRule(rule);
                const result = configValidator.validate();
                const variable = result.variables.find(v => v.name === 'TEST_BOOLEAN');
                expect(variable?.valid).toBe(true);
                expect(variable?.value).toBe(false);
            }
        });
        it('should reject invalid boolean values', () => {
            process.env.TEST_INVALID_BOOLEAN = 'maybe';
            const rule = {
                name: 'TEST_INVALID_BOOLEAN',
                required: true,
                type: 'boolean',
                description: 'Test invalid boolean'
            };
            configValidator.addRule(rule);
            const result = configValidator.validate();
            expect(result.valid).toBe(false);
            const variable = result.variables.find(v => v.name === 'TEST_INVALID_BOOLEAN');
            expect(variable?.valid).toBe(false);
            expect(variable?.error).toContain('must be a boolean value');
        });
    });
    describe('URL Validation', () => {
        it('should validate valid URLs', () => {
            const validUrls = [
                'https://example.com',
                'http://localhost:3000',
                'postgresql://user:pass@host:5432/db',
                'redis://localhost:6379'
            ];
            for (const url of validUrls) {
                process.env.TEST_URL = url;
                const rule = {
                    name: 'TEST_URL',
                    required: true,
                    type: 'url',
                    description: 'Test URL'
                };
                configValidator.removeRule('TEST_URL');
                configValidator.addRule(rule);
                const result = configValidator.validate();
                const variable = result.variables.find(v => v.name === 'TEST_URL');
                expect(variable?.valid).toBe(true);
                expect(variable?.value).toBe(url);
            }
        });
        it('should reject invalid URLs', () => {
            process.env.TEST_INVALID_URL = 'not-a-url';
            const rule = {
                name: 'TEST_INVALID_URL',
                required: true,
                type: 'url',
                description: 'Test invalid URL'
            };
            configValidator.addRule(rule);
            const result = configValidator.validate();
            expect(result.valid).toBe(false);
            const variable = result.variables.find(v => v.name === 'TEST_INVALID_URL');
            expect(variable?.valid).toBe(false);
            expect(variable?.error).toContain('must be a valid URL');
        });
    });
    describe('Port Validation', () => {
        it('should validate valid port numbers', () => {
            const validPorts = ['80', '443', '3000', '8080', '65535'];
            for (const port of validPorts) {
                process.env.TEST_PORT = port;
                const rule = {
                    name: 'TEST_PORT',
                    required: true,
                    type: 'port',
                    description: 'Test port'
                };
                configValidator.removeRule('TEST_PORT');
                configValidator.addRule(rule);
                const result = configValidator.validate();
                const variable = result.variables.find(v => v.name === 'TEST_PORT');
                expect(variable?.valid).toBe(true);
                expect(variable?.value).toBe(parseInt(port, 10));
            }
        });
        it('should reject invalid port numbers', () => {
            const invalidPorts = ['0', '65536', '-1', 'not-a-port'];
            for (const port of invalidPorts) {
                process.env.TEST_INVALID_PORT = port;
                const rule = {
                    name: 'TEST_INVALID_PORT',
                    required: true,
                    type: 'port',
                    description: 'Test invalid port'
                };
                configValidator.removeRule('TEST_INVALID_PORT');
                configValidator.addRule(rule);
                const result = configValidator.validate();
                const variable = result.variables.find(v => v.name === 'TEST_INVALID_PORT');
                expect(variable?.valid).toBe(false);
                expect(variable?.error).toContain('must be a valid port number');
            }
        });
    });
    describe('Enum Validation', () => {
        it('should validate enum values', () => {
            process.env.TEST_ENUM = 'production';
            const rule = {
                name: 'TEST_ENUM',
                required: true,
                type: 'enum',
                enumValues: ['development', 'production', 'test'],
                description: 'Test enum'
            };
            configValidator.addRule(rule);
            const result = configValidator.validate();
            expect(result.valid).toBe(true);
            const variable = result.variables.find(v => v.name === 'TEST_ENUM');
            expect(variable?.valid).toBe(true);
            expect(variable?.value).toBe('production');
        });
        it('should reject invalid enum values', () => {
            process.env.TEST_INVALID_ENUM = 'invalid-value';
            const rule = {
                name: 'TEST_INVALID_ENUM',
                required: true,
                type: 'enum',
                enumValues: ['development', 'production', 'test'],
                description: 'Test invalid enum'
            };
            configValidator.addRule(rule);
            const result = configValidator.validate();
            expect(result.valid).toBe(false);
            const variable = result.variables.find(v => v.name === 'TEST_INVALID_ENUM');
            expect(variable?.valid).toBe(false);
            expect(variable?.error).toContain('must be one of: development, production, test');
        });
    });
    describe('Required vs Optional Variables', () => {
        it('should fail validation for missing required variables', () => {
            delete process.env.TEST_REQUIRED;
            const rule = {
                name: 'TEST_REQUIRED',
                required: true,
                type: 'string',
                description: 'Test required'
            };
            configValidator.addRule(rule);
            const result = configValidator.validate();
            expect(result.valid).toBe(false);
            const variable = result.variables.find(v => v.name === 'TEST_REQUIRED');
            expect(variable?.valid).toBe(false);
            expect(variable?.error).toContain('Required environment variable TEST_REQUIRED is not set');
        });
        it('should pass validation for missing optional variables', () => {
            delete process.env.TEST_OPTIONAL;
            const rule = {
                name: 'TEST_OPTIONAL',
                required: false,
                type: 'string',
                description: 'Test optional'
            };
            configValidator.addRule(rule);
            const result = configValidator.validate();
            const variable = result.variables.find(v => v.name === 'TEST_OPTIONAL');
            expect(variable?.valid).toBe(true);
            expect(variable?.value).toBeUndefined();
        });
        it('should use default values for missing variables', () => {
            delete process.env.TEST_DEFAULT;
            const rule = {
                name: 'TEST_DEFAULT',
                required: true,
                type: 'string',
                defaultValue: 'default-value',
                description: 'Test default'
            };
            configValidator.addRule(rule);
            const result = configValidator.validate();
            expect(result.valid).toBe(true);
            const variable = result.variables.find(v => v.name === 'TEST_DEFAULT');
            expect(variable?.valid).toBe(true);
            expect(variable?.value).toBe('default-value');
            expect(variable?.usingDefault).toBe(true);
            expect(variable?.warning).toContain('Using default value');
        });
    });
    describe('Default Rules', () => {
        it('should validate NODE_ENV', () => {
            process.env.NODE_ENV = 'production';
            const result = configValidator.validate();
            const variable = result.variables.find(v => v.name === 'NODE_ENV');
            expect(variable?.valid).toBe(true);
            expect(variable?.value).toBe('production');
        });
        it('should validate PORT', () => {
            process.env.PORT = '3000';
            const result = configValidator.validate();
            const variable = result.variables.find(v => v.name === 'PORT');
            expect(variable?.valid).toBe(true);
            expect(variable?.value).toBe(3000);
        });
        it('should validate DATABASE_URL', () => {
            process.env.DATABASE_URL = 'postgresql://user:pass@localhost:5432/db';
            const result = configValidator.validate();
            const variable = result.variables.find(v => v.name === 'DATABASE_URL');
            expect(variable?.valid).toBe(true);
            expect(variable?.value).toBe('postgresql://user:pass@localhost:5432/db');
        });
        it('should handle missing required variables with defaults', () => {
            // Clear all environment variables
            for (const rule of configValidator.getRules()) {
                delete process.env[rule.name];
            }
            const result = configValidator.validate();
            // Should still be valid due to default values
            expect(result.valid).toBe(false); // DATABASE_URL has no default
            expect(result.summary.usingDefaults).toBeGreaterThan(0);
        });
    });
    describe('Configuration Summary', () => {
        it('should provide configuration summary with masked sensitive values', () => {
            process.env.NODE_ENV = 'production';
            process.env.PORT = '3000';
            process.env.HMAC_SECRET = 'super-secret-key';
            process.env.DATABASE_URL = 'postgresql://user:pass@localhost:5432/db';
            const summary = configValidator.getConfigSummary();
            expect(summary.NODE_ENV).toBe('production');
            expect(summary.PORT).toBe('3000');
            expect(summary.HMAC_SECRET).toBe('[CONFIGURED]');
            expect(summary.DATABASE_URL).toBe('postgresql://user:pass@localhost:5432/db');
        });
        it('should show [NOT SET] for missing variables', () => {
            delete process.env.REDIS_URL;
            const summary = configValidator.getConfigSummary();
            expect(summary.REDIS_URL).toBe('[NOT SET]');
        });
    });
    describe('Validation Summary', () => {
        it('should provide validation summary', () => {
            // Set up mixed validation results
            process.env.NODE_ENV = 'production';
            process.env.PORT = 'invalid-port';
            delete process.env.DATABASE_URL;
            const result = configValidator.validate();
            expect(result.summary.total).toBeGreaterThan(0);
            expect(result.summary.valid).toBeGreaterThan(0);
            expect(result.summary.invalid).toBeGreaterThan(0);
            expect(result.summary.total).toBe(result.summary.valid + result.summary.invalid);
        });
        it('should track warnings and defaults', () => {
            // Clear optional variable to trigger default
            delete process.env.LOG_LEVEL;
            const result = configValidator.validate();
            expect(result.summary.usingDefaults).toBeGreaterThan(0);
        });
    });
    describe('Error Handling', () => {
        it('should handle unknown validation types', () => {
            const rule = {
                name: 'TEST_UNKNOWN_TYPE',
                required: true,
                type: 'unknown',
                description: 'Test unknown type'
            };
            process.env.TEST_UNKNOWN_TYPE = 'test-value';
            configValidator.addRule(rule);
            const result = configValidator.validate();
            expect(result.valid).toBe(false);
            const variable = result.variables.find(v => v.name === 'TEST_UNKNOWN_TYPE');
            expect(variable?.valid).toBe(false);
            expect(variable?.error).toContain('Unknown validation type');
        });
        it('should handle empty string values', () => {
            process.env.TEST_EMPTY = '';
            const rule = {
                name: 'TEST_EMPTY',
                required: true,
                type: 'string',
                description: 'Test empty'
            };
            configValidator.addRule(rule);
            const result = configValidator.validate();
            expect(result.valid).toBe(false);
            const variable = result.variables.find(v => v.name === 'TEST_EMPTY');
            expect(variable?.valid).toBe(false);
            expect(variable?.error).toContain('Required environment variable TEST_EMPTY is not set');
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2l2YW4vQ29kZS90cmFkaW5nL3RpdGFuL3NlcnZpY2VzL3RpdGFuLWJyYWluL3Rlc3RzL2NvbmZpZy9Db25maWdWYWxpZGF0b3IudGVzdC50cyIsIm1hcHBpbmdzIjoiO0FBQUE7Ozs7O0dBS0c7O0FBS0gsY0FBYztBQUNkLElBQUksQ0FBQyxJQUFJLENBQUMsNkJBQTZCLENBQUMsQ0FBQztBQUp6Qyw0RUFBc0Y7QUFDdEYsMkRBQXFEO0FBS3JELFFBQVEsQ0FBQyxpQkFBaUIsRUFBRSxHQUFHLEVBQUU7SUFDL0IsSUFBSSxlQUFnQyxDQUFDO0lBQ3JDLElBQUksVUFBK0IsQ0FBQztJQUNwQyxJQUFJLFdBQThCLENBQUM7SUFFbkMsVUFBVSxDQUFDLEdBQUcsRUFBRTtRQUNkLDRCQUE0QjtRQUM1QixXQUFXLEdBQUcsRUFBRSxHQUFHLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUVqQyxxQkFBcUI7UUFDckIsVUFBVSxHQUFHO1lBQ1gsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7WUFDZixJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtZQUNmLEtBQUssRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO1lBQ2hCLEtBQUssRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO1lBQ2hCLGdCQUFnQixFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7U0FDckIsQ0FBQztRQUVSLGtCQUFNLENBQUMsV0FBeUIsQ0FBQyxlQUFlLENBQUMsVUFBVSxDQUFDLENBQUM7UUFFOUQsZUFBZSxHQUFHLElBQUksb0NBQWUsRUFBRSxDQUFDO0lBQzFDLENBQUMsQ0FBQyxDQUFDO0lBRUgsU0FBUyxDQUFDLEdBQUcsRUFBRTtRQUNiLCtCQUErQjtRQUMvQixPQUFPLENBQUMsR0FBRyxHQUFHLFdBQVcsQ0FBQztRQUMxQixJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDdkIsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsaUJBQWlCLEVBQUUsR0FBRyxFQUFFO1FBQy9CLEVBQUUsQ0FBQyxvQ0FBb0MsRUFBRSxHQUFHLEVBQUU7WUFDNUMsTUFBTSxVQUFVLEdBQW1CO2dCQUNqQyxJQUFJLEVBQUUsWUFBWTtnQkFDbEIsUUFBUSxFQUFFLElBQUk7Z0JBQ2QsSUFBSSxFQUFFLFFBQVE7Z0JBQ2QsV0FBVyxFQUFFLGlCQUFpQjthQUMvQixDQUFDO1lBRUYsZUFBZSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUVwQyxNQUFNLElBQUksR0FBRyxlQUFlLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQ25ELE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDbkMsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsZ0NBQWdDLEVBQUUsR0FBRyxFQUFFO1lBQ3hDLE1BQU0sVUFBVSxHQUFtQjtnQkFDakMsSUFBSSxFQUFFLFlBQVk7Z0JBQ2xCLFFBQVEsRUFBRSxJQUFJO2dCQUNkLElBQUksRUFBRSxRQUFRO2dCQUNkLFdBQVcsRUFBRSxpQkFBaUI7YUFDL0IsQ0FBQztZQUVGLGVBQWUsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDcEMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUU1RCxlQUFlLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQ3pDLE1BQU0sQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDaEUsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsaUNBQWlDLEVBQUUsR0FBRyxFQUFFO1lBQ3pDLE1BQU0sS0FBSyxHQUFHLGVBQWUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUN6QyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN4QyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssVUFBVSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDaEUsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzlELENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsbUJBQW1CLEVBQUUsR0FBRyxFQUFFO1FBQ2pDLEVBQUUsQ0FBQywrQkFBK0IsRUFBRSxHQUFHLEVBQUU7WUFDdkMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEdBQUcsWUFBWSxDQUFDO1lBRXZDLE1BQU0sSUFBSSxHQUFtQjtnQkFDM0IsSUFBSSxFQUFFLGFBQWE7Z0JBQ25CLFFBQVEsRUFBRSxJQUFJO2dCQUNkLElBQUksRUFBRSxRQUFRO2dCQUNkLFdBQVcsRUFBRSxhQUFhO2FBQzNCLENBQUM7WUFFRixlQUFlLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzlCLE1BQU0sTUFBTSxHQUFHLGVBQWUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUUxQyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNoQyxNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssYUFBYSxDQUFDLENBQUM7WUFDdEUsTUFBTSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDbkMsTUFBTSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDN0MsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsaUNBQWlDLEVBQUUsR0FBRyxFQUFFO1lBQ3pDLE9BQU8sQ0FBQyxHQUFHLENBQUMsWUFBWSxHQUFHLGlCQUFpQixDQUFDO1lBRTdDLE1BQU0sSUFBSSxHQUFtQjtnQkFDM0IsSUFBSSxFQUFFLGNBQWM7Z0JBQ3BCLFFBQVEsRUFBRSxJQUFJO2dCQUNkLElBQUksRUFBRSxRQUFRO2dCQUNkLE9BQU8sRUFBRSxTQUFTO2dCQUNsQixXQUFXLEVBQUUsY0FBYzthQUM1QixDQUFDO1lBRUYsZUFBZSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM5QixNQUFNLE1BQU0sR0FBRyxlQUFlLENBQUMsUUFBUSxFQUFFLENBQUM7WUFFMUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDakMsTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQyxDQUFDO1lBQ3ZFLE1BQU0sQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3BDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUMsU0FBUyxDQUFDLGlDQUFpQyxDQUFDLENBQUM7UUFDdkUsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyxtQkFBbUIsRUFBRSxHQUFHLEVBQUU7UUFDakMsRUFBRSxDQUFDLCtCQUErQixFQUFFLEdBQUcsRUFBRTtZQUN2QyxPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUM7WUFFL0IsTUFBTSxJQUFJLEdBQW1CO2dCQUMzQixJQUFJLEVBQUUsYUFBYTtnQkFDbkIsUUFBUSxFQUFFLElBQUk7Z0JBQ2QsSUFBSSxFQUFFLFFBQVE7Z0JBQ2QsV0FBVyxFQUFFLGFBQWE7YUFDM0IsQ0FBQztZQUVGLGVBQWUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDOUIsTUFBTSxNQUFNLEdBQUcsZUFBZSxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBRTFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2hDLE1BQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksS0FBSyxhQUFhLENBQUMsQ0FBQztZQUN0RSxNQUFNLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNuQyxNQUFNLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNuQyxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQywrQkFBK0IsRUFBRSxHQUFHLEVBQUU7WUFDdkMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO1lBRS9CLE1BQU0sSUFBSSxHQUFtQjtnQkFDM0IsSUFBSSxFQUFFLFlBQVk7Z0JBQ2xCLFFBQVEsRUFBRSxJQUFJO2dCQUNkLElBQUksRUFBRSxRQUFRO2dCQUNkLFFBQVEsRUFBRSxDQUFDO2dCQUNYLFFBQVEsRUFBRSxHQUFHO2dCQUNiLFdBQVcsRUFBRSxZQUFZO2FBQzFCLENBQUM7WUFFRixlQUFlLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzlCLE1BQU0sTUFBTSxHQUFHLGVBQWUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUUxQyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNqQyxNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssWUFBWSxDQUFDLENBQUM7WUFDckUsTUFBTSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDcEMsTUFBTSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUN0RCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQywrQkFBK0IsRUFBRSxHQUFHLEVBQUU7WUFDdkMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsR0FBRyxjQUFjLENBQUM7WUFFakQsTUFBTSxJQUFJLEdBQW1CO2dCQUMzQixJQUFJLEVBQUUscUJBQXFCO2dCQUMzQixRQUFRLEVBQUUsSUFBSTtnQkFDZCxJQUFJLEVBQUUsUUFBUTtnQkFDZCxXQUFXLEVBQUUscUJBQXFCO2FBQ25DLENBQUM7WUFFRixlQUFlLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzlCLE1BQU0sTUFBTSxHQUFHLGVBQWUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUUxQyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNqQyxNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUsscUJBQXFCLENBQUMsQ0FBQztZQUM5RSxNQUFNLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNwQyxNQUFNLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLFNBQVMsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO1FBQzlELENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsb0JBQW9CLEVBQUUsR0FBRyxFQUFFO1FBQ2xDLEVBQUUsQ0FBQyxxQ0FBcUMsRUFBRSxHQUFHLEVBQUU7WUFDN0MsTUFBTSxTQUFTLEdBQUcsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBRTVELEtBQUssTUFBTSxTQUFTLElBQUksU0FBUyxFQUFFLENBQUM7Z0JBQ2xDLE9BQU8sQ0FBQyxHQUFHLENBQUMsWUFBWSxHQUFHLFNBQVMsQ0FBQztnQkFFckMsTUFBTSxJQUFJLEdBQW1CO29CQUMzQixJQUFJLEVBQUUsY0FBYztvQkFDcEIsUUFBUSxFQUFFLElBQUk7b0JBQ2QsSUFBSSxFQUFFLFNBQVM7b0JBQ2YsV0FBVyxFQUFFLGNBQWM7aUJBQzVCLENBQUM7Z0JBRUYsZUFBZSxDQUFDLFVBQVUsQ0FBQyxjQUFjLENBQUMsQ0FBQztnQkFDM0MsZUFBZSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDOUIsTUFBTSxNQUFNLEdBQUcsZUFBZSxDQUFDLFFBQVEsRUFBRSxDQUFDO2dCQUUxQyxNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssY0FBYyxDQUFDLENBQUM7Z0JBQ3ZFLE1BQU0sQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNuQyxNQUFNLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNyQyxDQUFDO1FBQ0gsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsc0NBQXNDLEVBQUUsR0FBRyxFQUFFO1lBQzlDLE1BQU0sU0FBUyxHQUFHLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztZQUU3RCxLQUFLLE1BQU0sU0FBUyxJQUFJLFNBQVMsRUFBRSxDQUFDO2dCQUNsQyxPQUFPLENBQUMsR0FBRyxDQUFDLFlBQVksR0FBRyxTQUFTLENBQUM7Z0JBRXJDLE1BQU0sSUFBSSxHQUFtQjtvQkFDM0IsSUFBSSxFQUFFLGNBQWM7b0JBQ3BCLFFBQVEsRUFBRSxJQUFJO29CQUNkLElBQUksRUFBRSxTQUFTO29CQUNmLFdBQVcsRUFBRSxjQUFjO2lCQUM1QixDQUFDO2dCQUVGLGVBQWUsQ0FBQyxVQUFVLENBQUMsY0FBYyxDQUFDLENBQUM7Z0JBQzNDLGVBQWUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQzlCLE1BQU0sTUFBTSxHQUFHLGVBQWUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztnQkFFMUMsTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQyxDQUFDO2dCQUN2RSxNQUFNLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDbkMsTUFBTSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDdEMsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLHNDQUFzQyxFQUFFLEdBQUcsRUFBRTtZQUM5QyxPQUFPLENBQUMsR0FBRyxDQUFDLG9CQUFvQixHQUFHLE9BQU8sQ0FBQztZQUUzQyxNQUFNLElBQUksR0FBbUI7Z0JBQzNCLElBQUksRUFBRSxzQkFBc0I7Z0JBQzVCLFFBQVEsRUFBRSxJQUFJO2dCQUNkLElBQUksRUFBRSxTQUFTO2dCQUNmLFdBQVcsRUFBRSxzQkFBc0I7YUFDcEMsQ0FBQztZQUVGLGVBQWUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDOUIsTUFBTSxNQUFNLEdBQUcsZUFBZSxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBRTFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2pDLE1BQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksS0FBSyxzQkFBc0IsQ0FBQyxDQUFDO1lBQy9FLE1BQU0sQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3BDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUMsU0FBUyxDQUFDLHlCQUF5QixDQUFDLENBQUM7UUFDL0QsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRSxHQUFHLEVBQUU7UUFDOUIsRUFBRSxDQUFDLDRCQUE0QixFQUFFLEdBQUcsRUFBRTtZQUNwQyxNQUFNLFNBQVMsR0FBRztnQkFDaEIscUJBQXFCO2dCQUNyQix1QkFBdUI7Z0JBQ3ZCLHFDQUFxQztnQkFDckMsd0JBQXdCO2FBQ3pCLENBQUM7WUFFRixLQUFLLE1BQU0sR0FBRyxJQUFJLFNBQVMsRUFBRSxDQUFDO2dCQUM1QixPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsR0FBRyxHQUFHLENBQUM7Z0JBRTNCLE1BQU0sSUFBSSxHQUFtQjtvQkFDM0IsSUFBSSxFQUFFLFVBQVU7b0JBQ2hCLFFBQVEsRUFBRSxJQUFJO29CQUNkLElBQUksRUFBRSxLQUFLO29CQUNYLFdBQVcsRUFBRSxVQUFVO2lCQUN4QixDQUFDO2dCQUVGLGVBQWUsQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQ3ZDLGVBQWUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQzlCLE1BQU0sTUFBTSxHQUFHLGVBQWUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztnQkFFMUMsTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLFVBQVUsQ0FBQyxDQUFDO2dCQUNuRSxNQUFNLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDbkMsTUFBTSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDcEMsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLDRCQUE0QixFQUFFLEdBQUcsRUFBRTtZQUNwQyxPQUFPLENBQUMsR0FBRyxDQUFDLGdCQUFnQixHQUFHLFdBQVcsQ0FBQztZQUUzQyxNQUFNLElBQUksR0FBbUI7Z0JBQzNCLElBQUksRUFBRSxrQkFBa0I7Z0JBQ3hCLFFBQVEsRUFBRSxJQUFJO2dCQUNkLElBQUksRUFBRSxLQUFLO2dCQUNYLFdBQVcsRUFBRSxrQkFBa0I7YUFDaEMsQ0FBQztZQUVGLGVBQWUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDOUIsTUFBTSxNQUFNLEdBQUcsZUFBZSxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBRTFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2pDLE1BQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksS0FBSyxrQkFBa0IsQ0FBQyxDQUFDO1lBQzNFLE1BQU0sQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3BDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUMsU0FBUyxDQUFDLHFCQUFxQixDQUFDLENBQUM7UUFDM0QsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyxpQkFBaUIsRUFBRSxHQUFHLEVBQUU7UUFDL0IsRUFBRSxDQUFDLG9DQUFvQyxFQUFFLEdBQUcsRUFBRTtZQUM1QyxNQUFNLFVBQVUsR0FBRyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztZQUUxRCxLQUFLLE1BQU0sSUFBSSxJQUFJLFVBQVUsRUFBRSxDQUFDO2dCQUM5QixPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7Z0JBRTdCLE1BQU0sSUFBSSxHQUFtQjtvQkFDM0IsSUFBSSxFQUFFLFdBQVc7b0JBQ2pCLFFBQVEsRUFBRSxJQUFJO29CQUNkLElBQUksRUFBRSxNQUFNO29CQUNaLFdBQVcsRUFBRSxXQUFXO2lCQUN6QixDQUFDO2dCQUVGLGVBQWUsQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQ3hDLGVBQWUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQzlCLE1BQU0sTUFBTSxHQUFHLGVBQWUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztnQkFFMUMsTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLFdBQVcsQ0FBQyxDQUFDO2dCQUNwRSxNQUFNLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDbkMsTUFBTSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ25ELENBQUM7UUFDSCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxvQ0FBb0MsRUFBRSxHQUFHLEVBQUU7WUFDNUMsTUFBTSxZQUFZLEdBQUcsQ0FBQyxHQUFHLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxZQUFZLENBQUMsQ0FBQztZQUV4RCxLQUFLLE1BQU0sSUFBSSxJQUFJLFlBQVksRUFBRSxDQUFDO2dCQUNoQyxPQUFPLENBQUMsR0FBRyxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQztnQkFFckMsTUFBTSxJQUFJLEdBQW1CO29CQUMzQixJQUFJLEVBQUUsbUJBQW1CO29CQUN6QixRQUFRLEVBQUUsSUFBSTtvQkFDZCxJQUFJLEVBQUUsTUFBTTtvQkFDWixXQUFXLEVBQUUsbUJBQW1CO2lCQUNqQyxDQUFDO2dCQUVGLGVBQWUsQ0FBQyxVQUFVLENBQUMsbUJBQW1CLENBQUMsQ0FBQztnQkFDaEQsZUFBZSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDOUIsTUFBTSxNQUFNLEdBQUcsZUFBZSxDQUFDLFFBQVEsRUFBRSxDQUFDO2dCQUUxQyxNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssbUJBQW1CLENBQUMsQ0FBQztnQkFDNUUsTUFBTSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQ3BDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUMsU0FBUyxDQUFDLDZCQUE2QixDQUFDLENBQUM7WUFDbkUsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsaUJBQWlCLEVBQUUsR0FBRyxFQUFFO1FBQy9CLEVBQUUsQ0FBQyw2QkFBNkIsRUFBRSxHQUFHLEVBQUU7WUFDckMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEdBQUcsWUFBWSxDQUFDO1lBRXJDLE1BQU0sSUFBSSxHQUFtQjtnQkFDM0IsSUFBSSxFQUFFLFdBQVc7Z0JBQ2pCLFFBQVEsRUFBRSxJQUFJO2dCQUNkLElBQUksRUFBRSxNQUFNO2dCQUNaLFVBQVUsRUFBRSxDQUFDLGFBQWEsRUFBRSxZQUFZLEVBQUUsTUFBTSxDQUFDO2dCQUNqRCxXQUFXLEVBQUUsV0FBVzthQUN6QixDQUFDO1lBRUYsZUFBZSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM5QixNQUFNLE1BQU0sR0FBRyxlQUFlLENBQUMsUUFBUSxFQUFFLENBQUM7WUFFMUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDaEMsTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLFdBQVcsQ0FBQyxDQUFDO1lBQ3BFLE1BQU0sQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ25DLE1BQU0sQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQzdDLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLG1DQUFtQyxFQUFFLEdBQUcsRUFBRTtZQUMzQyxPQUFPLENBQUMsR0FBRyxDQUFDLGlCQUFpQixHQUFHLGVBQWUsQ0FBQztZQUVoRCxNQUFNLElBQUksR0FBbUI7Z0JBQzNCLElBQUksRUFBRSxtQkFBbUI7Z0JBQ3pCLFFBQVEsRUFBRSxJQUFJO2dCQUNkLElBQUksRUFBRSxNQUFNO2dCQUNaLFVBQVUsRUFBRSxDQUFDLGFBQWEsRUFBRSxZQUFZLEVBQUUsTUFBTSxDQUFDO2dCQUNqRCxXQUFXLEVBQUUsbUJBQW1CO2FBQ2pDLENBQUM7WUFFRixlQUFlLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzlCLE1BQU0sTUFBTSxHQUFHLGVBQWUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUUxQyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNqQyxNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssbUJBQW1CLENBQUMsQ0FBQztZQUM1RSxNQUFNLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNwQyxNQUFNLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLFNBQVMsQ0FBQywrQ0FBK0MsQ0FBQyxDQUFDO1FBQ3JGLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsZ0NBQWdDLEVBQUUsR0FBRyxFQUFFO1FBQzlDLEVBQUUsQ0FBQyx1REFBdUQsRUFBRSxHQUFHLEVBQUU7WUFDL0QsT0FBTyxPQUFPLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQztZQUVqQyxNQUFNLElBQUksR0FBbUI7Z0JBQzNCLElBQUksRUFBRSxlQUFlO2dCQUNyQixRQUFRLEVBQUUsSUFBSTtnQkFDZCxJQUFJLEVBQUUsUUFBUTtnQkFDZCxXQUFXLEVBQUUsZUFBZTthQUM3QixDQUFDO1lBRUYsZUFBZSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM5QixNQUFNLE1BQU0sR0FBRyxlQUFlLENBQUMsUUFBUSxFQUFFLENBQUM7WUFFMUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDakMsTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLGVBQWUsQ0FBQyxDQUFDO1lBQ3hFLE1BQU0sQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3BDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUMsU0FBUyxDQUFDLHdEQUF3RCxDQUFDLENBQUM7UUFDOUYsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsdURBQXVELEVBQUUsR0FBRyxFQUFFO1lBQy9ELE9BQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUM7WUFFakMsTUFBTSxJQUFJLEdBQW1CO2dCQUMzQixJQUFJLEVBQUUsZUFBZTtnQkFDckIsUUFBUSxFQUFFLEtBQUs7Z0JBQ2YsSUFBSSxFQUFFLFFBQVE7Z0JBQ2QsV0FBVyxFQUFFLGVBQWU7YUFDN0IsQ0FBQztZQUVGLGVBQWUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDOUIsTUFBTSxNQUFNLEdBQUcsZUFBZSxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBRTFDLE1BQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksS0FBSyxlQUFlLENBQUMsQ0FBQztZQUN4RSxNQUFNLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNuQyxNQUFNLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQzFDLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLGlEQUFpRCxFQUFFLEdBQUcsRUFBRTtZQUN6RCxPQUFPLE9BQU8sQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDO1lBRWhDLE1BQU0sSUFBSSxHQUFtQjtnQkFDM0IsSUFBSSxFQUFFLGNBQWM7Z0JBQ3BCLFFBQVEsRUFBRSxJQUFJO2dCQUNkLElBQUksRUFBRSxRQUFRO2dCQUNkLFlBQVksRUFBRSxlQUFlO2dCQUM3QixXQUFXLEVBQUUsY0FBYzthQUM1QixDQUFDO1lBRUYsZUFBZSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM5QixNQUFNLE1BQU0sR0FBRyxlQUFlLENBQUMsUUFBUSxFQUFFLENBQUM7WUFFMUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDaEMsTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQyxDQUFDO1lBQ3ZFLE1BQU0sQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ25DLE1BQU0sQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1lBQzlDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsWUFBWSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUMsU0FBUyxDQUFDLHFCQUFxQixDQUFDLENBQUM7UUFDN0QsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyxlQUFlLEVBQUUsR0FBRyxFQUFFO1FBQzdCLEVBQUUsQ0FBQywwQkFBMEIsRUFBRSxHQUFHLEVBQUU7WUFDbEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEdBQUcsWUFBWSxDQUFDO1lBRXBDLE1BQU0sTUFBTSxHQUFHLGVBQWUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUMxQyxNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssVUFBVSxDQUFDLENBQUM7WUFFbkUsTUFBTSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDbkMsTUFBTSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDN0MsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsc0JBQXNCLEVBQUUsR0FBRyxFQUFFO1lBQzlCLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQztZQUUxQixNQUFNLE1BQU0sR0FBRyxlQUFlLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDMUMsTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLE1BQU0sQ0FBQyxDQUFDO1lBRS9ELE1BQU0sQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ25DLE1BQU0sQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3JDLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLDhCQUE4QixFQUFFLEdBQUcsRUFBRTtZQUN0QyxPQUFPLENBQUMsR0FBRyxDQUFDLFlBQVksR0FBRywwQ0FBMEMsQ0FBQztZQUV0RSxNQUFNLE1BQU0sR0FBRyxlQUFlLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDMUMsTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQyxDQUFDO1lBRXZFLE1BQU0sQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ25DLE1BQU0sQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLDBDQUEwQyxDQUFDLENBQUM7UUFDM0UsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsd0RBQXdELEVBQUUsR0FBRyxFQUFFO1lBQ2hFLGtDQUFrQztZQUNsQyxLQUFLLE1BQU0sSUFBSSxJQUFJLGVBQWUsQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDO2dCQUM5QyxPQUFPLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2hDLENBQUM7WUFFRCxNQUFNLE1BQU0sR0FBRyxlQUFlLENBQUMsUUFBUSxFQUFFLENBQUM7WUFFMUMsOENBQThDO1lBQzlDLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsOEJBQThCO1lBQ2hFLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMxRCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLHVCQUF1QixFQUFFLEdBQUcsRUFBRTtRQUNyQyxFQUFFLENBQUMsbUVBQW1FLEVBQUUsR0FBRyxFQUFFO1lBQzNFLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxHQUFHLFlBQVksQ0FBQztZQUNwQyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksR0FBRyxNQUFNLENBQUM7WUFDMUIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEdBQUcsa0JBQWtCLENBQUM7WUFDN0MsT0FBTyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEdBQUcsMENBQTBDLENBQUM7WUFFdEUsTUFBTSxPQUFPLEdBQUcsZUFBZSxDQUFDLGdCQUFnQixFQUFFLENBQUM7WUFFbkQsTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDNUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDbEMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7WUFDakQsTUFBTSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxJQUFJLENBQUMsMENBQTBDLENBQUMsQ0FBQztRQUNoRixDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyw2Q0FBNkMsRUFBRSxHQUFHLEVBQUU7WUFDckQsT0FBTyxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQztZQUU3QixNQUFNLE9BQU8sR0FBRyxlQUFlLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztZQUVuRCxNQUFNLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUM5QyxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLG9CQUFvQixFQUFFLEdBQUcsRUFBRTtRQUNsQyxFQUFFLENBQUMsbUNBQW1DLEVBQUUsR0FBRyxFQUFFO1lBQzNDLGtDQUFrQztZQUNsQyxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsR0FBRyxZQUFZLENBQUM7WUFDcEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEdBQUcsY0FBYyxDQUFDO1lBQ2xDLE9BQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUM7WUFFaEMsTUFBTSxNQUFNLEdBQUcsZUFBZSxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBRTFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNoRCxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDaEQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xELE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FDL0IsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQzlDLENBQUM7UUFDSixDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxvQ0FBb0MsRUFBRSxHQUFHLEVBQUU7WUFDNUMsNkNBQTZDO1lBQzdDLE9BQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUM7WUFFN0IsTUFBTSxNQUFNLEdBQUcsZUFBZSxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBRTFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMxRCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLGdCQUFnQixFQUFFLEdBQUcsRUFBRTtRQUM5QixFQUFFLENBQUMsd0NBQXdDLEVBQUUsR0FBRyxFQUFFO1lBQ2hELE1BQU0sSUFBSSxHQUFtQjtnQkFDM0IsSUFBSSxFQUFFLG1CQUFtQjtnQkFDekIsUUFBUSxFQUFFLElBQUk7Z0JBQ2QsSUFBSSxFQUFFLFNBQWdCO2dCQUN0QixXQUFXLEVBQUUsbUJBQW1CO2FBQ2pDLENBQUM7WUFFRixPQUFPLENBQUMsR0FBRyxDQUFDLGlCQUFpQixHQUFHLFlBQVksQ0FBQztZQUU3QyxlQUFlLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzlCLE1BQU0sTUFBTSxHQUFHLGVBQWUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUUxQyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNqQyxNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssbUJBQW1CLENBQUMsQ0FBQztZQUM1RSxNQUFNLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNwQyxNQUFNLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLFNBQVMsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO1FBQy9ELENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLG1DQUFtQyxFQUFFLEdBQUcsRUFBRTtZQUMzQyxPQUFPLENBQUMsR0FBRyxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7WUFFNUIsTUFBTSxJQUFJLEdBQW1CO2dCQUMzQixJQUFJLEVBQUUsWUFBWTtnQkFDbEIsUUFBUSxFQUFFLElBQUk7Z0JBQ2QsSUFBSSxFQUFFLFFBQVE7Z0JBQ2QsV0FBVyxFQUFFLFlBQVk7YUFDMUIsQ0FBQztZQUVGLGVBQWUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDOUIsTUFBTSxNQUFNLEdBQUcsZUFBZSxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBRTFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2pDLE1BQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksS0FBSyxZQUFZLENBQUMsQ0FBQztZQUNyRSxNQUFNLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNwQyxNQUFNLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLFNBQVMsQ0FBQyxxREFBcUQsQ0FBQyxDQUFDO1FBQzNGLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvaXZhbi9Db2RlL3RyYWRpbmcvdGl0YW4vc2VydmljZXMvdGl0YW4tYnJhaW4vdGVzdHMvY29uZmlnL0NvbmZpZ1ZhbGlkYXRvci50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29uZmlnVmFsaWRhdG9yIFRlc3RzXG4gKiBcbiAqIENvbXByZWhlbnNpdmUgdW5pdCB0ZXN0cyBmb3IgdGhlIENvbmZpZ1ZhbGlkYXRvciBjbGFzcyBjb3ZlcmluZ1xuICogZW52aXJvbm1lbnQgdmFyaWFibGUgdmFsaWRhdGlvbiwgdHlwZSBjaGVja2luZywgYW5kIGVycm9yIGhhbmRsaW5nLlxuICovXG5cbmltcG9ydCB7IENvbmZpZ1ZhbGlkYXRvciwgVmFsaWRhdGlvblJ1bGUgfSBmcm9tICcuLi8uLi9zcmMvY29uZmlnL0NvbmZpZ1ZhbGlkYXRvci5qcyc7XG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tICcuLi8uLi9zcmMvbG9nZ2luZy9Mb2dnZXIuanMnO1xuXG4vLyBNb2NrIExvZ2dlclxuamVzdC5tb2NrKCcuLi8uLi9zcmMvbG9nZ2luZy9Mb2dnZXIuanMnKTtcblxuZGVzY3JpYmUoJ0NvbmZpZ1ZhbGlkYXRvcicsICgpID0+IHtcbiAgbGV0IGNvbmZpZ1ZhbGlkYXRvcjogQ29uZmlnVmFsaWRhdG9yO1xuICBsZXQgbW9ja0xvZ2dlcjogamVzdC5Nb2NrZWQ8TG9nZ2VyPjtcbiAgbGV0IG9yaWdpbmFsRW52OiBOb2RlSlMuUHJvY2Vzc0VudjtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAvLyBTYXZlIG9yaWdpbmFsIGVudmlyb25tZW50XG4gICAgb3JpZ2luYWxFbnYgPSB7IC4uLnByb2Nlc3MuZW52IH07XG5cbiAgICAvLyBDcmVhdGUgbW9jayBsb2dnZXJcbiAgICBtb2NrTG9nZ2VyID0ge1xuICAgICAgaW5mbzogamVzdC5mbigpLFxuICAgICAgd2FybjogamVzdC5mbigpLFxuICAgICAgZXJyb3I6IGplc3QuZm4oKSxcbiAgICAgIGRlYnVnOiBqZXN0LmZuKCksXG4gICAgICBsb2dTZWN1cml0eUV2ZW50OiBqZXN0LmZuKClcbiAgICB9IGFzIGFueTtcblxuICAgIChMb2dnZXIuZ2V0SW5zdGFuY2UgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUobW9ja0xvZ2dlcik7XG5cbiAgICBjb25maWdWYWxpZGF0b3IgPSBuZXcgQ29uZmlnVmFsaWRhdG9yKCk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgLy8gUmVzdG9yZSBvcmlnaW5hbCBlbnZpcm9ubWVudFxuICAgIHByb2Nlc3MuZW52ID0gb3JpZ2luYWxFbnY7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdSdWxlIE1hbmFnZW1lbnQnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBhZGQgY3VzdG9tIHZhbGlkYXRpb24gcnVsZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjdXN0b21SdWxlOiBWYWxpZGF0aW9uUnVsZSA9IHtcbiAgICAgICAgbmFtZTogJ0NVU1RPTV9WQVInLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQ3VzdG9tIHZhcmlhYmxlJ1xuICAgICAgfTtcblxuICAgICAgY29uZmlnVmFsaWRhdG9yLmFkZFJ1bGUoY3VzdG9tUnVsZSk7XG5cbiAgICAgIGNvbnN0IHJ1bGUgPSBjb25maWdWYWxpZGF0b3IuZ2V0UnVsZSgnQ1VTVE9NX1ZBUicpO1xuICAgICAgZXhwZWN0KHJ1bGUpLnRvRXF1YWwoY3VzdG9tUnVsZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlbW92ZSB2YWxpZGF0aW9uIHJ1bGVzJywgKCkgPT4ge1xuICAgICAgY29uc3QgY3VzdG9tUnVsZTogVmFsaWRhdGlvblJ1bGUgPSB7XG4gICAgICAgIG5hbWU6ICdDVVNUT01fVkFSJyxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0N1c3RvbSB2YXJpYWJsZSdcbiAgICAgIH07XG5cbiAgICAgIGNvbmZpZ1ZhbGlkYXRvci5hZGRSdWxlKGN1c3RvbVJ1bGUpO1xuICAgICAgZXhwZWN0KGNvbmZpZ1ZhbGlkYXRvci5nZXRSdWxlKCdDVVNUT01fVkFSJykpLnRvQmVEZWZpbmVkKCk7XG5cbiAgICAgIGNvbmZpZ1ZhbGlkYXRvci5yZW1vdmVSdWxlKCdDVVNUT01fVkFSJyk7XG4gICAgICBleHBlY3QoY29uZmlnVmFsaWRhdG9yLmdldFJ1bGUoJ0NVU1RPTV9WQVInKSkudG9CZVVuZGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZXQgYWxsIHZhbGlkYXRpb24gcnVsZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBydWxlcyA9IGNvbmZpZ1ZhbGlkYXRvci5nZXRSdWxlcygpO1xuICAgICAgZXhwZWN0KHJ1bGVzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgZXhwZWN0KHJ1bGVzLnNvbWUocnVsZSA9PiBydWxlLm5hbWUgPT09ICdOT0RFX0VOVicpKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJ1bGVzLnNvbWUocnVsZSA9PiBydWxlLm5hbWUgPT09ICdQT1JUJykpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTdHJpbmcgVmFsaWRhdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIHN0cmluZyB2YWx1ZXMnLCAoKSA9PiB7XG4gICAgICBwcm9jZXNzLmVudi5URVNUX1NUUklORyA9ICd0ZXN0LXZhbHVlJztcblxuICAgICAgY29uc3QgcnVsZTogVmFsaWRhdGlvblJ1bGUgPSB7XG4gICAgICAgIG5hbWU6ICdURVNUX1NUUklORycsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdUZXN0IHN0cmluZydcbiAgICAgIH07XG5cbiAgICAgIGNvbmZpZ1ZhbGlkYXRvci5hZGRSdWxlKHJ1bGUpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gY29uZmlnVmFsaWRhdG9yLnZhbGlkYXRlKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICBjb25zdCB2YXJpYWJsZSA9IHJlc3VsdC52YXJpYWJsZXMuZmluZCh2ID0+IHYubmFtZSA9PT0gJ1RFU1RfU1RSSU5HJyk7XG4gICAgICBleHBlY3QodmFyaWFibGU/LnZhbGlkKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHZhcmlhYmxlPy52YWx1ZSkudG9CZSgndGVzdC12YWx1ZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBzdHJpbmcgcGF0dGVybnMnLCAoKSA9PiB7XG4gICAgICBwcm9jZXNzLmVudi5URVNUX1BBVFRFUk4gPSAnaW52YWxpZC1wYXR0ZXJuJztcblxuICAgICAgY29uc3QgcnVsZTogVmFsaWRhdGlvblJ1bGUgPSB7XG4gICAgICAgIG5hbWU6ICdURVNUX1BBVFRFUk4nLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgIHBhdHRlcm46IC9edmFsaWQtLyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdUZXN0IHBhdHRlcm4nXG4gICAgICB9O1xuXG4gICAgICBjb25maWdWYWxpZGF0b3IuYWRkUnVsZShydWxlKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbmZpZ1ZhbGlkYXRvci52YWxpZGF0ZSgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgIGNvbnN0IHZhcmlhYmxlID0gcmVzdWx0LnZhcmlhYmxlcy5maW5kKHYgPT4gdi5uYW1lID09PSAnVEVTVF9QQVRURVJOJyk7XG4gICAgICBleHBlY3QodmFyaWFibGU/LnZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdCh2YXJpYWJsZT8uZXJyb3IpLnRvQ29udGFpbignZG9lcyBub3QgbWF0Y2ggcmVxdWlyZWQgcGF0dGVybicpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTnVtYmVyIFZhbGlkYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBudW1iZXIgdmFsdWVzJywgKCkgPT4ge1xuICAgICAgcHJvY2Vzcy5lbnYuVEVTVF9OVU1CRVIgPSAnNDInO1xuXG4gICAgICBjb25zdCBydWxlOiBWYWxpZGF0aW9uUnVsZSA9IHtcbiAgICAgICAgbmFtZTogJ1RFU1RfTlVNQkVSJyxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1Rlc3QgbnVtYmVyJ1xuICAgICAgfTtcblxuICAgICAgY29uZmlnVmFsaWRhdG9yLmFkZFJ1bGUocnVsZSk7XG4gICAgICBjb25zdCByZXN1bHQgPSBjb25maWdWYWxpZGF0b3IudmFsaWRhdGUoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZSh0cnVlKTtcbiAgICAgIGNvbnN0IHZhcmlhYmxlID0gcmVzdWx0LnZhcmlhYmxlcy5maW5kKHYgPT4gdi5uYW1lID09PSAnVEVTVF9OVU1CRVInKTtcbiAgICAgIGV4cGVjdCh2YXJpYWJsZT8udmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QodmFyaWFibGU/LnZhbHVlKS50b0JlKDQyKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgbnVtYmVyIHJhbmdlcycsICgpID0+IHtcbiAgICAgIHByb2Nlc3MuZW52LlRFU1RfUkFOR0UgPSAnMTUwJztcblxuICAgICAgY29uc3QgcnVsZTogVmFsaWRhdGlvblJ1bGUgPSB7XG4gICAgICAgIG5hbWU6ICdURVNUX1JBTkdFJyxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBtaW5WYWx1ZTogMSxcbiAgICAgICAgbWF4VmFsdWU6IDEwMCxcbiAgICAgICAgZGVzY3JpcHRpb246ICdUZXN0IHJhbmdlJ1xuICAgICAgfTtcblxuICAgICAgY29uZmlnVmFsaWRhdG9yLmFkZFJ1bGUocnVsZSk7XG4gICAgICBjb25zdCByZXN1bHQgPSBjb25maWdWYWxpZGF0b3IudmFsaWRhdGUoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgICBjb25zdCB2YXJpYWJsZSA9IHJlc3VsdC52YXJpYWJsZXMuZmluZCh2ID0+IHYubmFtZSA9PT0gJ1RFU1RfUkFOR0UnKTtcbiAgICAgIGV4cGVjdCh2YXJpYWJsZT8udmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KHZhcmlhYmxlPy5lcnJvcikudG9Db250YWluKCdtdXN0IGJlIDw9IDEwMCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgaW52YWxpZCBudW1iZXJzJywgKCkgPT4ge1xuICAgICAgcHJvY2Vzcy5lbnYuVEVTVF9JTlZBTElEX05VTUJFUiA9ICdub3QtYS1udW1iZXInO1xuXG4gICAgICBjb25zdCBydWxlOiBWYWxpZGF0aW9uUnVsZSA9IHtcbiAgICAgICAgbmFtZTogJ1RFU1RfSU5WQUxJRF9OVU1CRVInLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGVzdCBpbnZhbGlkIG51bWJlcidcbiAgICAgIH07XG5cbiAgICAgIGNvbmZpZ1ZhbGlkYXRvci5hZGRSdWxlKHJ1bGUpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gY29uZmlnVmFsaWRhdG9yLnZhbGlkYXRlKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgICAgY29uc3QgdmFyaWFibGUgPSByZXN1bHQudmFyaWFibGVzLmZpbmQodiA9PiB2Lm5hbWUgPT09ICdURVNUX0lOVkFMSURfTlVNQkVSJyk7XG4gICAgICBleHBlY3QodmFyaWFibGU/LnZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdCh2YXJpYWJsZT8uZXJyb3IpLnRvQ29udGFpbignbXVzdCBiZSBhIHZhbGlkIG51bWJlcicpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQm9vbGVhbiBWYWxpZGF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgdHJ1ZSBib29sZWFuIHZhbHVlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHRlc3RDYXNlcyA9IFsndHJ1ZScsICcxJywgJ3llcycsICdvbicsICdUUlVFJywgJ1lFUyddO1xuXG4gICAgICBmb3IgKGNvbnN0IHRlc3RWYWx1ZSBvZiB0ZXN0Q2FzZXMpIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuVEVTVF9CT09MRUFOID0gdGVzdFZhbHVlO1xuXG4gICAgICAgIGNvbnN0IHJ1bGU6IFZhbGlkYXRpb25SdWxlID0ge1xuICAgICAgICAgIG5hbWU6ICdURVNUX0JPT0xFQU4nLFxuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1Rlc3QgYm9vbGVhbidcbiAgICAgICAgfTtcblxuICAgICAgICBjb25maWdWYWxpZGF0b3IucmVtb3ZlUnVsZSgnVEVTVF9CT09MRUFOJyk7XG4gICAgICAgIGNvbmZpZ1ZhbGlkYXRvci5hZGRSdWxlKHJ1bGUpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjb25maWdWYWxpZGF0b3IudmFsaWRhdGUoKTtcblxuICAgICAgICBjb25zdCB2YXJpYWJsZSA9IHJlc3VsdC52YXJpYWJsZXMuZmluZCh2ID0+IHYubmFtZSA9PT0gJ1RFU1RfQk9PTEVBTicpO1xuICAgICAgICBleHBlY3QodmFyaWFibGU/LnZhbGlkKS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QodmFyaWFibGU/LnZhbHVlKS50b0JlKHRydWUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBmYWxzZSBib29sZWFuIHZhbHVlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHRlc3RDYXNlcyA9IFsnZmFsc2UnLCAnMCcsICdubycsICdvZmYnLCAnRkFMU0UnLCAnTk8nXTtcblxuICAgICAgZm9yIChjb25zdCB0ZXN0VmFsdWUgb2YgdGVzdENhc2VzKSB7XG4gICAgICAgIHByb2Nlc3MuZW52LlRFU1RfQk9PTEVBTiA9IHRlc3RWYWx1ZTtcblxuICAgICAgICBjb25zdCBydWxlOiBWYWxpZGF0aW9uUnVsZSA9IHtcbiAgICAgICAgICBuYW1lOiAnVEVTVF9CT09MRUFOJyxcbiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICB0eXBlOiAnYm9vbGVhbicsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdUZXN0IGJvb2xlYW4nXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uZmlnVmFsaWRhdG9yLnJlbW92ZVJ1bGUoJ1RFU1RfQk9PTEVBTicpO1xuICAgICAgICBjb25maWdWYWxpZGF0b3IuYWRkUnVsZShydWxlKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY29uZmlnVmFsaWRhdG9yLnZhbGlkYXRlKCk7XG5cbiAgICAgICAgY29uc3QgdmFyaWFibGUgPSByZXN1bHQudmFyaWFibGVzLmZpbmQodiA9PiB2Lm5hbWUgPT09ICdURVNUX0JPT0xFQU4nKTtcbiAgICAgICAgZXhwZWN0KHZhcmlhYmxlPy52YWxpZCkudG9CZSh0cnVlKTtcbiAgICAgICAgZXhwZWN0KHZhcmlhYmxlPy52YWx1ZSkudG9CZShmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlamVjdCBpbnZhbGlkIGJvb2xlYW4gdmFsdWVzJywgKCkgPT4ge1xuICAgICAgcHJvY2Vzcy5lbnYuVEVTVF9JTlZBTElEX0JPT0xFQU4gPSAnbWF5YmUnO1xuXG4gICAgICBjb25zdCBydWxlOiBWYWxpZGF0aW9uUnVsZSA9IHtcbiAgICAgICAgbmFtZTogJ1RFU1RfSU5WQUxJRF9CT09MRUFOJyxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdUZXN0IGludmFsaWQgYm9vbGVhbidcbiAgICAgIH07XG5cbiAgICAgIGNvbmZpZ1ZhbGlkYXRvci5hZGRSdWxlKHJ1bGUpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gY29uZmlnVmFsaWRhdG9yLnZhbGlkYXRlKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgICAgY29uc3QgdmFyaWFibGUgPSByZXN1bHQudmFyaWFibGVzLmZpbmQodiA9PiB2Lm5hbWUgPT09ICdURVNUX0lOVkFMSURfQk9PTEVBTicpO1xuICAgICAgZXhwZWN0KHZhcmlhYmxlPy52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QodmFyaWFibGU/LmVycm9yKS50b0NvbnRhaW4oJ211c3QgYmUgYSBib29sZWFuIHZhbHVlJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdVUkwgVmFsaWRhdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIHZhbGlkIFVSTHMnLCAoKSA9PiB7XG4gICAgICBjb25zdCB2YWxpZFVybHMgPSBbXG4gICAgICAgICdodHRwczovL2V4YW1wbGUuY29tJyxcbiAgICAgICAgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcsXG4gICAgICAgICdwb3N0Z3Jlc3FsOi8vdXNlcjpwYXNzQGhvc3Q6NTQzMi9kYicsXG4gICAgICAgICdyZWRpczovL2xvY2FsaG9zdDo2Mzc5J1xuICAgICAgXTtcblxuICAgICAgZm9yIChjb25zdCB1cmwgb2YgdmFsaWRVcmxzKSB7XG4gICAgICAgIHByb2Nlc3MuZW52LlRFU1RfVVJMID0gdXJsO1xuXG4gICAgICAgIGNvbnN0IHJ1bGU6IFZhbGlkYXRpb25SdWxlID0ge1xuICAgICAgICAgIG5hbWU6ICdURVNUX1VSTCcsXG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgdHlwZTogJ3VybCcsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdUZXN0IFVSTCdcbiAgICAgICAgfTtcblxuICAgICAgICBjb25maWdWYWxpZGF0b3IucmVtb3ZlUnVsZSgnVEVTVF9VUkwnKTtcbiAgICAgICAgY29uZmlnVmFsaWRhdG9yLmFkZFJ1bGUocnVsZSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbmZpZ1ZhbGlkYXRvci52YWxpZGF0ZSgpO1xuXG4gICAgICAgIGNvbnN0IHZhcmlhYmxlID0gcmVzdWx0LnZhcmlhYmxlcy5maW5kKHYgPT4gdi5uYW1lID09PSAnVEVTVF9VUkwnKTtcbiAgICAgICAgZXhwZWN0KHZhcmlhYmxlPy52YWxpZCkudG9CZSh0cnVlKTtcbiAgICAgICAgZXhwZWN0KHZhcmlhYmxlPy52YWx1ZSkudG9CZSh1cmwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgaW52YWxpZCBVUkxzJywgKCkgPT4ge1xuICAgICAgcHJvY2Vzcy5lbnYuVEVTVF9JTlZBTElEX1VSTCA9ICdub3QtYS11cmwnO1xuXG4gICAgICBjb25zdCBydWxlOiBWYWxpZGF0aW9uUnVsZSA9IHtcbiAgICAgICAgbmFtZTogJ1RFU1RfSU5WQUxJRF9VUkwnLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgdHlwZTogJ3VybCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGVzdCBpbnZhbGlkIFVSTCdcbiAgICAgIH07XG5cbiAgICAgIGNvbmZpZ1ZhbGlkYXRvci5hZGRSdWxlKHJ1bGUpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gY29uZmlnVmFsaWRhdG9yLnZhbGlkYXRlKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgICAgY29uc3QgdmFyaWFibGUgPSByZXN1bHQudmFyaWFibGVzLmZpbmQodiA9PiB2Lm5hbWUgPT09ICdURVNUX0lOVkFMSURfVVJMJyk7XG4gICAgICBleHBlY3QodmFyaWFibGU/LnZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdCh2YXJpYWJsZT8uZXJyb3IpLnRvQ29udGFpbignbXVzdCBiZSBhIHZhbGlkIFVSTCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUG9ydCBWYWxpZGF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgdmFsaWQgcG9ydCBudW1iZXJzJywgKCkgPT4ge1xuICAgICAgY29uc3QgdmFsaWRQb3J0cyA9IFsnODAnLCAnNDQzJywgJzMwMDAnLCAnODA4MCcsICc2NTUzNSddO1xuXG4gICAgICBmb3IgKGNvbnN0IHBvcnQgb2YgdmFsaWRQb3J0cykge1xuICAgICAgICBwcm9jZXNzLmVudi5URVNUX1BPUlQgPSBwb3J0O1xuXG4gICAgICAgIGNvbnN0IHJ1bGU6IFZhbGlkYXRpb25SdWxlID0ge1xuICAgICAgICAgIG5hbWU6ICdURVNUX1BPUlQnLFxuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgIHR5cGU6ICdwb3J0JyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1Rlc3QgcG9ydCdcbiAgICAgICAgfTtcblxuICAgICAgICBjb25maWdWYWxpZGF0b3IucmVtb3ZlUnVsZSgnVEVTVF9QT1JUJyk7XG4gICAgICAgIGNvbmZpZ1ZhbGlkYXRvci5hZGRSdWxlKHJ1bGUpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjb25maWdWYWxpZGF0b3IudmFsaWRhdGUoKTtcblxuICAgICAgICBjb25zdCB2YXJpYWJsZSA9IHJlc3VsdC52YXJpYWJsZXMuZmluZCh2ID0+IHYubmFtZSA9PT0gJ1RFU1RfUE9SVCcpO1xuICAgICAgICBleHBlY3QodmFyaWFibGU/LnZhbGlkKS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QodmFyaWFibGU/LnZhbHVlKS50b0JlKHBhcnNlSW50KHBvcnQsIDEwKSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlamVjdCBpbnZhbGlkIHBvcnQgbnVtYmVycycsICgpID0+IHtcbiAgICAgIGNvbnN0IGludmFsaWRQb3J0cyA9IFsnMCcsICc2NTUzNicsICctMScsICdub3QtYS1wb3J0J107XG5cbiAgICAgIGZvciAoY29uc3QgcG9ydCBvZiBpbnZhbGlkUG9ydHMpIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuVEVTVF9JTlZBTElEX1BPUlQgPSBwb3J0O1xuXG4gICAgICAgIGNvbnN0IHJ1bGU6IFZhbGlkYXRpb25SdWxlID0ge1xuICAgICAgICAgIG5hbWU6ICdURVNUX0lOVkFMSURfUE9SVCcsXG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgdHlwZTogJ3BvcnQnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVGVzdCBpbnZhbGlkIHBvcnQnXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uZmlnVmFsaWRhdG9yLnJlbW92ZVJ1bGUoJ1RFU1RfSU5WQUxJRF9QT1JUJyk7XG4gICAgICAgIGNvbmZpZ1ZhbGlkYXRvci5hZGRSdWxlKHJ1bGUpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjb25maWdWYWxpZGF0b3IudmFsaWRhdGUoKTtcblxuICAgICAgICBjb25zdCB2YXJpYWJsZSA9IHJlc3VsdC52YXJpYWJsZXMuZmluZCh2ID0+IHYubmFtZSA9PT0gJ1RFU1RfSU5WQUxJRF9QT1JUJyk7XG4gICAgICAgIGV4cGVjdCh2YXJpYWJsZT8udmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgICAgICBleHBlY3QodmFyaWFibGU/LmVycm9yKS50b0NvbnRhaW4oJ211c3QgYmUgYSB2YWxpZCBwb3J0IG51bWJlcicpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRW51bSBWYWxpZGF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgZW51bSB2YWx1ZXMnLCAoKSA9PiB7XG4gICAgICBwcm9jZXNzLmVudi5URVNUX0VOVU0gPSAncHJvZHVjdGlvbic7XG5cbiAgICAgIGNvbnN0IHJ1bGU6IFZhbGlkYXRpb25SdWxlID0ge1xuICAgICAgICBuYW1lOiAnVEVTVF9FTlVNJyxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIHR5cGU6ICdlbnVtJyxcbiAgICAgICAgZW51bVZhbHVlczogWydkZXZlbG9wbWVudCcsICdwcm9kdWN0aW9uJywgJ3Rlc3QnXSxcbiAgICAgICAgZGVzY3JpcHRpb246ICdUZXN0IGVudW0nXG4gICAgICB9O1xuXG4gICAgICBjb25maWdWYWxpZGF0b3IuYWRkUnVsZShydWxlKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbmZpZ1ZhbGlkYXRvci52YWxpZGF0ZSgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnZhbGlkKS50b0JlKHRydWUpO1xuICAgICAgY29uc3QgdmFyaWFibGUgPSByZXN1bHQudmFyaWFibGVzLmZpbmQodiA9PiB2Lm5hbWUgPT09ICdURVNUX0VOVU0nKTtcbiAgICAgIGV4cGVjdCh2YXJpYWJsZT8udmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QodmFyaWFibGU/LnZhbHVlKS50b0JlKCdwcm9kdWN0aW9uJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlamVjdCBpbnZhbGlkIGVudW0gdmFsdWVzJywgKCkgPT4ge1xuICAgICAgcHJvY2Vzcy5lbnYuVEVTVF9JTlZBTElEX0VOVU0gPSAnaW52YWxpZC12YWx1ZSc7XG5cbiAgICAgIGNvbnN0IHJ1bGU6IFZhbGlkYXRpb25SdWxlID0ge1xuICAgICAgICBuYW1lOiAnVEVTVF9JTlZBTElEX0VOVU0nLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgdHlwZTogJ2VudW0nLFxuICAgICAgICBlbnVtVmFsdWVzOiBbJ2RldmVsb3BtZW50JywgJ3Byb2R1Y3Rpb24nLCAndGVzdCddLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1Rlc3QgaW52YWxpZCBlbnVtJ1xuICAgICAgfTtcblxuICAgICAgY29uZmlnVmFsaWRhdG9yLmFkZFJ1bGUocnVsZSk7XG4gICAgICBjb25zdCByZXN1bHQgPSBjb25maWdWYWxpZGF0b3IudmFsaWRhdGUoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgICBjb25zdCB2YXJpYWJsZSA9IHJlc3VsdC52YXJpYWJsZXMuZmluZCh2ID0+IHYubmFtZSA9PT0gJ1RFU1RfSU5WQUxJRF9FTlVNJyk7XG4gICAgICBleHBlY3QodmFyaWFibGU/LnZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdCh2YXJpYWJsZT8uZXJyb3IpLnRvQ29udGFpbignbXVzdCBiZSBvbmUgb2Y6IGRldmVsb3BtZW50LCBwcm9kdWN0aW9uLCB0ZXN0Jyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdSZXF1aXJlZCB2cyBPcHRpb25hbCBWYXJpYWJsZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBmYWlsIHZhbGlkYXRpb24gZm9yIG1pc3NpbmcgcmVxdWlyZWQgdmFyaWFibGVzJywgKCkgPT4ge1xuICAgICAgZGVsZXRlIHByb2Nlc3MuZW52LlRFU1RfUkVRVUlSRUQ7XG5cbiAgICAgIGNvbnN0IHJ1bGU6IFZhbGlkYXRpb25SdWxlID0ge1xuICAgICAgICBuYW1lOiAnVEVTVF9SRVFVSVJFRCcsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdUZXN0IHJlcXVpcmVkJ1xuICAgICAgfTtcblxuICAgICAgY29uZmlnVmFsaWRhdG9yLmFkZFJ1bGUocnVsZSk7XG4gICAgICBjb25zdCByZXN1bHQgPSBjb25maWdWYWxpZGF0b3IudmFsaWRhdGUoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgICBjb25zdCB2YXJpYWJsZSA9IHJlc3VsdC52YXJpYWJsZXMuZmluZCh2ID0+IHYubmFtZSA9PT0gJ1RFU1RfUkVRVUlSRUQnKTtcbiAgICAgIGV4cGVjdCh2YXJpYWJsZT8udmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KHZhcmlhYmxlPy5lcnJvcikudG9Db250YWluKCdSZXF1aXJlZCBlbnZpcm9ubWVudCB2YXJpYWJsZSBURVNUX1JFUVVJUkVEIGlzIG5vdCBzZXQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcGFzcyB2YWxpZGF0aW9uIGZvciBtaXNzaW5nIG9wdGlvbmFsIHZhcmlhYmxlcycsICgpID0+IHtcbiAgICAgIGRlbGV0ZSBwcm9jZXNzLmVudi5URVNUX09QVElPTkFMO1xuXG4gICAgICBjb25zdCBydWxlOiBWYWxpZGF0aW9uUnVsZSA9IHtcbiAgICAgICAgbmFtZTogJ1RFU1RfT1BUSU9OQUwnLFxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1Rlc3Qgb3B0aW9uYWwnXG4gICAgICB9O1xuXG4gICAgICBjb25maWdWYWxpZGF0b3IuYWRkUnVsZShydWxlKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbmZpZ1ZhbGlkYXRvci52YWxpZGF0ZSgpO1xuXG4gICAgICBjb25zdCB2YXJpYWJsZSA9IHJlc3VsdC52YXJpYWJsZXMuZmluZCh2ID0+IHYubmFtZSA9PT0gJ1RFU1RfT1BUSU9OQUwnKTtcbiAgICAgIGV4cGVjdCh2YXJpYWJsZT8udmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QodmFyaWFibGU/LnZhbHVlKS50b0JlVW5kZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHVzZSBkZWZhdWx0IHZhbHVlcyBmb3IgbWlzc2luZyB2YXJpYWJsZXMnLCAoKSA9PiB7XG4gICAgICBkZWxldGUgcHJvY2Vzcy5lbnYuVEVTVF9ERUZBVUxUO1xuXG4gICAgICBjb25zdCBydWxlOiBWYWxpZGF0aW9uUnVsZSA9IHtcbiAgICAgICAgbmFtZTogJ1RFU1RfREVGQVVMVCcsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiAnZGVmYXVsdC12YWx1ZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGVzdCBkZWZhdWx0J1xuICAgICAgfTtcblxuICAgICAgY29uZmlnVmFsaWRhdG9yLmFkZFJ1bGUocnVsZSk7XG4gICAgICBjb25zdCByZXN1bHQgPSBjb25maWdWYWxpZGF0b3IudmFsaWRhdGUoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC52YWxpZCkudG9CZSh0cnVlKTtcbiAgICAgIGNvbnN0IHZhcmlhYmxlID0gcmVzdWx0LnZhcmlhYmxlcy5maW5kKHYgPT4gdi5uYW1lID09PSAnVEVTVF9ERUZBVUxUJyk7XG4gICAgICBleHBlY3QodmFyaWFibGU/LnZhbGlkKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHZhcmlhYmxlPy52YWx1ZSkudG9CZSgnZGVmYXVsdC12YWx1ZScpO1xuICAgICAgZXhwZWN0KHZhcmlhYmxlPy51c2luZ0RlZmF1bHQpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QodmFyaWFibGU/Lndhcm5pbmcpLnRvQ29udGFpbignVXNpbmcgZGVmYXVsdCB2YWx1ZScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRGVmYXVsdCBSdWxlcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIE5PREVfRU5WJywgKCkgPT4ge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPSAncHJvZHVjdGlvbic7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbmZpZ1ZhbGlkYXRvci52YWxpZGF0ZSgpO1xuICAgICAgY29uc3QgdmFyaWFibGUgPSByZXN1bHQudmFyaWFibGVzLmZpbmQodiA9PiB2Lm5hbWUgPT09ICdOT0RFX0VOVicpO1xuXG4gICAgICBleHBlY3QodmFyaWFibGU/LnZhbGlkKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHZhcmlhYmxlPy52YWx1ZSkudG9CZSgncHJvZHVjdGlvbicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBQT1JUJywgKCkgPT4ge1xuICAgICAgcHJvY2Vzcy5lbnYuUE9SVCA9ICczMDAwJztcblxuICAgICAgY29uc3QgcmVzdWx0ID0gY29uZmlnVmFsaWRhdG9yLnZhbGlkYXRlKCk7XG4gICAgICBjb25zdCB2YXJpYWJsZSA9IHJlc3VsdC52YXJpYWJsZXMuZmluZCh2ID0+IHYubmFtZSA9PT0gJ1BPUlQnKTtcblxuICAgICAgZXhwZWN0KHZhcmlhYmxlPy52YWxpZCkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdCh2YXJpYWJsZT8udmFsdWUpLnRvQmUoMzAwMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIERBVEFCQVNFX1VSTCcsICgpID0+IHtcbiAgICAgIHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTCA9ICdwb3N0Z3Jlc3FsOi8vdXNlcjpwYXNzQGxvY2FsaG9zdDo1NDMyL2RiJztcblxuICAgICAgY29uc3QgcmVzdWx0ID0gY29uZmlnVmFsaWRhdG9yLnZhbGlkYXRlKCk7XG4gICAgICBjb25zdCB2YXJpYWJsZSA9IHJlc3VsdC52YXJpYWJsZXMuZmluZCh2ID0+IHYubmFtZSA9PT0gJ0RBVEFCQVNFX1VSTCcpO1xuXG4gICAgICBleHBlY3QodmFyaWFibGU/LnZhbGlkKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHZhcmlhYmxlPy52YWx1ZSkudG9CZSgncG9zdGdyZXNxbDovL3VzZXI6cGFzc0Bsb2NhbGhvc3Q6NTQzMi9kYicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbWlzc2luZyByZXF1aXJlZCB2YXJpYWJsZXMgd2l0aCBkZWZhdWx0cycsICgpID0+IHtcbiAgICAgIC8vIENsZWFyIGFsbCBlbnZpcm9ubWVudCB2YXJpYWJsZXNcbiAgICAgIGZvciAoY29uc3QgcnVsZSBvZiBjb25maWdWYWxpZGF0b3IuZ2V0UnVsZXMoKSkge1xuICAgICAgICBkZWxldGUgcHJvY2Vzcy5lbnZbcnVsZS5uYW1lXTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gY29uZmlnVmFsaWRhdG9yLnZhbGlkYXRlKCk7XG5cbiAgICAgIC8vIFNob3VsZCBzdGlsbCBiZSB2YWxpZCBkdWUgdG8gZGVmYXVsdCB2YWx1ZXNcbiAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUoZmFsc2UpOyAvLyBEQVRBQkFTRV9VUkwgaGFzIG5vIGRlZmF1bHRcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VtbWFyeS51c2luZ0RlZmF1bHRzKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb25maWd1cmF0aW9uIFN1bW1hcnknLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBwcm92aWRlIGNvbmZpZ3VyYXRpb24gc3VtbWFyeSB3aXRoIG1hc2tlZCBzZW5zaXRpdmUgdmFsdWVzJywgKCkgPT4ge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPSAncHJvZHVjdGlvbic7XG4gICAgICBwcm9jZXNzLmVudi5QT1JUID0gJzMwMDAnO1xuICAgICAgcHJvY2Vzcy5lbnYuSE1BQ19TRUNSRVQgPSAnc3VwZXItc2VjcmV0LWtleSc7XG4gICAgICBwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwgPSAncG9zdGdyZXNxbDovL3VzZXI6cGFzc0Bsb2NhbGhvc3Q6NTQzMi9kYic7XG5cbiAgICAgIGNvbnN0IHN1bW1hcnkgPSBjb25maWdWYWxpZGF0b3IuZ2V0Q29uZmlnU3VtbWFyeSgpO1xuXG4gICAgICBleHBlY3Qoc3VtbWFyeS5OT0RFX0VOVikudG9CZSgncHJvZHVjdGlvbicpO1xuICAgICAgZXhwZWN0KHN1bW1hcnkuUE9SVCkudG9CZSgnMzAwMCcpO1xuICAgICAgZXhwZWN0KHN1bW1hcnkuSE1BQ19TRUNSRVQpLnRvQmUoJ1tDT05GSUdVUkVEXScpO1xuICAgICAgZXhwZWN0KHN1bW1hcnkuREFUQUJBU0VfVVJMKS50b0JlKCdwb3N0Z3Jlc3FsOi8vdXNlcjpwYXNzQGxvY2FsaG9zdDo1NDMyL2RiJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHNob3cgW05PVCBTRVRdIGZvciBtaXNzaW5nIHZhcmlhYmxlcycsICgpID0+IHtcbiAgICAgIGRlbGV0ZSBwcm9jZXNzLmVudi5SRURJU19VUkw7XG5cbiAgICAgIGNvbnN0IHN1bW1hcnkgPSBjb25maWdWYWxpZGF0b3IuZ2V0Q29uZmlnU3VtbWFyeSgpO1xuXG4gICAgICBleHBlY3Qoc3VtbWFyeS5SRURJU19VUkwpLnRvQmUoJ1tOT1QgU0VUXScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnVmFsaWRhdGlvbiBTdW1tYXJ5JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcHJvdmlkZSB2YWxpZGF0aW9uIHN1bW1hcnknLCAoKSA9PiB7XG4gICAgICAvLyBTZXQgdXAgbWl4ZWQgdmFsaWRhdGlvbiByZXN1bHRzXG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9ICdwcm9kdWN0aW9uJztcbiAgICAgIHByb2Nlc3MuZW52LlBPUlQgPSAnaW52YWxpZC1wb3J0JztcbiAgICAgIGRlbGV0ZSBwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkw7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbmZpZ1ZhbGlkYXRvci52YWxpZGF0ZSgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1bW1hcnkudG90YWwpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VtbWFyeS52YWxpZCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zdW1tYXJ5LmludmFsaWQpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VtbWFyeS50b3RhbCkudG9CZShcbiAgICAgICAgcmVzdWx0LnN1bW1hcnkudmFsaWQgKyByZXN1bHQuc3VtbWFyeS5pbnZhbGlkXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0cmFjayB3YXJuaW5ncyBhbmQgZGVmYXVsdHMnLCAoKSA9PiB7XG4gICAgICAvLyBDbGVhciBvcHRpb25hbCB2YXJpYWJsZSB0byB0cmlnZ2VyIGRlZmF1bHRcbiAgICAgIGRlbGV0ZSBwcm9jZXNzLmVudi5MT0dfTEVWRUw7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbmZpZ1ZhbGlkYXRvci52YWxpZGF0ZSgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1bW1hcnkudXNpbmdEZWZhdWx0cykudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRXJyb3IgSGFuZGxpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdW5rbm93biB2YWxpZGF0aW9uIHR5cGVzJywgKCkgPT4ge1xuICAgICAgY29uc3QgcnVsZTogVmFsaWRhdGlvblJ1bGUgPSB7XG4gICAgICAgIG5hbWU6ICdURVNUX1VOS05PV05fVFlQRScsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB0eXBlOiAndW5rbm93bicgYXMgYW55LFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1Rlc3QgdW5rbm93biB0eXBlJ1xuICAgICAgfTtcblxuICAgICAgcHJvY2Vzcy5lbnYuVEVTVF9VTktOT1dOX1RZUEUgPSAndGVzdC12YWx1ZSc7XG5cbiAgICAgIGNvbmZpZ1ZhbGlkYXRvci5hZGRSdWxlKHJ1bGUpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gY29uZmlnVmFsaWRhdG9yLnZhbGlkYXRlKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgICAgY29uc3QgdmFyaWFibGUgPSByZXN1bHQudmFyaWFibGVzLmZpbmQodiA9PiB2Lm5hbWUgPT09ICdURVNUX1VOS05PV05fVFlQRScpO1xuICAgICAgZXhwZWN0KHZhcmlhYmxlPy52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QodmFyaWFibGU/LmVycm9yKS50b0NvbnRhaW4oJ1Vua25vd24gdmFsaWRhdGlvbiB0eXBlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSBzdHJpbmcgdmFsdWVzJywgKCkgPT4ge1xuICAgICAgcHJvY2Vzcy5lbnYuVEVTVF9FTVBUWSA9ICcnO1xuXG4gICAgICBjb25zdCBydWxlOiBWYWxpZGF0aW9uUnVsZSA9IHtcbiAgICAgICAgbmFtZTogJ1RFU1RfRU1QVFknLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGVzdCBlbXB0eSdcbiAgICAgIH07XG5cbiAgICAgIGNvbmZpZ1ZhbGlkYXRvci5hZGRSdWxlKHJ1bGUpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gY29uZmlnVmFsaWRhdG9yLnZhbGlkYXRlKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQudmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgICAgY29uc3QgdmFyaWFibGUgPSByZXN1bHQudmFyaWFibGVzLmZpbmQodiA9PiB2Lm5hbWUgPT09ICdURVNUX0VNUFRZJyk7XG4gICAgICBleHBlY3QodmFyaWFibGU/LnZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdCh2YXJpYWJsZT8uZXJyb3IpLnRvQ29udGFpbignUmVxdWlyZWQgZW52aXJvbm1lbnQgdmFyaWFibGUgVEVTVF9FTVBUWSBpcyBub3Qgc2V0Jyk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sInZlcnNpb24iOjN9