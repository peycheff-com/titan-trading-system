{"file":"/Users/ivan/Code/trading/titan/services/titan-brain/src/types/breaker.ts","mappings":";AAAA;;;GAGG;;;AAIH;;GAEG;AACH,IAAY,WAKX;AALD,WAAY,WAAW;IACrB,iCAAiC;IACjC,4BAAa,CAAA;IACb,2BAA2B;IAC3B,4BAAa,CAAA;AACf,CAAC,EALW,WAAW,2BAAX,WAAW,QAKtB","names":[],"sources":["/Users/ivan/Code/trading/titan/services/titan-brain/src/types/breaker.ts"],"sourcesContent":["/**\n * Circuit Breaker Types for Titan Brain\n * Defines types for emergency halt system\n */\n\nimport { Position } from './risk.js';\n\n/**\n * Circuit breaker type\n */\nexport enum BreakerType {\n  /** Immediate close all + halt */\n  HARD = 'HARD',\n  /** Cooldown period only */\n  SOFT = 'SOFT'\n}\n\n/**\n * Circuit breaker status\n */\nexport interface BreakerStatus {\n  active: boolean;\n  type?: BreakerType;\n  reason?: string;\n  triggeredAt?: number;\n  dailyDrawdown: number;\n  consecutiveLosses: number;\n  equityLevel: number;\n  /** Cooldown end time for soft breakers */\n  cooldownEndsAt?: number;\n}\n\n/**\n * Circuit breaker event for persistence\n */\nexport interface BreakerEvent {\n  id?: number;\n  timestamp: number;\n  eventType: 'TRIGGER' | 'RESET';\n  breakerType?: BreakerType;\n  reason: string;\n  equity: number;\n  operatorId?: string;\n  metadata?: Record<string, unknown>;\n}\n\n/**\n * Circuit breaker configuration\n */\nexport interface CircuitBreakerConfig {\n  /** Maximum daily drawdown before hard trigger (0.15 = 15%) */\n  maxDailyDrawdown: number;\n  /** Minimum equity before hard trigger */\n  minEquity: number;\n  /** Consecutive losses before soft trigger */\n  consecutiveLossLimit: number;\n  /** Time window for consecutive loss detection (ms) */\n  consecutiveLossWindow: number;\n  /** Cooldown duration for soft breakers (minutes) */\n  cooldownMinutes: number;\n}\n\n/**\n * Breaker check input\n */\nexport interface BreakerCheckInput {\n  equity: number;\n  positions: Position[];\n  dailyStartEquity: number;\n  recentTrades: Array<{ pnl: number; timestamp: number }>;\n}\n"],"version":3}