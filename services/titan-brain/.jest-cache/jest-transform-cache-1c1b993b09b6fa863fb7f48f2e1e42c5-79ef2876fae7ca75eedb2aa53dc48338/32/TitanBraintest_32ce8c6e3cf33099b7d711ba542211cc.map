{"file":"/Users/ivan/Code/trading/titan/services/titan-brain/tests/unit/TitanBrain.test.ts","mappings":"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","names":[],"sources":["/Users/ivan/Code/trading/titan/services/titan-brain/tests/unit/TitanBrain.test.ts"],"sourcesContent":["/**\n * Unit tests for TitanBrain orchestrator\n * \n * Requirements: 1.1, 1.7, 7.1, 7.2, 7.3, 7.4, 7.5, 7.6\n */\n\n\nimport {\n  TitanBrain,\n  AllocationEngine,\n  PerformanceTracker,\n  RiskGuardian,\n  CapitalFlowManager,\n  CircuitBreaker,\n  ExecutionEngineClient,\n  PhaseNotifier,\n} from '../../src/engine/index.js';\nimport {\n  BrainConfig,\n  AllocationEngineConfig,\n  PerformanceTrackerConfig,\n  RiskGuardianConfig,\n  CapitalFlowConfig,\n  CircuitBreakerConfig,\n  IntentSignal,\n  Position,\n  EquityTier,\n  PhaseId,\n} from '../../src/types/index.js';\n\n// Default configurations for testing\nconst brainConfig: BrainConfig = {\n  signalTimeout: 100,\n  metricUpdateInterval: 60000,\n  dashboardCacheTTL: 5000,\n  maxQueueSize: 100,\n};\n\nconst allocationConfig: AllocationEngineConfig = {\n  transitionPoints: {\n    startP2: 1500,\n    fullP2: 5000,\n    startP3: 25000,\n  },\n  leverageCaps: {\n    [EquityTier.MICRO]: 20,\n    [EquityTier.SMALL]: 10,\n    [EquityTier.MEDIUM]: 5,\n    [EquityTier.LARGE]: 3,\n    [EquityTier.INSTITUTIONAL]: 2,\n  },\n};\n\nconst performanceConfig: PerformanceTrackerConfig = {\n  windowDays: 7,\n  minTradeCount: 10,\n  malusMultiplier: 0.5,\n  bonusMultiplier: 1.2,\n  malusThreshold: 0,\n  bonusThreshold: 2.0,\n};\n\nconst riskConfig: RiskGuardianConfig = {\n  maxCorrelation: 0.8,\n  correlationPenalty: 0.5,\n  betaUpdateInterval: 300000,\n  correlationUpdateInterval: 300000,\n};\n\nconst capitalFlowConfig: CapitalFlowConfig = {\n  sweepThreshold: 1.2,\n  reserveLimit: 200,\n  sweepSchedule: '0 0 * * *',\n  maxRetries: 3,\n  retryBaseDelay: 1000,\n};\n\nconst circuitBreakerConfig: CircuitBreakerConfig = {\n  maxDailyDrawdown: 0.15,\n  minEquity: 150,\n  consecutiveLossLimit: 3,\n  consecutiveLossWindow: 3600000,\n  cooldownMinutes: 30,\n};\n\n// Helper to create TitanBrain instance\nfunction createTitanBrain(): TitanBrain {\n  const allocationEngine = new AllocationEngine(allocationConfig);\n  const performanceTracker = new PerformanceTracker(performanceConfig);\n  const riskGuardian = new RiskGuardian(riskConfig, allocationEngine);\n  const capitalFlowManager = new CapitalFlowManager(capitalFlowConfig);\n  const circuitBreaker = new CircuitBreaker(circuitBreakerConfig);\n\n  return new TitanBrain(\n    brainConfig,\n    allocationEngine,\n    performanceTracker,\n    riskGuardian,\n    capitalFlowManager,\n    circuitBreaker\n  );\n}\n\n// Helper to create a test signal\nfunction createSignal(\n  phaseId: PhaseId = 'phase1',\n  requestedSize: number = 100,\n  symbol: string = 'BTCUSDT',\n  side: 'BUY' | 'SELL' = 'BUY'\n): IntentSignal {\n  return {\n    signalId: `signal-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n    phaseId,\n    symbol,\n    side,\n    requestedSize,\n    timestamp: Date.now(),\n  };\n}\n\n// Helper to create a test position\nfunction createPosition(\n  symbol: string = 'BTCUSDT',\n  side: 'LONG' | 'SHORT' = 'LONG',\n  size: number = 100,\n  phaseId: PhaseId = 'phase1'\n): Position {\n  return {\n    symbol,\n    side,\n    size,\n    entryPrice: 50000,\n    unrealizedPnL: 0,\n    leverage: 10,\n    phaseId,\n  };\n}\n\ndescribe('TitanBrain', () => {\n  describe('initialization', () => {\n    it('should create TitanBrain instance', () => {\n      const brain = createTitanBrain();\n      expect(brain).toBeDefined();\n    });\n\n    it('should initialize with default equity of 0', () => {\n      const brain = createTitanBrain();\n      expect(brain.getEquity()).toBe(0);\n    });\n\n    it('should initialize with empty positions', () => {\n      const brain = createTitanBrain();\n      expect(brain.getPositions()).toEqual([]);\n    });\n  });\n\n  describe('equity management', () => {\n    it('should update equity', () => {\n      const brain = createTitanBrain();\n      brain.setEquity(1000);\n      expect(brain.getEquity()).toBe(1000);\n    });\n\n    it('should not allow negative equity', () => {\n      const brain = createTitanBrain();\n      brain.setEquity(-100);\n      expect(brain.getEquity()).toBe(0);\n    });\n\n    it('should update daily start equity', () => {\n      const brain = createTitanBrain();\n      brain.setDailyStartEquity(1000);\n      // Verify through circuit breaker status\n      const status = brain.getCircuitBreakerStatus();\n      expect(status.equityLevel).toBe(1000);\n    });\n  });\n\n  describe('position management', () => {\n    it('should update positions', () => {\n      const brain = createTitanBrain();\n      const positions = [createPosition()];\n      brain.setPositions(positions);\n      expect(brain.getPositions()).toEqual(positions);\n    });\n\n    it('should return a copy of positions', () => {\n      const brain = createTitanBrain();\n      const positions = [createPosition()];\n      brain.setPositions(positions);\n      const retrieved = brain.getPositions();\n      retrieved.push(createPosition('ETHUSDT'));\n      expect(brain.getPositions().length).toBe(1);\n    });\n  });\n\n\n  describe('signal processing', () => {\n    it('should approve signal within limits', async () => {\n      const brain = createTitanBrain();\n      brain.setEquity(1000);\n      brain.setDailyStartEquity(1000);\n\n      const signal = createSignal('phase1', 100);\n      const decision = await brain.processSignal(signal);\n\n      expect(decision.approved).toBe(true);\n      expect(decision.authorizedSize).toBeGreaterThan(0);\n      expect(decision.signalId).toBe(signal.signalId);\n    });\n\n    it('should reject signal when circuit breaker is active', async () => {\n      const brain = createTitanBrain();\n      brain.setEquity(100); // Below minimum equity\n      brain.setDailyStartEquity(1000);\n\n      // Trigger circuit breaker by checking conditions\n      const signal = createSignal('phase1', 100);\n      const decision = await brain.processSignal(signal);\n\n      expect(decision.approved).toBe(false);\n      expect(decision.reason).toContain('Circuit breaker');\n    });\n\n    it('should cap position size at equity * phase weight', async () => {\n      const brain = createTitanBrain();\n      brain.setEquity(1000);\n      brain.setDailyStartEquity(1000);\n\n      // At $1000 equity, Phase 1 gets 100% allocation\n      // Request more than equity\n      const signal = createSignal('phase1', 2000);\n      const decision = await brain.processSignal(signal);\n\n      expect(decision.approved).toBe(true);\n      // Authorized size should be capped at equity * weight (1000 * 1.0 = 1000)\n      expect(decision.authorizedSize).toBeLessThanOrEqual(1000);\n    });\n\n    it('should include allocation in decision', async () => {\n      const brain = createTitanBrain();\n      brain.setEquity(1000);\n      brain.setDailyStartEquity(1000);\n\n      const signal = createSignal('phase1', 100);\n      const decision = await brain.processSignal(signal);\n\n      expect(decision.allocation).toBeDefined();\n      expect(decision.allocation.w1).toBeGreaterThan(0);\n      expect(decision.allocation.w1 + decision.allocation.w2 + decision.allocation.w3).toBeCloseTo(1.0);\n    });\n\n    it('should include performance in decision', async () => {\n      const brain = createTitanBrain();\n      brain.setEquity(1000);\n      brain.setDailyStartEquity(1000);\n\n      const signal = createSignal('phase1', 100);\n      const decision = await brain.processSignal(signal);\n\n      expect(decision.performance).toBeDefined();\n      expect(decision.performance.phaseId).toBe('phase1');\n      expect(decision.performance.modifier).toBe(1.0); // No trades yet\n    });\n\n    it('should include risk metrics in decision', async () => {\n      const brain = createTitanBrain();\n      brain.setEquity(1000);\n      brain.setDailyStartEquity(1000);\n\n      const signal = createSignal('phase1', 100);\n      const decision = await brain.processSignal(signal);\n\n      expect(decision.risk).toBeDefined();\n      expect(decision.risk.riskMetrics).toBeDefined();\n    });\n  });\n\n  describe('priority ordering (Requirement 7.1)', () => {\n    it('should process signals in priority order: P3 > P2 > P1', async () => {\n      const brain = createTitanBrain();\n      brain.setEquity(50000); // High equity to enable all phases\n      brain.setDailyStartEquity(50000);\n\n      const signals = [\n        createSignal('phase1', 100, 'BTCUSDT'),\n        createSignal('phase3', 100, 'ETHUSDT'),\n        createSignal('phase2', 100, 'SOLUSDT'),\n      ];\n\n      const decisions = await brain.processSignals(signals);\n\n      // Verify order: phase3 first, then phase2, then phase1\n      expect(decisions[0].signalId).toBe(signals[1].signalId); // phase3\n      expect(decisions[1].signalId).toBe(signals[2].signalId); // phase2\n      expect(decisions[2].signalId).toBe(signals[0].signalId); // phase1\n    });\n  });\n\n  describe('signal queue (Requirement 7.4)', () => {\n    it('should enqueue signals', () => {\n      const brain = createTitanBrain();\n      const signal = createSignal('phase1', 100);\n      \n      brain.enqueueSignal(signal);\n      // Queue is internal, but we can process it\n    });\n\n    it('should process queued signals in priority order', async () => {\n      const brain = createTitanBrain();\n      brain.setEquity(50000);\n      brain.setDailyStartEquity(50000);\n\n      brain.enqueueSignal(createSignal('phase1', 100, 'BTCUSDT'));\n      brain.enqueueSignal(createSignal('phase3', 100, 'ETHUSDT'));\n      brain.enqueueSignal(createSignal('phase2', 100, 'SOLUSDT'));\n\n      const decisions = await brain.processQueue();\n\n      expect(decisions.length).toBe(3);\n      // First decision should be from phase3 (highest priority)\n      expect(decisions[0].allocation).toBeDefined();\n    });\n\n    it('should respect max queue size', () => {\n      const brain = createTitanBrain();\n      \n      // Enqueue more than max\n      for (let i = 0; i < 150; i++) {\n        brain.enqueueSignal(createSignal('phase1', 100));\n      }\n\n      // Queue should be capped at maxQueueSize (100)\n      // We can't directly check queue size, but processing should work\n    });\n  });\n\n  describe('net position calculation (Requirement 7.3)', () => {\n    it('should calculate net position for opposite signals', () => {\n      const brain = createTitanBrain();\n\n      const signals = [\n        createSignal('phase1', 100, 'BTCUSDT', 'BUY'),\n        createSignal('phase2', 60, 'BTCUSDT', 'SELL'),\n      ];\n\n      const result = brain.calculateNetPosition(signals);\n\n      expect(result.netSize).toBe(40);\n      expect(result.side).toBe('BUY');\n    });\n\n    it('should return NEUTRAL for balanced signals', () => {\n      const brain = createTitanBrain();\n\n      const signals = [\n        createSignal('phase1', 100, 'BTCUSDT', 'BUY'),\n        createSignal('phase2', 100, 'BTCUSDT', 'SELL'),\n      ];\n\n      const result = brain.calculateNetPosition(signals);\n\n      expect(result.netSize).toBe(0);\n      expect(result.side).toBe('NEUTRAL');\n    });\n\n    it('should handle net short position', () => {\n      const brain = createTitanBrain();\n\n      const signals = [\n        createSignal('phase1', 50, 'BTCUSDT', 'BUY'),\n        createSignal('phase2', 150, 'BTCUSDT', 'SELL'),\n      ];\n\n      const result = brain.calculateNetPosition(signals);\n\n      expect(result.netSize).toBe(100);\n      expect(result.side).toBe('SELL');\n    });\n  });\n\n\n  describe('approval rate tracking (Requirement 7.7)', () => {\n    it('should track approval rate per phase', async () => {\n      const brain = createTitanBrain();\n      brain.setEquity(1000);\n      brain.setDailyStartEquity(1000);\n\n      // Process some signals\n      await brain.processSignal(createSignal('phase1', 100));\n      await brain.processSignal(createSignal('phase1', 100));\n\n      const rate = brain.getApprovalRate('phase1');\n      expect(rate).toBeGreaterThanOrEqual(0);\n      expect(rate).toBeLessThanOrEqual(1);\n    });\n\n    it('should return 1.0 for phases with no signals', () => {\n      const brain = createTitanBrain();\n      const rate = brain.getApprovalRate('phase2');\n      expect(rate).toBe(1.0);\n    });\n\n    it('should get all approval rates', async () => {\n      const brain = createTitanBrain();\n      brain.setEquity(1000);\n      brain.setDailyStartEquity(1000);\n\n      await brain.processSignal(createSignal('phase1', 100));\n\n      const rates = brain.getAllApprovalRates();\n      expect(rates.phase1).toBeDefined();\n      expect(rates.phase2).toBeDefined();\n      expect(rates.phase3).toBeDefined();\n    });\n\n    it('should reset signal stats', async () => {\n      const brain = createTitanBrain();\n      brain.setEquity(1000);\n      brain.setDailyStartEquity(1000);\n\n      await brain.processSignal(createSignal('phase1', 100));\n      brain.resetSignalStats();\n\n      const rate = brain.getApprovalRate('phase1');\n      expect(rate).toBe(1.0); // No signals after reset\n    });\n  });\n\n  describe('dashboard data (Requirement 10)', () => {\n    it('should return dashboard data', async () => {\n      const brain = createTitanBrain();\n      brain.setEquity(1000);\n      brain.setDailyStartEquity(1000);\n\n      const dashboard = await brain.getDashboardData();\n\n      expect(dashboard.nav).toBe(1000);\n      expect(dashboard.allocation).toBeDefined();\n      expect(dashboard.phaseEquity).toBeDefined();\n      expect(dashboard.riskMetrics).toBeDefined();\n      expect(dashboard.treasury).toBeDefined();\n      expect(dashboard.circuitBreaker).toBeDefined();\n      expect(dashboard.recentDecisions).toBeDefined();\n      expect(dashboard.lastUpdated).toBeDefined();\n    });\n\n    it('should calculate phase equity correctly', async () => {\n      const brain = createTitanBrain();\n      brain.setEquity(1000);\n      brain.setDailyStartEquity(1000);\n\n      const dashboard = await brain.getDashboardData();\n\n      // At $1000, Phase 1 should have 100% allocation\n      expect(dashboard.phaseEquity.phase1).toBeCloseTo(1000, 0);\n      expect(dashboard.phaseEquity.phase2).toBeCloseTo(0, 0);\n      expect(dashboard.phaseEquity.phase3).toBeCloseTo(0, 0);\n    });\n\n    it('should cache dashboard data', async () => {\n      const brain = createTitanBrain();\n      brain.setEquity(1000);\n      brain.setDailyStartEquity(1000);\n\n      const dashboard1 = await brain.getDashboardData();\n      const dashboard2 = await brain.getDashboardData();\n\n      // Should return cached data (same lastUpdated)\n      expect(dashboard1.lastUpdated).toBe(dashboard2.lastUpdated);\n    });\n\n    it('should export dashboard to JSON', async () => {\n      const brain = createTitanBrain();\n      brain.setEquity(1000);\n      brain.setDailyStartEquity(1000);\n\n      const json = await brain.exportDashboardJSON();\n      const parsed = JSON.parse(json);\n\n      expect(parsed.nav).toBe(1000);\n      expect(parsed.allocation).toBeDefined();\n    });\n  });\n\n  describe('health status', () => {\n    it('should return health status', async () => {\n      const brain = createTitanBrain();\n\n      const health = await brain.getHealthStatus();\n\n      expect(health.healthy).toBeDefined();\n      expect(health.components).toBeDefined();\n      expect(health.lastCheck).toBeDefined();\n      expect(health.errors).toBeDefined();\n    });\n\n    it('should flag phases with low approval rate', async () => {\n      const brain = createTitanBrain();\n      brain.setEquity(100); // Low equity to trigger rejections\n      brain.setDailyStartEquity(1000);\n\n      // Process signals that will be rejected\n      for (let i = 0; i < 5; i++) {\n        await brain.processSignal(createSignal('phase1', 100));\n      }\n\n      const health = await brain.getHealthStatus();\n      \n      // Should have errors about low approval rate\n      if (brain.getApprovalRate('phase1') < 0.5) {\n        expect(health.errors.some(e => e.includes('phase1'))).toBe(true);\n      }\n    });\n  });\n\n  describe('circuit breaker integration', () => {\n    it('should get circuit breaker status', () => {\n      const brain = createTitanBrain();\n      brain.setDailyStartEquity(1000);\n\n      const status = brain.getCircuitBreakerStatus();\n\n      expect(status.active).toBe(false);\n      expect(status.dailyDrawdown).toBeDefined();\n    });\n\n    it('should reset circuit breaker with operator ID', async () => {\n      const brain = createTitanBrain();\n      brain.setEquity(100);\n      brain.setDailyStartEquity(1000);\n\n      // Trigger breaker\n      await brain.processSignal(createSignal('phase1', 100));\n\n      // Reset\n      await brain.resetCircuitBreaker('operator-123');\n\n      const status = brain.getCircuitBreakerStatus();\n      expect(status.active).toBe(false);\n    });\n  });\n\n  describe('trade recording', () => {\n    it('should throw error when recording trades without database', async () => {\n      const brain = createTitanBrain();\n      brain.setEquity(1000);\n      brain.setDailyStartEquity(1000);\n\n      // Should throw because no database is configured\n      await expect(brain.recordTrade('phase1', 50, 'BTCUSDT', 'BUY'))\n        .rejects.toThrow('Database not configured');\n    });\n\n    it('should get all phase performance', async () => {\n      const brain = createTitanBrain();\n      brain.setEquity(1000);\n      brain.setDailyStartEquity(1000);\n\n      // This should work without database (returns empty data)\n      const performance = await brain.getAllPhasePerformance();\n      expect(performance).toBeDefined();\n      expect(performance.length).toBe(3);\n    });\n  });\n\n  describe('external integrations', () => {\n    it('should set execution engine', () => {\n      const brain = createTitanBrain();\n      const mockEngine: ExecutionEngineClient = {\n        forwardSignal: jest.fn(),\n        closeAllPositions: jest.fn(),\n        getPositions: jest.fn().mockResolvedValue([]),\n      };\n\n      brain.setExecutionEngine(mockEngine);\n      // No error means success\n    });\n\n    it('should set phase notifier', () => {\n      const brain = createTitanBrain();\n      const mockNotifier: PhaseNotifier = {\n        notifyVeto: jest.fn(),\n      };\n\n      brain.setPhaseNotifier(mockNotifier);\n      // No error means success\n    });\n\n    it('should forward approved signals to execution engine', async () => {\n      const brain = createTitanBrain();\n      brain.setEquity(1000);\n      brain.setDailyStartEquity(1000);\n\n      const mockEngine: ExecutionEngineClient = {\n        forwardSignal: jest.fn(),\n        closeAllPositions: jest.fn(),\n        getPositions: jest.fn().mockResolvedValue([]),\n      };\n      brain.setExecutionEngine(mockEngine);\n\n      const signal = createSignal('phase1', 100);\n      await brain.processSignal(signal);\n\n      expect(mockEngine.forwardSignal).toHaveBeenCalled();\n    });\n\n    it('should notify phase on veto due to risk constraints', async () => {\n      const brain = createTitanBrain();\n      brain.setEquity(500);\n      brain.setDailyStartEquity(500);\n\n      // Add existing positions to trigger leverage cap\n      const existingPositions: Position[] = [\n        createPosition('BTCUSDT', 'LONG', 9000, 'phase1'), // High leverage position\n      ];\n      brain.setPositions(existingPositions);\n\n      const mockNotifier: PhaseNotifier = {\n        notifyVeto: jest.fn().mockResolvedValue(undefined),\n      };\n      brain.setPhaseNotifier(mockNotifier);\n\n      // Request a large position that would exceed leverage cap\n      const signal = createSignal('phase1', 5000, 'ETHUSDT', 'BUY');\n      const decision = await brain.processSignal(signal);\n\n      // Verify the signal was rejected due to leverage\n      expect(decision.approved).toBe(false);\n      expect(decision.reason).toContain('Leverage');\n      \n      // Should notify about veto\n      expect(mockNotifier.notifyVeto).toHaveBeenCalledWith(\n        'phase1',\n        signal.signalId,\n        expect.any(String)\n      );\n    });\n  });\n\n  describe('recent decisions', () => {\n    it('should track recent decisions', async () => {\n      const brain = createTitanBrain();\n      brain.setEquity(1000);\n      brain.setDailyStartEquity(1000);\n\n      await brain.processSignal(createSignal('phase1', 100));\n      await brain.processSignal(createSignal('phase1', 100));\n\n      const decisions = brain.getRecentDecisions();\n      expect(decisions.length).toBe(2);\n    });\n\n    it('should limit recent decisions', async () => {\n      const brain = createTitanBrain();\n      brain.setEquity(1000);\n      brain.setDailyStartEquity(1000);\n\n      const decisions = brain.getRecentDecisions(1);\n      expect(decisions.length).toBeLessThanOrEqual(1);\n    });\n  });\n\n  describe('allocation', () => {\n    it('should get current allocation', () => {\n      const brain = createTitanBrain();\n      brain.setEquity(1000);\n\n      const allocation = brain.getAllocation();\n\n      expect(allocation.w1 + allocation.w2 + allocation.w3).toBeCloseTo(1.0);\n    });\n  });\n\n  describe('treasury integration', () => {\n    it('should get treasury status', async () => {\n      const brain = createTitanBrain();\n\n      const treasury = await brain.getTreasuryStatus();\n\n      expect(treasury).toBeDefined();\n      expect(treasury.futuresWallet).toBeDefined();\n      expect(treasury.spotWallet).toBeDefined();\n    });\n\n    it('should get next sweep trigger level', () => {\n      const brain = createTitanBrain();\n\n      const level = brain.getNextSweepTriggerLevel();\n      expect(level).toBeDefined();\n    });\n\n    it('should get total swept', () => {\n      const brain = createTitanBrain();\n\n      const swept = brain.getTotalSwept();\n      expect(swept).toBe(0); // No sweeps yet\n    });\n\n    it('should get high watermark', () => {\n      const brain = createTitanBrain();\n\n      const watermark = brain.getHighWatermark();\n      expect(watermark).toBe(0); // No updates yet\n    });\n  });\n\n  describe('price history', () => {\n    it('should update price history', () => {\n      const brain = createTitanBrain();\n\n      brain.updatePriceHistory('BTCUSDT', 50000);\n      brain.updatePriceHistory('BTCUSDT', 51000);\n\n      // No error means success\n    });\n  });\n\n  describe('shutdown', () => {\n    it('should shutdown gracefully', async () => {\n      const brain = createTitanBrain();\n      await brain.initialize();\n      await brain.shutdown();\n      // No error means success\n    });\n  });\n});\n"],"version":3}