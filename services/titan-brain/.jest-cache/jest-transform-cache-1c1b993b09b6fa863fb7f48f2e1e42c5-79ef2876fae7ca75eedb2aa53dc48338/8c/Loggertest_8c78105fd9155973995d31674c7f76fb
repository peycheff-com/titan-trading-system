224778bb28d9a6c4afbc0ce24d0f488f
"use strict";
/**
 * Logger.test.ts - Unit tests for structured logging
 *
 * Tests the Logger class functionality including structured logging,
 * correlation IDs, performance tracking, and sensitive data masking.
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
// Mock fs methods
jest.mock('fs');
const Logger_1 = require("../../src/logging/Logger");
const fs = __importStar(require("fs"));
const path = __importStar(require("path"));
// Mock console methods
const originalConsole = { ...console };
const mockConsole = {
    debug: jest.fn(),
    info: jest.fn(),
    warn: jest.fn(),
    error: jest.fn(),
    log: jest.fn()
};
const mockFs = fs;
describe('Logger', () => {
    let logger;
    let testConfig;
    beforeEach(() => {
        // Reset console mocks
        Object.assign(console, mockConsole);
        Object.keys(mockConsole).forEach(key => {
            mockConsole[key].mockClear();
        });
        // Reset fs mocks
        mockFs.existsSync.mockReturnValue(true);
        mockFs.mkdirSync.mockImplementation();
        mockFs.appendFileSync.mockImplementation();
        // Create test configuration
        testConfig = {
            level: Logger_1.LogLevel.DEBUG,
            component: 'test-component',
            enableConsole: true,
            enableFile: false,
            enablePerformanceLogging: true,
            sensitiveFields: ['password', 'secret', 'token'],
            maxStackTraceLines: 5
        };
        logger = new Logger_1.Logger(testConfig);
    });
    afterEach(() => {
        // Restore original console
        Object.assign(console, originalConsole);
        // Clear any active timers
        logger.clearTimers();
    });
    describe('Configuration', () => {
        it('should create configuration from environment variables', () => {
            process.env.LOG_LEVEL = 'WARN';
            process.env.LOG_ENABLE_CONSOLE = 'true';
            process.env.LOG_ENABLE_FILE = 'true';
            process.env.LOG_FILE_PATH = './test.log';
            process.env.LOG_SENSITIVE_FIELDS = 'password,secret,apikey';
            const config = Logger_1.Logger.createConfigFromEnv('test-service');
            expect(config.level).toBe(Logger_1.LogLevel.WARN);
            expect(config.component).toBe('test-service');
            expect(config.enableConsole).toBe(true);
            expect(config.enableFile).toBe(true);
            expect(config.filePath).toBe('./test.log');
            expect(config.sensitiveFields).toEqual(['password', 'secret', 'apikey']);
            // Clean up
            delete process.env.LOG_LEVEL;
            delete process.env.LOG_ENABLE_CONSOLE;
            delete process.env.LOG_ENABLE_FILE;
            delete process.env.LOG_FILE_PATH;
            delete process.env.LOG_SENSITIVE_FIELDS;
        });
        it('should use default values when environment variables are not set', () => {
            const config = Logger_1.Logger.createConfigFromEnv();
            expect(config.level).toBe(Logger_1.LogLevel.INFO);
            expect(config.component).toBe('titan-brain');
            expect(config.enableConsole).toBe(true);
            expect(config.enableFile).toBe(false);
        });
        it('should create singleton instance', () => {
            const instance1 = Logger_1.Logger.getInstance('test');
            const instance2 = Logger_1.Logger.getInstance('test');
            expect(instance1).toBe(instance2);
        });
    });
    describe('Basic Logging', () => {
        it('should log debug messages', () => {
            const correlationId = 'test-correlation-id';
            const metadata = { key: 'value' };
            logger.debug('Debug message', correlationId, metadata);
            expect(mockConsole.debug).toHaveBeenCalledTimes(1);
            const logCall = mockConsole.debug.mock.calls[0][0];
            const logEntry = JSON.parse(logCall);
            expect(logEntry.level).toBe('DEBUG');
            expect(logEntry.message).toBe('Debug message');
            expect(logEntry.correlationId).toBe(correlationId);
            expect(logEntry.component).toBe('test-component');
            expect(logEntry.metadata).toEqual(metadata);
            expect(logEntry.timestamp).toBeDefined();
        });
        it('should log info messages', () => {
            logger.info('Info message');
            expect(mockConsole.info).toHaveBeenCalledTimes(1);
            const logCall = mockConsole.info.mock.calls[0][0];
            const logEntry = JSON.parse(logCall);
            expect(logEntry.level).toBe('INFO');
            expect(logEntry.message).toBe('Info message');
        });
        it('should log warning messages', () => {
            logger.warn('Warning message');
            expect(mockConsole.warn).toHaveBeenCalledTimes(1);
            const logCall = mockConsole.warn.mock.calls[0][0];
            const logEntry = JSON.parse(logCall);
            expect(logEntry.level).toBe('WARN');
            expect(logEntry.message).toBe('Warning message');
        });
        it('should log error messages with error objects', () => {
            const error = new Error('Test error');
            error.stack = 'Error: Test error\n    at test.js:1:1\n    at test.js:2:2';
            logger.error('Error message', error);
            expect(mockConsole.error).toHaveBeenCalledTimes(1);
            const logCall = mockConsole.error.mock.calls[0][0];
            const logEntry = JSON.parse(logCall);
            expect(logEntry.level).toBe('ERROR');
            expect(logEntry.message).toBe('Error message');
            expect(logEntry.error).toBeDefined();
            expect(logEntry.error.name).toBe('Error');
            expect(logEntry.error.message).toBe('Test error');
            expect(logEntry.error.stack).toContain('Error: Test error');
        });
        it('should log fatal messages', () => {
            logger.fatal('Fatal message');
            expect(mockConsole.error).toHaveBeenCalledTimes(1);
            const logCall = mockConsole.error.mock.calls[0][0];
            const logEntry = JSON.parse(logCall);
            expect(logEntry.level).toBe('FATAL');
            expect(logEntry.message).toBe('Fatal message');
        });
    });
    describe('Log Level Filtering', () => {
        it('should respect log level configuration', () => {
            const warnLogger = new Logger_1.Logger({
                ...testConfig,
                level: Logger_1.LogLevel.WARN
            });
            warnLogger.debug('Debug message');
            warnLogger.info('Info message');
            warnLogger.warn('Warning message');
            warnLogger.error('Error message');
            expect(mockConsole.debug).not.toHaveBeenCalled();
            expect(mockConsole.info).not.toHaveBeenCalled();
            expect(mockConsole.warn).toHaveBeenCalledTimes(1);
            expect(mockConsole.error).toHaveBeenCalledTimes(1);
        });
        it('should allow changing log level at runtime', () => {
            // First set to WARN level so we can see the setLogLevel message
            logger.setLogLevel(Logger_1.LogLevel.WARN);
            // Clear the mock calls from setLogLevel
            Object.keys(mockConsole).forEach(key => {
                mockConsole[key].mockClear();
            });
            // Now set to ERROR level
            logger.setLogLevel(Logger_1.LogLevel.ERROR);
            logger.debug('Debug message');
            logger.info('Info message');
            logger.warn('Warning message');
            logger.error('Error message');
            expect(mockConsole.debug).not.toHaveBeenCalled();
            expect(mockConsole.info).not.toHaveBeenCalled(); // setLogLevel won't log at ERROR level
            expect(mockConsole.warn).not.toHaveBeenCalled();
            expect(mockConsole.error).toHaveBeenCalledTimes(1); // error message only
        });
    });
    describe('Sensitive Data Masking', () => {
        it('should mask sensitive fields in metadata', () => {
            const metadata = {
                username: 'testuser',
                password: 'secret123',
                apiToken: 'abc123',
                normalField: 'normal value'
            };
            logger.info('Test message', undefined, metadata);
            const logCall = mockConsole.info.mock.calls[0][0];
            const logEntry = JSON.parse(logCall);
            expect(logEntry.metadata.username).toBe('testuser');
            expect(logEntry.metadata.password).toBe('[MASKED]');
            expect(logEntry.metadata.apiToken).toBe('[MASKED]');
            expect(logEntry.metadata.normalField).toBe('normal value');
        });
        it('should mask sensitive data in nested objects', () => {
            const metadata = {
                user: {
                    name: 'testuser',
                    password: 'secret123'
                },
                config: {
                    apiSecret: 'secret456',
                    timeout: 5000
                }
            };
            logger.info('Test message', undefined, metadata);
            const logCall = mockConsole.info.mock.calls[0][0];
            const logEntry = JSON.parse(logCall);
            expect(logEntry.metadata.user.name).toBe('testuser');
            expect(logEntry.metadata.user.password).toBe('[MASKED]');
            expect(logEntry.metadata.config.apiSecret).toBe('[MASKED]');
            expect(logEntry.metadata.config.timeout).toBe(5000);
        });
        it('should mask sensitive data in arrays', () => {
            const metadata = {
                items: [
                    { name: 'item1', secret: 'secret1' },
                    { name: 'item2', secret: 'secret2' }
                ]
            };
            logger.info('Test message', undefined, metadata);
            const logCall = mockConsole.info.mock.calls[0][0];
            const logEntry = JSON.parse(logCall);
            expect(logEntry.metadata.items[0].name).toBe('item1');
            expect(logEntry.metadata.items[0].secret).toBe('[MASKED]');
            expect(logEntry.metadata.items[1].name).toBe('item2');
            expect(logEntry.metadata.items[1].secret).toBe('[MASKED]');
        });
    });
    describe('Performance Timing', () => {
        it('should track operation timing', () => {
            const timerId = logger.startTimer('test-operation', 'correlation-123', { key: 'value' });
            expect(typeof timerId).toBe('string');
            expect(logger.getActiveTimerCount()).toBe(1);
            // Simulate some work
            const duration = logger.endTimer(timerId, { result: 'success' });
            expect(typeof duration).toBe('number');
            expect(duration).toBeGreaterThanOrEqual(0);
            expect(logger.getActiveTimerCount()).toBe(0);
            // Check that performance log was written
            expect(mockConsole.debug).toHaveBeenCalledTimes(1); // Start timer
            expect(mockConsole.info).toHaveBeenCalledTimes(1); // End timer
            const endLogCall = mockConsole.info.mock.calls[0][0];
            const endLogEntry = JSON.parse(endLogCall);
            expect(endLogEntry.operation).toBe('test-operation');
            expect(endLogEntry.duration).toBe(duration);
            expect(endLogEntry.correlationId).toBe('correlation-123');
            expect(endLogEntry.metadata.key).toBe('value');
            expect(endLogEntry.metadata.result).toBe('success');
        });
        it('should handle invalid timer IDs', () => {
            const duration = logger.endTimer('invalid-timer-id');
            expect(duration).toBeNull();
            expect(mockConsole.warn).toHaveBeenCalledTimes(1);
        });
        it('should disable performance logging when configured', () => {
            const noPerformanceLogger = new Logger_1.Logger({
                ...testConfig,
                enablePerformanceLogging: false
            });
            const timerId = noPerformanceLogger.startTimer('test-operation');
            noPerformanceLogger.endTimer(timerId);
            expect(mockConsole.debug).not.toHaveBeenCalled();
            expect(mockConsole.info).not.toHaveBeenCalled();
        });
    });
    describe('Specialized Logging Methods', () => {
        it('should log HTTP requests', () => {
            logger.logHttpRequest('GET', '/api/test', 200, 150, 'correlation-123', {
                userAgent: 'test-agent'
            });
            expect(mockConsole.info).toHaveBeenCalledTimes(1);
            const logCall = mockConsole.info.mock.calls[0][0];
            const logEntry = JSON.parse(logCall);
            expect(logEntry.message).toBe('HTTP GET /api/test - 200');
            expect(logEntry.operation).toBe('http_request');
            expect(logEntry.duration).toBe(150);
            expect(logEntry.correlationId).toBe('correlation-123');
            expect(logEntry.metadata.method).toBe('GET');
            expect(logEntry.metadata.url).toBe('/api/test');
            expect(logEntry.metadata.statusCode).toBe(200);
            expect(logEntry.metadata.userAgent).toBe('test-agent');
        });
        it('should log HTTP requests as warnings for error status codes', () => {
            logger.logHttpRequest('POST', '/api/error', 500, 200);
            expect(mockConsole.warn).toHaveBeenCalledTimes(1);
            const logCall = mockConsole.warn.mock.calls[0][0];
            const logEntry = JSON.parse(logCall);
            expect(logEntry.level).toBe('WARN');
            expect(logEntry.message).toBe('HTTP POST /api/error - 500');
        });
        it('should log database operations', () => {
            logger.logDatabaseOperation('SELECT', 'users', 50, 10, 'correlation-123');
            expect(mockConsole.debug).toHaveBeenCalledTimes(1);
            const logCall = mockConsole.debug.mock.calls[0][0];
            const logEntry = JSON.parse(logCall);
            expect(logEntry.message).toBe('Database SELECT on users');
            expect(logEntry.operation).toBe('database_operation');
            expect(logEntry.duration).toBe(50);
            expect(logEntry.metadata.operation).toBe('SELECT');
            expect(logEntry.metadata.table).toBe('users');
            expect(logEntry.metadata.rowCount).toBe(10);
        });
        it('should log cache operations', () => {
            logger.logCacheOperation('GET', 'user:123', true, 5, 'correlation-123');
            expect(mockConsole.debug).toHaveBeenCalledTimes(1);
            const logCall = mockConsole.debug.mock.calls[0][0];
            const logEntry = JSON.parse(logCall);
            expect(logEntry.message).toBe('Cache GET for user:123 - HIT');
            expect(logEntry.operation).toBe('cache_operation');
            expect(logEntry.duration).toBe(5);
            expect(logEntry.metadata.operation).toBe('GET');
            expect(logEntry.metadata.key).toBe('user:123');
            expect(logEntry.metadata.hit).toBe(true);
        });
        it('should log security events', () => {
            logger.logSecurityEvent('Invalid login attempt', 'high', 'correlation-123', {
                ip: '192.168.1.1',
                username: 'admin'
            });
            expect(mockConsole.error).toHaveBeenCalledTimes(1);
            const logCall = mockConsole.error.mock.calls[0][0];
            const logEntry = JSON.parse(logCall);
            expect(logEntry.level).toBe('ERROR');
            expect(logEntry.message).toBe('Security event: Invalid login attempt');
            expect(logEntry.operation).toBe('security_event');
            expect(logEntry.metadata.event).toBe('Invalid login attempt');
            expect(logEntry.metadata.severity).toBe('high');
            expect(logEntry.metadata.ip).toBe('192.168.1.1');
            expect(logEntry.metadata.username).toBe('admin');
        });
        it('should log critical security events as fatal', () => {
            logger.logSecurityEvent('System compromise detected', 'critical');
            expect(mockConsole.error).toHaveBeenCalledTimes(1);
            const logCall = mockConsole.error.mock.calls[0][0];
            const logEntry = JSON.parse(logCall);
            expect(logEntry.level).toBe('FATAL');
        });
    });
    describe('File Logging', () => {
        it('should write to file when enabled', () => {
            const fileLogger = new Logger_1.Logger({
                ...testConfig,
                enableFile: true,
                filePath: './test.log'
            });
            mockFs.existsSync.mockReturnValue(false);
            fileLogger.info('Test message');
            expect(mockFs.mkdirSync).toHaveBeenCalledWith(path.dirname('./test.log'), { recursive: true });
            expect(mockFs.appendFileSync).toHaveBeenCalledWith('./test.log', expect.stringContaining('"message":"Test message"'));
        });
        it('should handle file write errors gracefully', () => {
            const fileLogger = new Logger_1.Logger({
                ...testConfig,
                enableFile: true,
                filePath: './test.log'
            });
            mockFs.appendFileSync.mockImplementation(() => {
                throw new Error('File write error');
            });
            fileLogger.info('Test message');
            expect(mockConsole.error).toHaveBeenCalledWith('Failed to write to log file:', expect.any(Error));
        });
    });
    describe('Correlation ID Generation', () => {
        it('should generate unique correlation IDs', () => {
            const id1 = Logger_1.Logger.generateCorrelationId();
            const id2 = Logger_1.Logger.generateCorrelationId();
            expect(typeof id1).toBe('string');
            expect(typeof id2).toBe('string');
            expect(id1).not.toBe(id2);
            expect(id1.length).toBeGreaterThan(0);
            expect(id2.length).toBeGreaterThan(0);
        });
    });
    describe('Configuration Management', () => {
        it('should return current configuration', () => {
            const config = logger.getConfig();
            expect(config).toEqual(testConfig);
            expect(config).not.toBe(testConfig); // Should be a copy
        });
        it('should clear all timers', () => {
            logger.startTimer('timer1');
            logger.startTimer('timer2');
            expect(logger.getActiveTimerCount()).toBe(2);
            logger.clearTimers();
            expect(logger.getActiveTimerCount()).toBe(0);
        });
    });
    describe('Error Handling', () => {
        it('should handle errors with custom codes', () => {
            const error = new Error('Custom error');
            error.code = 'CUSTOM_ERROR';
            error.statusCode = 400;
            logger.error('Error with code', error);
            const logCall = mockConsole.error.mock.calls[0][0];
            const logEntry = JSON.parse(logCall);
            expect(logEntry.error.code).toBe('CUSTOM_ERROR');
        });
        it('should limit stack trace lines', () => {
            const error = new Error('Test error');
            error.stack = Array(20).fill(0).map((_, i) => `    at line${i}`).join('\n');
            logger.error('Error with long stack', error);
            const logCall = mockConsole.error.mock.calls[0][0];
            const logEntry = JSON.parse(logCall);
            const stackLines = logEntry.error.stack.split('\n');
            expect(stackLines.length).toBeLessThanOrEqual(testConfig.maxStackTraceLines);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2l2YW4vQ29kZS90cmFkaW5nL3RpdGFuL3NlcnZpY2VzL3RpdGFuLWJyYWluL3Rlc3RzL2xvZ2dpbmcvTG9nZ2VyLnRlc3QudHMiLCJtYXBwaW5ncyI6IjtBQUFBOzs7OztHQUtHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWdCSCxrQkFBa0I7QUFDbEIsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQWZoQixxREFBMEU7QUFDMUUsdUNBQXlCO0FBQ3pCLDJDQUE2QjtBQUU3Qix1QkFBdUI7QUFDdkIsTUFBTSxlQUFlLEdBQUcsRUFBRSxHQUFHLE9BQU8sRUFBRSxDQUFDO0FBQ3ZDLE1BQU0sV0FBVyxHQUFHO0lBQ2xCLEtBQUssRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0lBQ2hCLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0lBQ2YsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7SUFDZixLQUFLLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtJQUNoQixHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtDQUNmLENBQUM7QUFJRixNQUFNLE1BQU0sR0FBRyxFQUE0QixDQUFDO0FBRTVDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsR0FBRyxFQUFFO0lBQ3RCLElBQUksTUFBYyxDQUFDO0lBQ25CLElBQUksVUFBd0IsQ0FBQztJQUU3QixVQUFVLENBQUMsR0FBRyxFQUFFO1FBQ2Qsc0JBQXNCO1FBQ3RCLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBQ3BDLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQ3BDLFdBQW1CLENBQUMsR0FBRyxDQUFDLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDeEMsQ0FBQyxDQUFDLENBQUM7UUFFSCxpQkFBaUI7UUFDakIsTUFBTSxDQUFDLFVBQVUsQ0FBQyxlQUFlLENBQUMsSUFBSSxD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eEMsTUFBTSxLQUFLLEdBQUcsSUFBSSxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDdEMsS0FBSyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFFNUUsTUFBTSxDQUFDLEtBQUssQ0FBQyx1QkFBdUIsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUU3QyxNQUFNLE9BQU8sR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbkQsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUVyQyxNQUFNLFVBQVUsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDcEQsTUFBTSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxtQkFBbUIsQ0FBQyxVQUFVLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUMvRSxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL2l2YW4vQ29kZS90cmFkaW5nL3RpdGFuL3NlcnZpY2VzL3RpdGFuLWJyYWluL3Rlc3RzL2xvZ2dpbmcvTG9nZ2VyLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMb2dnZXIudGVzdC50cyAtIFVuaXQgdGVzdHMgZm9yIHN0cnVjdHVyZWQgbG9nZ2luZ1xuICogXG4gKiBUZXN0cyB0aGUgTG9nZ2VyIGNsYXNzIGZ1bmN0aW9uYWxpdHkgaW5jbHVkaW5nIHN0cnVjdHVyZWQgbG9nZ2luZyxcbiAqIGNvcnJlbGF0aW9uIElEcywgcGVyZm9ybWFuY2UgdHJhY2tpbmcsIGFuZCBzZW5zaXRpdmUgZGF0YSBtYXNraW5nLlxuICovXG5cbmltcG9ydCB7IExvZ2dlciwgTG9nTGV2ZWwsIExvZ2dlckNvbmZpZyB9IGZyb20gJy4uLy4uL3NyYy9sb2dnaW5nL0xvZ2dlcic7XG5pbXBvcnQgKiBhcyBmcyBmcm9tICdmcyc7XG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ3BhdGgnO1xuXG4vLyBNb2NrIGNvbnNvbGUgbWV0aG9kc1xuY29uc3Qgb3JpZ2luYWxDb25zb2xlID0geyAuLi5jb25zb2xlIH07XG5jb25zdCBtb2NrQ29uc29sZSA9IHtcbiAgZGVidWc6IGplc3QuZm4oKSxcbiAgaW5mbzogamVzdC5mbigpLFxuICB3YXJuOiBqZXN0LmZuKCksXG4gIGVycm9yOiBqZXN0LmZuKCksXG4gIGxvZzogamVzdC5mbigpXG59O1xuXG4vLyBNb2NrIGZzIG1ldGhvZHNcbmplc3QubW9jaygnZnMnKTtcbmNvbnN0IG1vY2tGcyA9IGZzIGFzIGplc3QuTW9ja2VkPHR5cGVvZiBmcz47XG5cbmRlc2NyaWJlKCdMb2dnZXInLCAoKSA9PiB7XG4gIGxldCBsb2dnZXI6IExvZ2dlcjtcbiAgbGV0IHRlc3RDb25maWc6IExvZ2dlckNvbmZpZztcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAvLyBSZXNldCBjb25zb2xlIG1vY2tzXG4gICAgT2JqZWN0LmFzc2lnbihjb25zb2xlLCBtb2NrQ29uc29sZSk7XG4gICAgT2JqZWN0LmtleXMobW9ja0NvbnNvbGUpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIChtb2NrQ29uc29sZSBhcyBhbnkpW2tleV0ubW9ja0NsZWFyKCk7XG4gICAgfSk7XG5cbiAgICAvLyBSZXNldCBmcyBtb2Nrc1xuICAgIG1vY2tGcy5leGlzdHNTeW5jLm1vY2tSZXR1cm5WYWx1ZSh0cnVlKTtcbiAgICBtb2NrRnMubWtkaXJTeW5jLm1vY2tJbXBsZW1lbnRhdGlvbigpO1xuICAgIG1vY2tGcy5hcHBlbmRGaWxlU3luYy5tb2NrSW1wbGVtZW50YXRpb24oKTtcblxuICAgIC8vIENyZWF0ZSB0ZXN0IGNvbmZpZ3VyYXRpb25cbiAgICB0ZXN0Q29uZmlnID0ge1xuICAgICAgbGV2ZWw6IExvZ0xldmVsLkRFQlVHLFxuICAgICAgY29tcG9uZW50OiAndGVzdC1jb21wb25lbnQnLFxuICAgICAgZW5hYmxlQ29uc29sZTogdHJ1ZSxcbiAgICAgIGVuYWJsZUZpbGU6IGZhbHNlLFxuICAgICAgZW5hYmxlUGVyZm9ybWFuY2VMb2dnaW5nOiB0cnVlLFxuICAgICAgc2Vuc2l0aXZlRmllbGRzOiBbJ3Bhc3N3b3JkJywgJ3NlY3JldCcsICd0b2tlbiddLFxuICAgICAgbWF4U3RhY2tUcmFjZUxpbmVzOiA1XG4gICAgfTtcblxuICAgIGxvZ2dlciA9IG5ldyBMb2dnZXIodGVzdENvbmZpZyk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgLy8gUmVzdG9yZSBvcmlnaW5hbCBjb25zb2xlXG4gICAgT2JqZWN0LmFzc2lnbihjb25zb2xlLCBvcmlnaW5hbENvbnNvbGUpO1xuICAgIFxuICAgIC8vIENsZWFyIGFueSBhY3RpdmUgdGltZXJzXG4gICAgbG9nZ2VyLmNsZWFyVGltZXJzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb25maWd1cmF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY3JlYXRlIGNvbmZpZ3VyYXRpb24gZnJvbSBlbnZpcm9ubWVudCB2YXJpYWJsZXMnLCAoKSA9PiB7XG4gICAgICBwcm9jZXNzLmVudi5MT0dfTEVWRUwgPSAnV0FSTic7XG4gICAgICBwcm9jZXNzLmVudi5MT0dfRU5BQkxFX0NPTlNPTEUgPSAndHJ1ZSc7XG4gICAgICBwcm9jZXNzLmVudi5MT0dfRU5BQkxFX0ZJTEUgPSAndHJ1ZSc7XG4gICAgICBwcm9jZXNzLmVudi5MT0dfRklMRV9QQVRIID0gJy4vdGVzdC5sb2cnO1xuICAgICAgcHJvY2Vzcy5lbnYuTE9HX1NFTlNJVElWRV9GSUVMRFMgPSAncGFzc3dvcmQsc2VjcmV0LGFwaWtleSc7XG5cbiAgICAgIGNvbnN0IGNvbmZpZyA9IExvZ2dlci5jcmVhdGVDb25maWdGcm9tRW52KCd0ZXN0LXNlcnZpY2UnKTtcblxuICAgICAgZXhwZWN0KGNvbmZpZy5sZXZlbCkudG9CZShMb2dMZXZlbC5XQVJOKTtcbiAgICAgIGV4cGVjdChjb25maWcuY29tcG9uZW50KS50b0JlKCd0ZXN0LXNlcnZpY2UnKTtcbiAgICAgIGV4cGVjdChjb25maWcuZW5hYmxlQ29uc29sZSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChjb25maWcuZW5hYmxlRmlsZSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChjb25maWcuZmlsZVBhdGgpLnRvQmUoJy4vdGVzdC5sb2cnKTtcbiAgICAgIGV4cGVjdChjb25maWcuc2Vuc2l0aXZlRmllbGRzKS50b0VxdWFsKFsncGFzc3dvcmQnLCAnc2VjcmV0JywgJ2FwaWtleSddKTtcblxuICAgICAgLy8gQ2xlYW4gdXBcbiAgICAgIGRlbGV0ZSBwcm9jZXNzLmVudi5MT0dfTEVWRUw7XG4gICAgICBkZWxldGUgcHJvY2Vzcy5lbnYuTE9HX0VOQUJMRV9DT05TT0xFO1xuICAgICAgZGVsZXRlIHByb2Nlc3MuZW52LkxPR19FTkFCTEVfRklMRTtcbiAgICAgIGRlbGV0ZSBwcm9jZXNzLmVudi5MT0dfRklMRV9QQVRIO1xuICAgICAgZGVsZXRlIHByb2Nlc3MuZW52LkxPR19TRU5TSVRJVkVfRklFTERTO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB1c2UgZGVmYXVsdCB2YWx1ZXMgd2hlbiBlbnZpcm9ubWVudCB2YXJpYWJsZXMgYXJlIG5vdCBzZXQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb25maWcgPSBMb2dnZXIuY3JlYXRlQ29uZmlnRnJvbUVudigpO1xuXG4gICAgICBleHBlY3QoY29uZmlnLmxldmVsKS50b0JlKExvZ0xldmVsLklORk8pO1xuICAgICAgZXhwZWN0KGNvbmZpZy5jb21wb25lbnQpLnRvQmUoJ3RpdGFuLWJyYWluJyk7XG4gICAgICBleHBlY3QoY29uZmlnLmVuYWJsZUNvbnNvbGUpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoY29uZmlnLmVuYWJsZUZpbGUpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjcmVhdGUgc2luZ2xldG9uIGluc3RhbmNlJywgKCkgPT4ge1xuICAgICAgY29uc3QgaW5zdGFuY2UxID0gTG9nZ2VyLmdldEluc3RhbmNlKCd0ZXN0Jyk7XG4gICAgICBjb25zdCBpbnN0YW5jZTIgPSBMb2dnZXIuZ2V0SW5zdGFuY2UoJ3Rlc3QnKTtcblxuICAgICAgZXhwZWN0KGluc3RhbmNlMSkudG9CZShpbnN0YW5jZTIpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQmFzaWMgTG9nZ2luZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGxvZyBkZWJ1ZyBtZXNzYWdlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvcnJlbGF0aW9uSWQgPSAndGVzdC1jb3JyZWxhdGlvbi1pZCc7XG4gICAgICBjb25zdCBtZXRhZGF0YSA9IHsga2V5OiAndmFsdWUnIH07XG5cbiAgICAgIGxvZ2dlci5kZWJ1ZygnRGVidWcgbWVzc2FnZScsIGNvcnJlbGF0aW9uSWQsIG1ldGFkYXRhKTtcblxuICAgICAgZXhwZWN0KG1vY2tDb25zb2xlLmRlYnVnKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG4gICAgICBjb25zdCBsb2dDYWxsID0gbW9ja0NvbnNvbGUuZGVidWcubW9jay5jYWxsc1swXVswXTtcbiAgICAgIGNvbnN0IGxvZ0VudHJ5ID0gSlNPTi5wYXJzZShsb2dDYWxsKTtcblxuICAgICAgZXhwZWN0KGxvZ0VudHJ5LmxldmVsKS50b0JlKCdERUJVRycpO1xuICAgICAgZXhwZWN0KGxvZ0VudHJ5Lm1lc3NhZ2UpLnRvQmUoJ0RlYnVnIG1lc3NhZ2UnKTtcbiAgICAgIGV4cGVjdChsb2dFbnRyeS5jb3JyZWxhdGlvbklkKS50b0JlKGNvcnJlbGF0aW9uSWQpO1xuICAgICAgZXhwZWN0KGxvZ0VudHJ5LmNvbXBvbmVudCkudG9CZSgndGVzdC1jb21wb25lbnQnKTtcbiAgICAgIGV4cGVjdChsb2dFbnRyeS5tZXRhZGF0YSkudG9FcXVhbChtZXRhZGF0YSk7XG4gICAgICBleHBlY3QobG9nRW50cnkudGltZXN0YW1wKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBsb2cgaW5mbyBtZXNzYWdlcycsICgpID0+IHtcbiAgICAgIGxvZ2dlci5pbmZvKCdJbmZvIG1lc3NhZ2UnKTtcblxuICAgICAgZXhwZWN0KG1vY2tDb25zb2xlLmluZm8pLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgICAgIGNvbnN0IGxvZ0NhbGwgPSBtb2NrQ29uc29sZS5pbmZvLm1vY2suY2FsbHNbMF1bMF07XG4gICAgICBjb25zdCBsb2dFbnRyeSA9IEpTT04ucGFyc2UobG9nQ2FsbCk7XG5cbiAgICAgIGV4cGVjdChsb2dFbnRyeS5sZXZlbCkudG9CZSgnSU5GTycpO1xuICAgICAgZXhwZWN0KGxvZ0VudHJ5Lm1lc3NhZ2UpLnRvQmUoJ0luZm8gbWVzc2FnZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBsb2cgd2FybmluZyBtZXNzYWdlcycsICgpID0+IHtcbiAgICAgIGxvZ2dlci53YXJuKCdXYXJuaW5nIG1lc3NhZ2UnKTtcblxuICAgICAgZXhwZWN0KG1vY2tDb25zb2xlLndhcm4pLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgICAgIGNvbnN0IGxvZ0NhbGwgPSBtb2NrQ29uc29sZS53YXJuLm1vY2suY2FsbHNbMF1bMF07XG4gICAgICBjb25zdCBsb2dFbnRyeSA9IEpTT04ucGFyc2UobG9nQ2FsbCk7XG5cbiAgICAgIGV4cGVjdChsb2dFbnRyeS5sZXZlbCkudG9CZSgnV0FSTicpO1xuICAgICAgZXhwZWN0KGxvZ0VudHJ5Lm1lc3NhZ2UpLnRvQmUoJ1dhcm5pbmcgbWVzc2FnZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBsb2cgZXJyb3IgbWVzc2FnZXMgd2l0aCBlcnJvciBvYmplY3RzJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ1Rlc3QgZXJyb3InKTtcbiAgICAgIGVycm9yLnN0YWNrID0gJ0Vycm9yOiBUZXN0IGVycm9yXFxuICAgIGF0IHRlc3QuanM6MToxXFxuICAgIGF0IHRlc3QuanM6MjoyJztcblxuICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBtZXNzYWdlJywgZXJyb3IpO1xuXG4gICAgICBleHBlY3QobW9ja0NvbnNvbGUuZXJyb3IpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgICAgIGNvbnN0IGxvZ0NhbGwgPSBtb2NrQ29uc29sZS5lcnJvci5tb2NrLmNhbGxzWzBdWzBdO1xuICAgICAgY29uc3QgbG9nRW50cnkgPSBKU09OLnBhcnNlKGxvZ0NhbGwpO1xuXG4gICAgICBleHBlY3QobG9nRW50cnkubGV2ZWwpLnRvQmUoJ0VSUk9SJyk7XG4gICAgICBleHBlY3QobG9nRW50cnkubWVzc2FnZSkudG9CZSgnRXJyb3IgbWVzc2FnZScpO1xuICAgICAgZXhwZWN0KGxvZ0VudHJ5LmVycm9yKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGxvZ0VudHJ5LmVycm9yLm5hbWUpLnRvQmUoJ0Vycm9yJyk7XG4gICAgICBleHBlY3QobG9nRW50cnkuZXJyb3IubWVzc2FnZSkudG9CZSgnVGVzdCBlcnJvcicpO1xuICAgICAgZXhwZWN0KGxvZ0VudHJ5LmVycm9yLnN0YWNrKS50b0NvbnRhaW4oJ0Vycm9yOiBUZXN0IGVycm9yJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGxvZyBmYXRhbCBtZXNzYWdlcycsICgpID0+IHtcbiAgICAgIGxvZ2dlci5mYXRhbCgnRmF0YWwgbWVzc2FnZScpO1xuXG4gICAgICBleHBlY3QobW9ja0NvbnNvbGUuZXJyb3IpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgICAgIGNvbnN0IGxvZ0NhbGwgPSBtb2NrQ29uc29sZS5lcnJvci5tb2NrLmNhbGxzWzBdWzBdO1xuICAgICAgY29uc3QgbG9nRW50cnkgPSBKU09OLnBhcnNlKGxvZ0NhbGwpO1xuXG4gICAgICBleHBlY3QobG9nRW50cnkubGV2ZWwpLnRvQmUoJ0ZBVEFMJyk7XG4gICAgICBleHBlY3QobG9nRW50cnkubWVzc2FnZSkudG9CZSgnRmF0YWwgbWVzc2FnZScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTG9nIExldmVsIEZpbHRlcmluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJlc3BlY3QgbG9nIGxldmVsIGNvbmZpZ3VyYXRpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCB3YXJuTG9nZ2VyID0gbmV3IExvZ2dlcih7XG4gICAgICAgIC4uLnRlc3RDb25maWcsXG4gICAgICAgIGxldmVsOiBMb2dMZXZlbC5XQVJOXG4gICAgICB9KTtcblxuICAgICAgd2FybkxvZ2dlci5kZWJ1ZygnRGVidWcgbWVzc2FnZScpO1xuICAgICAgd2FybkxvZ2dlci5pbmZvKCdJbmZvIG1lc3NhZ2UnKTtcbiAgICAgIHdhcm5Mb2dnZXIud2FybignV2FybmluZyBtZXNzYWdlJyk7XG4gICAgICB3YXJuTG9nZ2VyLmVycm9yKCdFcnJvciBtZXNzYWdlJyk7XG5cbiAgICAgIGV4cGVjdChtb2NrQ29uc29sZS5kZWJ1Zykubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChtb2NrQ29uc29sZS5pbmZvKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KG1vY2tDb25zb2xlLndhcm4pLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgICAgIGV4cGVjdChtb2NrQ29uc29sZS5lcnJvcikudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBhbGxvdyBjaGFuZ2luZyBsb2cgbGV2ZWwgYXQgcnVudGltZScsICgpID0+IHtcbiAgICAgIC8vIEZpcnN0IHNldCB0byBXQVJOIGxldmVsIHNvIHdlIGNhbiBzZWUgdGhlIHNldExvZ0xldmVsIG1lc3NhZ2VcbiAgICAgIGxvZ2dlci5zZXRMb2dMZXZlbChMb2dMZXZlbC5XQVJOKTtcbiAgICAgIFxuICAgICAgLy8gQ2xlYXIgdGhlIG1vY2sgY2FsbHMgZnJvbSBzZXRMb2dMZXZlbFxuICAgICAgT2JqZWN0LmtleXMobW9ja0NvbnNvbGUpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgKG1vY2tDb25zb2xlIGFzIGFueSlba2V5XS5tb2NrQ2xlYXIoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBOb3cgc2V0IHRvIEVSUk9SIGxldmVsXG4gICAgICBsb2dnZXIuc2V0TG9nTGV2ZWwoTG9nTGV2ZWwuRVJST1IpO1xuXG4gICAgICBsb2dnZXIuZGVidWcoJ0RlYnVnIG1lc3NhZ2UnKTtcbiAgICAgIGxvZ2dlci5pbmZvKCdJbmZvIG1lc3NhZ2UnKTtcbiAgICAgIGxvZ2dlci53YXJuKCdXYXJuaW5nIG1lc3NhZ2UnKTtcbiAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgbWVzc2FnZScpO1xuXG4gICAgICBleHBlY3QobW9ja0NvbnNvbGUuZGVidWcpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3QobW9ja0NvbnNvbGUuaW5mbykubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTsgLy8gc2V0TG9nTGV2ZWwgd29uJ3QgbG9nIGF0IEVSUk9SIGxldmVsXG4gICAgICBleHBlY3QobW9ja0NvbnNvbGUud2Fybikubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChtb2NrQ29uc29sZS5lcnJvcikudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpOyAvLyBlcnJvciBtZXNzYWdlIG9ubHlcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1NlbnNpdGl2ZSBEYXRhIE1hc2tpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBtYXNrIHNlbnNpdGl2ZSBmaWVsZHMgaW4gbWV0YWRhdGEnLCAoKSA9PiB7XG4gICAgICBjb25zdCBtZXRhZGF0YSA9IHtcbiAgICAgICAgdXNlcm5hbWU6ICd0ZXN0dXNlcicsXG4gICAgICAgIHBhc3N3b3JkOiAnc2VjcmV0MTIzJyxcbiAgICAgICAgYXBpVG9rZW46ICdhYmMxMjMnLFxuICAgICAgICBub3JtYWxGaWVsZDogJ25vcm1hbCB2YWx1ZSdcbiAgICAgIH07XG5cbiAgICAgIGxvZ2dlci5pbmZvKCdUZXN0IG1lc3NhZ2UnLCB1bmRlZmluZWQsIG1ldGFkYXRhKTtcblxuICAgICAgY29uc3QgbG9nQ2FsbCA9IG1vY2tDb25zb2xlLmluZm8ubW9jay5jYWxsc1swXVswXTtcbiAgICAgIGNvbnN0IGxvZ0VudHJ5ID0gSlNPTi5wYXJzZShsb2dDYWxsKTtcblxuICAgICAgZXhwZWN0KGxvZ0VudHJ5Lm1ldGFkYXRhLnVzZXJuYW1lKS50b0JlKCd0ZXN0dXNlcicpO1xuICAgICAgZXhwZWN0KGxvZ0VudHJ5Lm1ldGFkYXRhLnBhc3N3b3JkKS50b0JlKCdbTUFTS0VEXScpO1xuICAgICAgZXhwZWN0KGxvZ0VudHJ5Lm1ldGFkYXRhLmFwaVRva2VuKS50b0JlKCdbTUFTS0VEXScpO1xuICAgICAgZXhwZWN0KGxvZ0VudHJ5Lm1ldGFkYXRhLm5vcm1hbEZpZWxkKS50b0JlKCdub3JtYWwgdmFsdWUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbWFzayBzZW5zaXRpdmUgZGF0YSBpbiBuZXN0ZWQgb2JqZWN0cycsICgpID0+IHtcbiAgICAgIGNvbnN0IG1ldGFkYXRhID0ge1xuICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgbmFtZTogJ3Rlc3R1c2VyJyxcbiAgICAgICAgICBwYXNzd29yZDogJ3NlY3JldDEyMydcbiAgICAgICAgfSxcbiAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgYXBpU2VjcmV0OiAnc2VjcmV0NDU2JyxcbiAgICAgICAgICB0aW1lb3V0OiA1MDAwXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGxvZ2dlci5pbmZvKCdUZXN0IG1lc3NhZ2UnLCB1bmRlZmluZWQsIG1ldGFkYXRhKTtcblxuICAgICAgY29uc3QgbG9nQ2FsbCA9IG1vY2tDb25zb2xlLmluZm8ubW9jay5jYWxsc1swXVswXTtcbiAgICAgIGNvbnN0IGxvZ0VudHJ5ID0gSlNPTi5wYXJzZShsb2dDYWxsKTtcblxuICAgICAgZXhwZWN0KGxvZ0VudHJ5Lm1ldGFkYXRhLnVzZXIubmFtZSkudG9CZSgndGVzdHVzZXInKTtcbiAgICAgIGV4cGVjdChsb2dFbnRyeS5tZXRhZGF0YS51c2VyLnBhc3N3b3JkKS50b0JlKCdbTUFTS0VEXScpO1xuICAgICAgZXhwZWN0KGxvZ0VudHJ5Lm1ldGFkYXRhLmNvbmZpZy5hcGlTZWNyZXQpLnRvQmUoJ1tNQVNLRURdJyk7XG4gICAgICBleHBlY3QobG9nRW50cnkubWV0YWRhdGEuY29uZmlnLnRpbWVvdXQpLnRvQmUoNTAwMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG1hc2sgc2Vuc2l0aXZlIGRhdGEgaW4gYXJyYXlzJywgKCkgPT4ge1xuICAgICAgY29uc3QgbWV0YWRhdGEgPSB7XG4gICAgICAgIGl0ZW1zOiBbXG4gICAgICAgICAgeyBuYW1lOiAnaXRlbTEnLCBzZWNyZXQ6ICdzZWNyZXQxJyB9LFxuICAgICAgICAgIHsgbmFtZTogJ2l0ZW0yJywgc2VjcmV0OiAnc2VjcmV0MicgfVxuICAgICAgICBdXG4gICAgICB9O1xuXG4gICAgICBsb2dnZXIuaW5mbygnVGVzdCBtZXNzYWdlJywgdW5kZWZpbmVkLCBtZXRhZGF0YSk7XG5cbiAgICAgIGNvbnN0IGxvZ0NhbGwgPSBtb2NrQ29uc29sZS5pbmZvLm1vY2suY2FsbHNbMF1bMF07XG4gICAgICBjb25zdCBsb2dFbnRyeSA9IEpTT04ucGFyc2UobG9nQ2FsbCk7XG5cbiAgICAgIGV4cGVjdChsb2dFbnRyeS5tZXRhZGF0YS5pdGVtc1swXS5uYW1lKS50b0JlKCdpdGVtMScpO1xuICAgICAgZXhwZWN0KGxvZ0VudHJ5Lm1ldGFkYXRhLml0ZW1zWzBdLnNlY3JldCkudG9CZSgnW01BU0tFRF0nKTtcbiAgICAgIGV4cGVjdChsb2dFbnRyeS5tZXRhZGF0YS5pdGVtc1sxXS5uYW1lKS50b0JlKCdpdGVtMicpO1xuICAgICAgZXhwZWN0KGxvZ0VudHJ5Lm1ldGFkYXRhLml0ZW1zWzFdLnNlY3JldCkudG9CZSgnW01BU0tFRF0nKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1BlcmZvcm1hbmNlIFRpbWluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHRyYWNrIG9wZXJhdGlvbiB0aW1pbmcnLCAoKSA9PiB7XG4gICAgICBjb25zdCB0aW1lcklkID0gbG9nZ2VyLnN0YXJ0VGltZXIoJ3Rlc3Qtb3BlcmF0aW9uJywgJ2NvcnJlbGF0aW9uLTEyMycsIHsga2V5OiAndmFsdWUnIH0pO1xuXG4gICAgICBleHBlY3QodHlwZW9mIHRpbWVySWQpLnRvQmUoJ3N0cmluZycpO1xuICAgICAgZXhwZWN0KGxvZ2dlci5nZXRBY3RpdmVUaW1lckNvdW50KCkpLnRvQmUoMSk7XG5cbiAgICAgIC8vIFNpbXVsYXRlIHNvbWUgd29ya1xuICAgICAgY29uc3QgZHVyYXRpb24gPSBsb2dnZXIuZW5kVGltZXIodGltZXJJZCwgeyByZXN1bHQ6ICdzdWNjZXNzJyB9KTtcblxuICAgICAgZXhwZWN0KHR5cGVvZiBkdXJhdGlvbikudG9CZSgnbnVtYmVyJyk7XG4gICAgICBleHBlY3QoZHVyYXRpb24pLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgICBleHBlY3QobG9nZ2VyLmdldEFjdGl2ZVRpbWVyQ291bnQoKSkudG9CZSgwKTtcblxuICAgICAgLy8gQ2hlY2sgdGhhdCBwZXJmb3JtYW5jZSBsb2cgd2FzIHdyaXR0ZW5cbiAgICAgIGV4cGVjdChtb2NrQ29uc29sZS5kZWJ1ZykudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpOyAvLyBTdGFydCB0aW1lclxuICAgICAgZXhwZWN0KG1vY2tDb25zb2xlLmluZm8pLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTsgIC8vIEVuZCB0aW1lclxuXG4gICAgICBjb25zdCBlbmRMb2dDYWxsID0gbW9ja0NvbnNvbGUuaW5mby5tb2NrLmNhbGxzWzBdWzBdO1xuICAgICAgY29uc3QgZW5kTG9nRW50cnkgPSBKU09OLnBhcnNlKGVuZExvZ0NhbGwpO1xuXG4gICAgICBleHBlY3QoZW5kTG9nRW50cnkub3BlcmF0aW9uKS50b0JlKCd0ZXN0LW9wZXJhdGlvbicpO1xuICAgICAgZXhwZWN0KGVuZExvZ0VudHJ5LmR1cmF0aW9uKS50b0JlKGR1cmF0aW9uKTtcbiAgICAgIGV4cGVjdChlbmRMb2dFbnRyeS5jb3JyZWxhdGlvbklkKS50b0JlKCdjb3JyZWxhdGlvbi0xMjMnKTtcbiAgICAgIGV4cGVjdChlbmRMb2dFbnRyeS5tZXRhZGF0YS5rZXkpLnRvQmUoJ3ZhbHVlJyk7XG4gICAgICBleHBlY3QoZW5kTG9nRW50cnkubWV0YWRhdGEucmVzdWx0KS50b0JlKCdzdWNjZXNzJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBpbnZhbGlkIHRpbWVyIElEcycsICgpID0+IHtcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gbG9nZ2VyLmVuZFRpbWVyKCdpbnZhbGlkLXRpbWVyLWlkJyk7XG5cbiAgICAgIGV4cGVjdChkdXJhdGlvbikudG9CZU51bGwoKTtcbiAgICAgIGV4cGVjdChtb2NrQ29uc29sZS53YXJuKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRpc2FibGUgcGVyZm9ybWFuY2UgbG9nZ2luZyB3aGVuIGNvbmZpZ3VyZWQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBub1BlcmZvcm1hbmNlTG9nZ2VyID0gbmV3IExvZ2dlcih7XG4gICAgICAgIC4uLnRlc3RDb25maWcsXG4gICAgICAgIGVuYWJsZVBlcmZvcm1hbmNlTG9nZ2luZzogZmFsc2VcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB0aW1lcklkID0gbm9QZXJmb3JtYW5jZUxvZ2dlci5zdGFydFRpbWVyKCd0ZXN0LW9wZXJhdGlvbicpO1xuICAgICAgbm9QZXJmb3JtYW5jZUxvZ2dlci5lbmRUaW1lcih0aW1lcklkKTtcblxuICAgICAgZXhwZWN0KG1vY2tDb25zb2xlLmRlYnVnKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KG1vY2tDb25zb2xlLmluZm8pLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTcGVjaWFsaXplZCBMb2dnaW5nIE1ldGhvZHMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBsb2cgSFRUUCByZXF1ZXN0cycsICgpID0+IHtcbiAgICAgIGxvZ2dlci5sb2dIdHRwUmVxdWVzdCgnR0VUJywgJy9hcGkvdGVzdCcsIDIwMCwgMTUwLCAnY29ycmVsYXRpb24tMTIzJywge1xuICAgICAgICB1c2VyQWdlbnQ6ICd0ZXN0LWFnZW50J1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChtb2NrQ29uc29sZS5pbmZvKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG4gICAgICBjb25zdCBsb2dDYWxsID0gbW9ja0NvbnNvbGUuaW5mby5tb2NrLmNhbGxzWzBdWzBdO1xuICAgICAgY29uc3QgbG9nRW50cnkgPSBKU09OLnBhcnNlKGxvZ0NhbGwpO1xuXG4gICAgICBleHBlY3QobG9nRW50cnkubWVzc2FnZSkudG9CZSgnSFRUUCBHRVQgL2FwaS90ZXN0IC0gMjAwJyk7XG4gICAgICBleHBlY3QobG9nRW50cnkub3BlcmF0aW9uKS50b0JlKCdodHRwX3JlcXVlc3QnKTtcbiAgICAgIGV4cGVjdChsb2dFbnRyeS5kdXJhdGlvbikudG9CZSgxNTApO1xuICAgICAgZXhwZWN0KGxvZ0VudHJ5LmNvcnJlbGF0aW9uSWQpLnRvQmUoJ2NvcnJlbGF0aW9uLTEyMycpO1xuICAgICAgZXhwZWN0KGxvZ0VudHJ5Lm1ldGFkYXRhLm1ldGhvZCkudG9CZSgnR0VUJyk7XG4gICAgICBleHBlY3QobG9nRW50cnkubWV0YWRhdGEudXJsKS50b0JlKCcvYXBpL3Rlc3QnKTtcbiAgICAgIGV4cGVjdChsb2dFbnRyeS5tZXRhZGF0YS5zdGF0dXNDb2RlKS50b0JlKDIwMCk7XG4gICAgICBleHBlY3QobG9nRW50cnkubWV0YWRhdGEudXNlckFnZW50KS50b0JlKCd0ZXN0LWFnZW50Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGxvZyBIVFRQIHJlcXVlc3RzIGFzIHdhcm5pbmdzIGZvciBlcnJvciBzdGF0dXMgY29kZXMnLCAoKSA9PiB7XG4gICAgICBsb2dnZXIubG9nSHR0cFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS9lcnJvcicsIDUwMCwgMjAwKTtcblxuICAgICAgZXhwZWN0KG1vY2tDb25zb2xlLndhcm4pLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgICAgIGNvbnN0IGxvZ0NhbGwgPSBtb2NrQ29uc29sZS53YXJuLm1vY2suY2FsbHNbMF1bMF07XG4gICAgICBjb25zdCBsb2dFbnRyeSA9IEpTT04ucGFyc2UobG9nQ2FsbCk7XG5cbiAgICAgIGV4cGVjdChsb2dFbnRyeS5sZXZlbCkudG9CZSgnV0FSTicpO1xuICAgICAgZXhwZWN0KGxvZ0VudHJ5Lm1lc3NhZ2UpLnRvQmUoJ0hUVFAgUE9TVCAvYXBpL2Vycm9yIC0gNTAwJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGxvZyBkYXRhYmFzZSBvcGVyYXRpb25zJywgKCkgPT4ge1xuICAgICAgbG9nZ2VyLmxvZ0RhdGFiYXNlT3BlcmF0aW9uKCdTRUxFQ1QnLCAndXNlcnMnLCA1MCwgMTAsICdjb3JyZWxhdGlvbi0xMjMnKTtcblxuICAgICAgZXhwZWN0KG1vY2tDb25zb2xlLmRlYnVnKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG4gICAgICBjb25zdCBsb2dDYWxsID0gbW9ja0NvbnNvbGUuZGVidWcubW9jay5jYWxsc1swXVswXTtcbiAgICAgIGNvbnN0IGxvZ0VudHJ5ID0gSlNPTi5wYXJzZShsb2dDYWxsKTtcblxuICAgICAgZXhwZWN0KGxvZ0VudHJ5Lm1lc3NhZ2UpLnRvQmUoJ0RhdGFiYXNlIFNFTEVDVCBvbiB1c2VycycpO1xuICAgICAgZXhwZWN0KGxvZ0VudHJ5Lm9wZXJhdGlvbikudG9CZSgnZGF0YWJhc2Vfb3BlcmF0aW9uJyk7XG4gICAgICBleHBlY3QobG9nRW50cnkuZHVyYXRpb24pLnRvQmUoNTApO1xuICAgICAgZXhwZWN0KGxvZ0VudHJ5Lm1ldGFkYXRhLm9wZXJhdGlvbikudG9CZSgnU0VMRUNUJyk7XG4gICAgICBleHBlY3QobG9nRW50cnkubWV0YWRhdGEudGFibGUpLnRvQmUoJ3VzZXJzJyk7XG4gICAgICBleHBlY3QobG9nRW50cnkubWV0YWRhdGEucm93Q291bnQpLnRvQmUoMTApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBsb2cgY2FjaGUgb3BlcmF0aW9ucycsICgpID0+IHtcbiAgICAgIGxvZ2dlci5sb2dDYWNoZU9wZXJhdGlvbignR0VUJywgJ3VzZXI6MTIzJywgdHJ1ZSwgNSwgJ2NvcnJlbGF0aW9uLTEyMycpO1xuXG4gICAgICBleHBlY3QobW9ja0NvbnNvbGUuZGVidWcpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgICAgIGNvbnN0IGxvZ0NhbGwgPSBtb2NrQ29uc29sZS5kZWJ1Zy5tb2NrLmNhbGxzWzBdWzBdO1xuICAgICAgY29uc3QgbG9nRW50cnkgPSBKU09OLnBhcnNlKGxvZ0NhbGwpO1xuXG4gICAgICBleHBlY3QobG9nRW50cnkubWVzc2FnZSkudG9CZSgnQ2FjaGUgR0VUIGZvciB1c2VyOjEyMyAtIEhJVCcpO1xuICAgICAgZXhwZWN0KGxvZ0VudHJ5Lm9wZXJhdGlvbikudG9CZSgnY2FjaGVfb3BlcmF0aW9uJyk7XG4gICAgICBleHBlY3QobG9nRW50cnkuZHVyYXRpb24pLnRvQmUoNSk7XG4gICAgICBleHBlY3QobG9nRW50cnkubWV0YWRhdGEub3BlcmF0aW9uKS50b0JlKCdHRVQnKTtcbiAgICAgIGV4cGVjdChsb2dFbnRyeS5tZXRhZGF0YS5rZXkpLnRvQmUoJ3VzZXI6MTIzJyk7XG4gICAgICBleHBlY3QobG9nRW50cnkubWV0YWRhdGEuaGl0KS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBsb2cgc2VjdXJpdHkgZXZlbnRzJywgKCkgPT4ge1xuICAgICAgbG9nZ2VyLmxvZ1NlY3VyaXR5RXZlbnQoJ0ludmFsaWQgbG9naW4gYXR0ZW1wdCcsICdoaWdoJywgJ2NvcnJlbGF0aW9uLTEyMycsIHtcbiAgICAgICAgaXA6ICcxOTIuMTY4LjEuMScsXG4gICAgICAgIHVzZXJuYW1lOiAnYWRtaW4nXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KG1vY2tDb25zb2xlLmVycm9yKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG4gICAgICBjb25zdCBsb2dDYWxsID0gbW9ja0NvbnNvbGUuZXJyb3IubW9jay5jYWxsc1swXVswXTtcbiAgICAgIGNvbnN0IGxvZ0VudHJ5ID0gSlNPTi5wYXJzZShsb2dDYWxsKTtcblxuICAgICAgZXhwZWN0KGxvZ0VudHJ5LmxldmVsKS50b0JlKCdFUlJPUicpO1xuICAgICAgZXhwZWN0KGxvZ0VudHJ5Lm1lc3NhZ2UpLnRvQmUoJ1NlY3VyaXR5IGV2ZW50OiBJbnZhbGlkIGxvZ2luIGF0dGVtcHQnKTtcbiAgICAgIGV4cGVjdChsb2dFbnRyeS5vcGVyYXRpb24pLnRvQmUoJ3NlY3VyaXR5X2V2ZW50Jyk7XG4gICAgICBleHBlY3QobG9nRW50cnkubWV0YWRhdGEuZXZlbnQpLnRvQmUoJ0ludmFsaWQgbG9naW4gYXR0ZW1wdCcpO1xuICAgICAgZXhwZWN0KGxvZ0VudHJ5Lm1ldGFkYXRhLnNldmVyaXR5KS50b0JlKCdoaWdoJyk7XG4gICAgICBleHBlY3QobG9nRW50cnkubWV0YWRhdGEuaXApLnRvQmUoJzE5Mi4xNjguMS4xJyk7XG4gICAgICBleHBlY3QobG9nRW50cnkubWV0YWRhdGEudXNlcm5hbWUpLnRvQmUoJ2FkbWluJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGxvZyBjcml0aWNhbCBzZWN1cml0eSBldmVudHMgYXMgZmF0YWwnLCAoKSA9PiB7XG4gICAgICBsb2dnZXIubG9nU2VjdXJpdHlFdmVudCgnU3lzdGVtIGNvbXByb21pc2UgZGV0ZWN0ZWQnLCAnY3JpdGljYWwnKTtcblxuICAgICAgZXhwZWN0KG1vY2tDb25zb2xlLmVycm9yKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG4gICAgICBjb25zdCBsb2dDYWxsID0gbW9ja0NvbnNvbGUuZXJyb3IubW9jay5jYWxsc1swXVswXTtcbiAgICAgIGNvbnN0IGxvZ0VudHJ5ID0gSlNPTi5wYXJzZShsb2dDYWxsKTtcblxuICAgICAgZXhwZWN0KGxvZ0VudHJ5LmxldmVsKS50b0JlKCdGQVRBTCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRmlsZSBMb2dnaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgd3JpdGUgdG8gZmlsZSB3aGVuIGVuYWJsZWQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBmaWxlTG9nZ2VyID0gbmV3IExvZ2dlcih7XG4gICAgICAgIC4uLnRlc3RDb25maWcsXG4gICAgICAgIGVuYWJsZUZpbGU6IHRydWUsXG4gICAgICAgIGZpbGVQYXRoOiAnLi90ZXN0LmxvZydcbiAgICAgIH0pO1xuXG4gICAgICBtb2NrRnMuZXhpc3RzU3luYy5tb2NrUmV0dXJuVmFsdWUoZmFsc2UpO1xuXG4gICAgICBmaWxlTG9nZ2VyLmluZm8oJ1Rlc3QgbWVzc2FnZScpO1xuXG4gICAgICBleHBlY3QobW9ja0ZzLm1rZGlyU3luYykudG9IYXZlQmVlbkNhbGxlZFdpdGgocGF0aC5kaXJuYW1lKCcuL3Rlc3QubG9nJyksIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuICAgICAgZXhwZWN0KG1vY2tGcy5hcHBlbmRGaWxlU3luYykudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy4vdGVzdC5sb2cnLCBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnXCJtZXNzYWdlXCI6XCJUZXN0IG1lc3NhZ2VcIicpKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGZpbGUgd3JpdGUgZXJyb3JzIGdyYWNlZnVsbHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBmaWxlTG9nZ2VyID0gbmV3IExvZ2dlcih7XG4gICAgICAgIC4uLnRlc3RDb25maWcsXG4gICAgICAgIGVuYWJsZUZpbGU6IHRydWUsXG4gICAgICAgIGZpbGVQYXRoOiAnLi90ZXN0LmxvZydcbiAgICAgIH0pO1xuXG4gICAgICBtb2NrRnMuYXBwZW5kRmlsZVN5bmMubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGaWxlIHdyaXRlIGVycm9yJyk7XG4gICAgICB9KTtcblxuICAgICAgZmlsZUxvZ2dlci5pbmZvKCdUZXN0IG1lc3NhZ2UnKTtcblxuICAgICAgZXhwZWN0KG1vY2tDb25zb2xlLmVycm9yKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnRmFpbGVkIHRvIHdyaXRlIHRvIGxvZyBmaWxlOicsIGV4cGVjdC5hbnkoRXJyb3IpKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0NvcnJlbGF0aW9uIElEIEdlbmVyYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSB1bmlxdWUgY29ycmVsYXRpb24gSURzJywgKCkgPT4ge1xuICAgICAgY29uc3QgaWQxID0gTG9nZ2VyLmdlbmVyYXRlQ29ycmVsYXRpb25JZCgpO1xuICAgICAgY29uc3QgaWQyID0gTG9nZ2VyLmdlbmVyYXRlQ29ycmVsYXRpb25JZCgpO1xuXG4gICAgICBleHBlY3QodHlwZW9mIGlkMSkudG9CZSgnc3RyaW5nJyk7XG4gICAgICBleHBlY3QodHlwZW9mIGlkMikudG9CZSgnc3RyaW5nJyk7XG4gICAgICBleHBlY3QoaWQxKS5ub3QudG9CZShpZDIpO1xuICAgICAgZXhwZWN0KGlkMS5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChpZDIubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb25maWd1cmF0aW9uIE1hbmFnZW1lbnQnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gY3VycmVudCBjb25maWd1cmF0aW9uJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29uZmlnID0gbG9nZ2VyLmdldENvbmZpZygpO1xuXG4gICAgICBleHBlY3QoY29uZmlnKS50b0VxdWFsKHRlc3RDb25maWcpO1xuICAgICAgZXhwZWN0KGNvbmZpZykubm90LnRvQmUodGVzdENvbmZpZyk7IC8vIFNob3VsZCBiZSBhIGNvcHlcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY2xlYXIgYWxsIHRpbWVycycsICgpID0+IHtcbiAgICAgIGxvZ2dlci5zdGFydFRpbWVyKCd0aW1lcjEnKTtcbiAgICAgIGxvZ2dlci5zdGFydFRpbWVyKCd0aW1lcjInKTtcblxuICAgICAgZXhwZWN0KGxvZ2dlci5nZXRBY3RpdmVUaW1lckNvdW50KCkpLnRvQmUoMik7XG5cbiAgICAgIGxvZ2dlci5jbGVhclRpbWVycygpO1xuXG4gICAgICBleHBlY3QobG9nZ2VyLmdldEFjdGl2ZVRpbWVyQ291bnQoKSkudG9CZSgwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Vycm9yIEhhbmRsaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGVycm9ycyB3aXRoIGN1c3RvbSBjb2RlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCdDdXN0b20gZXJyb3InKSBhcyBhbnk7XG4gICAgICBlcnJvci5jb2RlID0gJ0NVU1RPTV9FUlJPUic7XG4gICAgICBlcnJvci5zdGF0dXNDb2RlID0gNDAwO1xuXG4gICAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIHdpdGggY29kZScsIGVycm9yKTtcblxuICAgICAgY29uc3QgbG9nQ2FsbCA9IG1vY2tDb25zb2xlLmVycm9yLm1vY2suY2FsbHNbMF1bMF07XG4gICAgICBjb25zdCBsb2dFbnRyeSA9IEpTT04ucGFyc2UobG9nQ2FsbCk7XG5cbiAgICAgIGV4cGVjdChsb2dFbnRyeS5lcnJvci5jb2RlKS50b0JlKCdDVVNUT01fRVJST1InKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbGltaXQgc3RhY2sgdHJhY2UgbGluZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcignVGVzdCBlcnJvcicpO1xuICAgICAgZXJyb3Iuc3RhY2sgPSBBcnJheSgyMCkuZmlsbCgwKS5tYXAoKF8sIGkpID0+IGAgICAgYXQgbGluZSR7aX1gKS5qb2luKCdcXG4nKTtcblxuICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciB3aXRoIGxvbmcgc3RhY2snLCBlcnJvcik7XG5cbiAgICAgIGNvbnN0IGxvZ0NhbGwgPSBtb2NrQ29uc29sZS5lcnJvci5tb2NrLmNhbGxzWzBdWzBdO1xuICAgICAgY29uc3QgbG9nRW50cnkgPSBKU09OLnBhcnNlKGxvZ0NhbGwpO1xuXG4gICAgICBjb25zdCBzdGFja0xpbmVzID0gbG9nRW50cnkuZXJyb3Iuc3RhY2suc3BsaXQoJ1xcbicpO1xuICAgICAgZXhwZWN0KHN0YWNrTGluZXMubGVuZ3RoKS50b0JlTGVzc1RoYW5PckVxdWFsKHRlc3RDb25maWcubWF4U3RhY2tUcmFjZUxpbmVzKTtcbiAgICB9KTtcbiAgfSk7XG59KTsiXSwidmVyc2lvbiI6M30=